<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" /><title>CASB Configuration Guide</title>
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <script>/* <![CDATA[ */
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-15777010-10', 'auto');
			ga('send', 'pageview');

		/* ]]> */</script>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div>
                        <nav class="title-bar tab-bar" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="../ReleaseNotes/okta-relnotes.htm" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="3" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container" data-mc-content-body="True">
                                <div class="LeftRightTopRow">
                                    <div>
                                        <div>
                                        </div>
                                        <div class="toolbar-main">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                        <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <p />
                                    </div>
                                </div>
                                <div class="LeftRightMenu">
                                    <div>
                                        <div class="body-main">
                                            <h1>CASB Configuration Guide</h1>
                                            <h2>About CASB</h2>
                                            <p>A cloud access security broker (CASB) is a software tool or service that sits between an organization's on-premises infrastructure and a cloud provider's infrastructure. A CASB acts as a gatekeeper, allowing the organization to extend the reach of their security policies beyond their own infrastructure. (<a href="http://searchcloudsecurity.techtarget.com/">searchcloudsecurity.techtarget.com</a>)</p>
                                            <h2>CASB and the Okta OIN</h2>
                                            <p>To simplify integrating with in path/reverse proxy CASBs, Okta has developed functionality that allows admins to override various default settings associated with our published <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">OIN<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for the Okta Integration Network. The OIN is comprised of thousands of public, pre-integrated business and consumer applications. As an on-demand service, OIN integrations are continuously validated, always up to date, and constantly growing both in number and capability. Okta performs a single integration with an ISV or SP, providing thousands of end users with point-and-click customization for their orgs.</span></a> apps that use <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IDP, and the SP.</span></a> for federation. The settings can also be applied to Microsoft Office 365 <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a>.</p>
                                            <p>The values that can be overridden are:</p>
                                            <ul>
                                                <li value="1">Assertion Consumer Service URL (ACS)</li>
                                                <li value="2">Audience</li>
                                                <li value="3">Recipient</li>
                                                <li value="4">Destination</li>
                                            </ul>
                                            <p>To override these settings admins must use our API to populate the <span style="font-family: 'Courier New'; font-size: 11pt;">$app.settings.signOn</span> object with the appropriate override values which are:</p>
                                            <table style="width: 100%;">
                                                <col />
                                                <col />
                                                <col />
                                                <thead>
                                                    <tr>
                                                        <th style="text-align: left;">SAML&#160;Property</th>
                                                        <th style="text-align: left;">SignOn</th>
                                                        <th style="text-align: left;">Example Value</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr>
                                                        <td>Assertion Consumer Service URL</td>
                                                        <td>ssoAcsUrlOverride</td>
                                                        <td>https://casb-provider.com/ssoAcsUrlOverride</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Audience

</td>
                                                        <td>audienceOverride</td>
                                                        <td>https://casb-provider.com/audienceOverride</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Destination</td>
                                                        <td>destinationOverride</td>
                                                        <td>https://casb-provider.com/destinationOverride</td>
                                                    </tr>
                                                    <tr>
                                                        <td>Recipient</td>
                                                        <td>recipientOverride</td>
                                                        <td>https://casb-provider.com/recipientOverride</td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                            <h2>Configure CASB for a Specific App</h2>
                                            <p>Here is an example of how to configure CASB for a specific app:</p>
                                            <p>You can use an iframe to embed an end-user home page into your existing portal. </p>
                                            <ol>
                                                <li value="1">
                                                    <p> This is an Early Access feature. Contact support to enable it ( SAML2_CASB_SUPPORT).</p>
                                                </li>
                                                <li value="2">
                                                    <p> In Okta, navigate to  <b>Security &gt; API</b>, then create a new <a href="../Security/API.htm"><b>API Token</b></a>.</p>
                                                </li>
                                                <li value="3">
                                                    <p>Get the app details by making an API&#160;call as follows:
				
				</p><pre xml:space="preserve">
curl -X GET \
  https://{{Okta host}}/api/v1/apps/{{App ID}} \
  -H 'Authorization: SSWS {{ API Key }}' \
  -H 'Accept: application/json'
</pre>
                                                    <p>Where API&#160;ID can be obtained from you app's URL, as shown here:&#160;</p>
                                                    <p>
                                                        <img src="../../Resources/Images/casb-1.png" />
                                                    </p>
                                                </li>
                                                <li value="4">
                                                    <p>Copy the API response into a text editor.</p>
                                                </li>
                                                <li value="5">
                                                    <p>Update the app data by means of an API call as shown in the example below.</p>
                                                    <p><strong>Notes</strong>: The  attributes displayed are the minimum required ones. Replace the actual values with your saved data (see the <strong>signOn</strong> section in your API&#160;response).</p>
                                                    <p>&#160;</p><pre xml:space="preserve">
curl -X PUT \
  https://{{Okta host}}/api/v1/apps/{{App ID}} \
  -H 'Authorization: SSWS {{ API Key }}' \
  -H 'Accept: application/json' \
  -H 'Content-Type: application/json' \
  -d '{ 
    "label": "Amazon Web Services",
    "name": "amazon_aws",
    "signOnMode": "SAML_2_0",
    "settings": {
      "app": {
        "appFilter": null,
        "awsEnvironmentType": "aws.amazon",
        "groupFilter": "aws_(?{{accountid}}\\d+)_(?{{role}}[a-zA-Z0-9+=,.@\\-_]+)",
        "secretKey": null,
        "accessKey": null,
        "loginURL": "https://console.aws.amazon.com/ec2/home",
        "identityProviderArn": "arn:aws:iam::456272127071:saml-provider/OktaRainVladDobrikov2,arn:aws:iam::456272127071:role/RoleOktaRainVladDobrikov",
        "overrideAcsURL": null,
        "sessionDuration": 3600,
        "secretKeyEnc": null,
        "roleValuePattern": "arn:aws:iam::${accountid}:saml-provider/OKTA,arn:aws:iam::${accountid}:role/${role}"
      },
      "signOn": {
        "defaultRelayState": "defaultRelayStateOverride",
        "ssoAcsUrlOverride": "https://casb-provider.com/ssoAcsUrlOverride",
        "audienceOverride": "https://casb-provider.com/audienceOverride",
        "recipientOverride": "https://casb-provider.com/recipientOverride",
        "destinationOverride": "https://casb-provider.com/destinationOverride"
      }
    }
  }'
                </pre>
                                                </li>
                                                <li value="6">
                                                    <p>Perform a SAML login from Okta for the application you just updated.</p>
                                                </li>
                                            </ol><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="Footer">
                                    <div>
                                        <p class="copyright">Â© Copyright <span class="okta-variablesYear">2018</span> <span class="okta-variablesCompanyName">Okta, Inc</span></p>
                                    </div>
                                </div>
                                <script src="../../Resources/Scripts/js/app.js">
                                </script>
                                <!-- <script src="../../Resources/Scripts/js/vendor/jquery.js"></script> -->
                                <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                </script>
                                <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                </script>
                                <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                </script>
                                <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                </script>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>