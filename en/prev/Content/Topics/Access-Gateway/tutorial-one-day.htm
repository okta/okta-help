<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false" data-mc-toc-path="">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Okta Access Gateway One Day Admin | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], 
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-TJ45R6');
			/* ]]> */
		</script>
        <!-- End Google Tag Manager -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" />
        <link href="../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" />
        <link href="../../Resources/Stylesheets/okta-main.css" rel="stylesheet" />
        <link href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" rel="stylesheet" />
        <style>/*&lt;meta /&gt;*/

.button.expand-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/expand-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.button.collapse-all-button
{
	-pie-background: url('../../../Skins/Default/Stylesheets/Images/collapse-all-non-hover-sm.png') no-repeat center center, linear-gradient(#fff, #fff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../Resources/TableStyles/standard-no-header.css" rel="stylesheet" />
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" />
        <script src="../../../Resources/Scripts/custom.modernizr.js">
        </script>
        <script src="../../../Resources/Scripts/jquery.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.min.js">
        </script>
        <script src="../../../Resources/Scripts/require.config.js">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js">
        </script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="small" data-mc-ignore="true">
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <button class="menu-icon" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" placeholder="Search" />
                                                <div class="search-filter-wrapper">
                                                    <div class="search-filter">
                                                        <div class="search-filter-content">
                                                            <ul>
                                                                <li>All Files</li>
                                                            </ul>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search">
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <section class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <div class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </div>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-TJ45R6" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="okta-coveo-configOrgId">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="okta-coveo-configPlatformRestUri">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="okta-coveo-configSearchPageUrl">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="okta-coveo-configSearchTokenServiceUrl">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************************* Coveo Search bar ************************************* -->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Left Nav Col *** -->
                                        <div class="is-not-in-mobile">
                                            <div data-sticky-container="" id="Fta-kmuGW0mmVlz2mUoGSQ">
                                                <div class="sticky sticky-menu" style="width:100%" data-sticky="" data-top-anchor="Fta-kmuGW0mmVlz2mUoGSQ:top" data-bottom-anchor="contentBody:bottom" data-sticky-on="small" data-scroll-container-on="small">
                                                    <ul class="nocontent menu _Skins_okta_left_menu mc-component" data-mc-linked-toc="Data/Tocs/left_nav_TOC.js" data-mc-side-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- *** Col2: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                            </div>
                                            <div class="toolbar-main">
                                                <!-- Expand/Collapse All for drop-downs -->
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie expand-all-button" data-state1-class="expand-all-button" data-state2-class="collapse-all-button" data-state2-title="Collapse all" title="Expand all" data-state1-title="Expand all">
                                                            <img src="../../../Skins/Default/Stylesheets/Images/transparent.gif" alt="expand all" />
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <h1>Okta Access Gateway One Day Admin</h1>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <p><b>Table of Contents</b>
                                                    </p>
                                                    <ul style="list-style-type: square;">
                                                        <li value="1"><a href="#Introduction" class="MCXref xref">Introduction</a>
                                                        </li>
                                                        <li value="2"><a href="#Deployment" class="MCXref xref">Deploy the Gateway</a>
                                                        </li>
                                                        <li value="3"><a href="#Configur2" class="MCXref xref">Integrate with Okta</a>
                                                        </li>
                                                        <li value="4"><a href="#Protecti" class="MCXref xref">Protect Applications</a>
                                                        </li>
                                                        <li value="5"><a href="#Configur" class="MCXref xref">Configure High Availability</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Preface"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Preface</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <div>
                                                            <p><i>Okta Access Gateway 1 Day <span class="disableGlossary">Admin</span></i> is an Access Gateway quick start guide that teaches you how to deploy and configure Okta Access Gateway..<br />The goal of this guide is to help you perform four specific tasks to get your Access Gateway up and running. Note that this guide is a compilation of the deployment, integration and core configuration of Access Gateway.</p>
                                                            <div>
                                                                <h2><a name="Audience"></a>Audience</h2>
                                                                <p>Okta Access Gateway 1 Day <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Admin<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of administrator. This is the individual(s) who have access to the Okta Administrator Dashboard. They control the provisioning and deprovisioning of end users, the assigning of apps, the resetting of passwords, and the overall end user experience. Only administrators have the Administration button on the upper right side of the My Applications page.</span></a> is for anyone who wants to perform basic deployment and integration tasks with Okta Access Gateway. Administrators following this guide should have a complete, highly available Access Gateway cluster when complete. &#160;Developers can use this guide, skipping the high availability sections, to create a complete development environment.<br /><br />No experience with Access Gateway is required, but you'll need a basic knowledge of networks, firewalls, and high availability.
<br />Specifically this guide covers these steps:</p>
                                                                <ol>
                                                                    <li value="1">Deploy the gateway- How to deploy the Access Gateway virtual appliance in one of a number of VM environments</li>
                                                                    <li value="2">Integrate the gateway with Okta- How to integrate Access Gateway with your Okta <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">org<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>The Okta container that represents a real-world organization.</span></a>.</li>
                                                                    <li value="3">Integrate your first application- How to integrate the one or more of the sample applications. </li>
                                                                    <li value="4">Configure High Availability - How to configure an Access Gateway cluster to support High Availability.<br /></li>
                                                                </ol>
                                                                <p>
                                                                    <br />
                                                                </p>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Introduction"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Introduction</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <div>
                                                                <p>You can use Okta <span class="okta-feature-namesAccess Gateway">Access Gateway</span> to connect Okta to on-premises applications that use header-based, <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Kerberos<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Kerberos is a computer-network authentication protocol that works on the basis of tickets to allow nodes communicating over a non-secure network to prove their identity to one another in a secure manner.</span></a>, URL-based authorization and more.</p>
                                                                <p><span class="okta-feature-namesAccess Gateway">Access Gateway</span> helps you to seamlessly integrate your on-premise applications with Okta's Cloud <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SSO<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for single sign-on. In a SSO system, a user logs in once to the system and can access multiple systems without being prompted to sign in for each one. Okta is a cloud-based SSO platform that allows users to enter one name and password to access multiple applications. Users can access all of their web applications, both behind the firewall and in the cloud, with a single sign in. Okta provides a seamless experience across PCs, laptops, tablets, and smartphones.</span></a> capabilities.</p>
                                                                <p><span class="okta-feature-namesAccess Gateway">Access Gateway</span> is an ideal solution for any Okta customer where:</p>
                                                                <ul>
                                                                    <li value="1">
                                                                        <p>Your enterprise wants to unify all IAM under an Okta platform, but requires integration with applications that do not support federation (<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">SAML<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An acronym for Security Assertion Markup Language, SAML is an XML-based standard for exchanging authentication and authorization data between an identity provider (IdP) and a service provider (SP). The SAML standard addresses issues unique to the single sign-on (SSO) solution, and defines three roles: the end user, the IdP, and the SP.

Here's how SAML works through Okta:

SP-initiated flow: the end user requests (principally through a browser) a service from the SP. The SP requests and obtains an identity assertion from the IdP (in this case, Okta). On the basis of this assertion, the SP can decide whether or not to authorize or authenticate the service for the end user.
IdP-initiated flow: with Okta as the IdP, an end user goes to the Okta browser and clicks on an app, sending a SAMLResponse to the configured SP. A session is established with the SP, and the end user is authenticated.</span></a>, WS-Fed).</p>
                                                                    </li>
                                                                    <li value="2">
                                                                        <p>Your vendors, customers, or partners must access your internal business applications (such as SharePoint, Oracle E-Business Suite, and others) from the internet.</p>
                                                                    </li>
                                                                    <li value="3">
                                                                        <p>You must restrict unauthorized network access to your applications.</p>
                                                                    </li>
                                                                    <li value="4">
                                                                        <p>Your enterprise has web applications that lack a native authentication mechanism.</p>
                                                                    </li>
                                                                    <li value="5">
                                                                        <p>Your company is looking for a cost-effective replacement for your on-premise Web Access Management (WAM) solution.</p>
                                                                    </li>
                                                                </ul>
                                                                <p>Installing the <span class="okta-feature-namesAccess Gateway">Access Gateway</span> on your own virtualization platform, or on a cloud-based computing platform (such AWS, Google, Azure and others), is a simple process. <span class="okta-feature-namesAccess Gateway">Access Gateway</span> is a high-performance appliance that is installed within your hosting solution of choice and leverages your DNS and networking to provide services. <br /></p>
                                                                <p>&#160;</p>
                                                                <div>
                                                                    <p>An <span class="okta-feature-namesAccess Gateway">Access Gateway</span> deployment is typically composed of :</p>
                                                                    <ul>
                                                                        <li value="1"><b>Okta Tenant, or Okta Org (1)</b> - All implementations at Okta start with an Okta Tenant. Your Okta Tenant represents your real world application including users and applications, and multi-factor authentication. Users access their org and are presented with a list of administered application tiles which can be to access their applications. Your Okta tenant manages users, <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">groups<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Groups allow you to organize your end users and the apps they can access. Assigning apps to large sets of end users is made easier with groups.</span></a>, profile information and other details. &#160;Your Okta tenant can be your <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Universal Directory<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Universal Directory enables you to store an unlimited amount of users and attributes from applications and sources like AD or HR systems. Any type of attributes are supported including linked-objects, sensitive attributes, and pre-defines lists. All of it accessible by all apps in our OIN catalog, over LDAP or via API.</span></a>, can be linked to another universal directory or a combination of both. </li>
                                                                        <li value="2"><b>Virtualization Environment (2)</b> - The Okta Access Gateway is a virtual appliance and must be hosted in an appropriate virtualization environment. Access Gateway can be hosted directly on any computer which support Oracle <a href="https://www.virtualbox.org/">Virtual Box v6.0</a> or later. In additional the Access Gateway&#160;Virtual Appliance can be installed in other supported environments such as AWS, Microsoft Azure, Google Cloud, and Oracle Cloud Infrastructure. </li>
                                                                        <li value="3"><b>Virtual Appliance(3)</b> - Access Gateway is a 100% self contained virtual application. The appliance is downloaded from your Otka org using the <b>Settings &gt; Downloads</b> page and then can be deployed in any supported environment. Once deployed <span class="okta-feature-namesAccess Gateway">Access Gateway</span> can be easily managed using command line and GUI based tools. In High Availability scenarios <span class="okta-feature-namesAccess Gateway">Access Gateway</span> is deployed as many times as required to meet reliability and throughput requirements.</li>
                                                                        <li value="4"><b>Protected Applications (4)</b> - The core purpose of <span class="okta-feature-namesAccess Gateway">Access Gateway</span> is to protect application resources. These resources may be Header based applications, SAML&#160;applications, custom Web applications, Kerberos based applications, or others.</li>
                                                                        <li value="5"><b>Policy</b> - <span class="okta-feature-namesAccess Gateway">Access Gateway</span> can protect applications using fine grained application policy. Groups of users can be defined and individual parts of applications protected using various policy statements. </li>
                                                                    </ul>
                                                                    <img src="../../Resources/Images/access-gateway/access-gateway-components.png" id="img_new" alt="Access Gateway Component overview" />
                                                                </div>
                                                            </div>
                                                            <h2><a name="AboutOAG"></a>
							About Okta Access Gateway</h2>
                                                            <div>
                                                                <p>An <span class="okta-feature-namesAccess Gateway">Access Gateway</span> deployment is typically composed of :</p>
                                                                <ul>
                                                                    <li value="1"><b>Okta Tenant, or Okta Org (1)</b> - All implementations at Okta start with an Okta Tenant. Your Okta Tenant represents your real world application including users and applications, and multi-factor authentication. Users access their org and are presented with a list of administered application tiles which can be to access their applications. Your Okta tenant manages users, groups, profile information and other details. &#160;Your Okta tenant can be your Universal Directory, can be linked to another universal directory or a combination of both. </li>
                                                                    <li value="2"><b>Virtualization Environment (2)</b> - The Okta Access Gateway is a virtual appliance and must be hosted in an appropriate virtualization environment. Access Gateway can be hosted directly on any computer which support Oracle <a href="https://www.virtualbox.org/">Virtual Box v6.0</a> or later. In additional the Access Gateway&#160;Virtual Appliance can be installed in other supported environments such as AWS, Microsoft Azure, Google Cloud, and Oracle Cloud Infrastructure. </li>
                                                                    <li value="3"><b>Virtual Appliance(3)</b> - Access Gateway is a 100% self contained virtual application. The appliance is downloaded from your Otka org using the <b>Settings &gt; Downloads</b> page and then can be deployed in any supported environment. Once deployed <span class="okta-feature-namesAccess Gateway">Access Gateway</span> can be easily managed using command line and GUI based tools. In High Availability scenarios <span class="okta-feature-namesAccess Gateway">Access Gateway</span> is deployed as many times as required to meet reliability and throughput requirements.</li>
                                                                    <li value="4"><b>Protected Applications (4)</b> - The core purpose of <span class="okta-feature-namesAccess Gateway">Access Gateway</span> is to protect application resources. These resources may be Header based applications, SAML&#160;applications, custom Web applications, Kerberos based applications, or others.</li>
                                                                    <li value="5"><b>Policy</b> - <span class="okta-feature-namesAccess Gateway">Access Gateway</span> can protect applications using fine grained application policy. Groups of users can be defined and individual parts of applications protected using various policy statements. </li>
                                                                </ul>
                                                                <img src="../../Resources/Images/access-gateway/access-gateway-components.png" id="img_new" alt="Access Gateway Component overview" />
                                                            </div>
                                                            <p>&#160;</p>
                                                            <h2><a name="Tools"></a>Access Gateway Administration</h2>
                                                            <p>Access Gateway is administered using the following tools:</p>
                                                            <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard-no-header.css');" class="TableStyle-srb_no_header" cellspacing="0">
                                                                <col style="width: 358px;" class="TableStyle-srb_no_header-Column-Column1" />
                                                                <col style="width: 50%;" class="TableStyle-srb_no_header-Column-Column1" />
                                                                <tbody>
                                                                    <tr class="TableStyle-srb_no_header-Body-Body1">
                                                                        <td class="TableStyle-srb_no_header-BodyF-Column1-Body1"><b>Admin UI Console</b> </td>
                                                                        <td class="TableStyle-srb_no_header-BodyD-Column1-Body1">The Admin UI&#160;Console is the main tool for administering Access Gateway applications and identity. The Access Gateway Admin UI Console can be used to: Initially configure an instance of a virtual application;  Administer Access Gateway and Okta Organization integration; Define, administer, monitor and manage protected applications; And more.</td>
                                                                    </tr>
                                                                    <tr class="TableStyle-srb_no_header-Body-Body2">
                                                                        <td style="font-weight: bold;" class="TableStyle-srb_no_header-BodyC-Column1-Body2">Command Line Console</td>
                                                                        <td class="TableStyle-srb_no_header-BodyA-Column1-Body2">The command line console is used for more system related tasks such as: Configuring High Availability; Managing Underlying networking; Monitoring and logging; Enabling and disabling the support network; And more.</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div>
                                                    <hr width="100%" size="0" align="center" />
                                                    <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Deployment"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Deploy the Gateway</a></span>
                                                        <div class="MCDropDownBody dropDownBody">
                                                            <p>Deployment is the process of downloading and installing the Access Gateway Virtual application. Typically Access Gateway is deployed using an architecture similar to that shown in the Access Gateway Architecture diagram. However the use of High Availability is not required. Note that Access Gateway instances must be hosted in a virtual environment.<br /><br /></p>
                                                            <img src="../../Resources/Images/access-gateway/configure-high-availability.01_1200x1002.png" id="img_new" alt="Access Gateway High Availability architecture" style="width: 1200;height: 1002;" />
                                                            <p>Before deploying an instance of the Access Gateway OVA, review the following:</p>
                                                            <ul>
                                                                <li value="1"><a href="#Prerequisites" style="font-weight: bold;">Prerequisites</a> - Ensure all prerequisite requirements are met before deploying an instance of Access Gateway. </li>
                                                                <li value="2"><a href="setup-using-ovf.htm">Virtual Environments</a> - Select from the supported Virtual Machine Environments.</li>
                                                                <li value="3"><a href="#Deploy" style="font-weight: bold;">Deploy</a> - Deploy Access Gateway to the selected environment. Deployment involves the download, configuration and deployment of the Access Gateway Virtual Appliance into a select Virtual Machine environment.</li>
                                                            </ul>
                                                            <div>
                                                                <h2><a name="Prerequisites"></a>Prerequisites </h2>
                                                                <ul style="list-style-type: square;">
                                                                    <li value="1">You have reviewed all <a href="pre-install-requirements.htm" class="MCXref xref">Prerequisites for Deploying Access Gateway</a></li>
                                                                    <li value="2">Access Gateway must be resolvable via DNS and is required to have a hostname assigned in DNS.</li>
                                                                    <li value="3">Static IP Address - Access Gateway requires a static IP address and does not leverage DHCP.</li>
                                                                    <li value="4">DNS Server and&#160;DNS Hostname (<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">FQDN<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A fully qualified domain name (FQDN) is the complete domain name for a specific computer, or host, on the internet.</span></a>) - Access Gateway must be resolvable via a DNS solution that <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">end users<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>End users are people in your org without administrative control. They can authenticate into apps from the icons on their My Applications home page, but they are provisioned, deprovisioned, assigned, and managed by admins.</span></a>
			leverage. If end users will be originating from the internet, the Access Gateway solution must be publicly resolvable. It is recommended that
			split DNS be leveraged so that internal users connect to an internal IP
		address and external users connect to a public IP address.</li>
                                                                </ul>
                                                                <div class="noteOkta">
                                                                    <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                    <p class="noteHeading">Note</p>
                                                                    <p class="noteContent">All applications integrated with the Access Gateway will be served on the
			<a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">domain<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A domain is an attribute of an Okta organization. Okta uses a fully-qualified domain name, meaning it always includes the top-level domain (.com, .eu, etc.), but does not include the protocol (https).</span></a> that constitutes the FQDN.</p>
                                                                </div>
                                                            </div>
                                                            <p>&#160;</p>
                                                            <div>
                                                                <h2><a name="DeployVMWare"></a>Deploy to VMWare vSphere</h2>
                                                                <p>In this section, we examine the process for deploying Access Gateway to <a href="#DeployVMWare" class="MCXref xref">Deploy to VMWare vSphere</a><br />Access gateway can be deployed to any of the environments described in the <a href="#SupportedDeployEnvs" class="MCXref xref">Supported deployment environments </a> list.<br /></p>
                                                                <div>
                                                                    <h3><a name="Download_OVA"></a>Download the latest OVA&#160;image</h3>
                                                                    <p>To download the latest Okta Access Gateway OVA Image:</p>
                                                                    <ol>
                                                                        <li value="1">
                                                                            <p>Login to your Okta Org as Admin. </p>
                                                                        </li>
                                                                        <li value="2">
                                                                            <p>Download the Okta Access Gateway image from the <b>Settings &gt; Downloads</b> page.</p>
                                                                        </li>
                                                                        <li value="3">
                                                                            <p>When prompted save the OVA file to an appropriate location.</p>
                                                                        </li>
                                                                    </ol>
                                                                </div>
                                                                <div>
                                                                    <h3>To Import to VMWare ESXi/vSphere:</h3>
                                                                    <div>
                                                                        <p><b>Note</b>: Older versions (before 6.5) of VMWare ESXi, vSphere and vSphere <span class="disableGlossary">Client</span> do not support SHA-256OVF Files.<br />To Convert from SHA256 to SHA1<br /><pre xml:space="preserve"><code>$ <b>ovftool --shaAlgorithm=SHA1 /path/to/the/original/ova_file.ova /path/to/the/new/ova/file-SHA1.ova</b></code></pre></p>
                                                                        <ol>
                                                                            <li value="1">
                                                                                <p>Download and install <strong>VMware vSphere <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">Client<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>Essentially, a client is anything that talks to the Okta service. Within the traditional client-server model, Okta is the server. The client might be an agent, an Okta mobile app, or a browser plugin. </span></a></strong> from the ESXi/vSphere server.</p>
                                                                            </li>
                                                                            <li value="2">
                                                                                <p>Open VMware vSphere Client.</p>
                                                                            </li>
                                                                            <li value="3">
                                                                                <p>Enter the server name or IP address and credentials in the respective fields, and click <strong>Login</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.01.png" alt="spgw-setup-using-ovf-07.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="4">
                                                                                <p>In the vSphere Client window, select <strong>File &gt; Deploy OVF Template</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.02.png" alt="spgw-setup-using-ovf-08.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="5">
                                                                                <p>In the <strong>Deploy OVF Template</strong> window, click <strong>Browse</strong>.</p>
                                                                            </li>
                                                                            <li value="6">
                                                                                <p>Select the <strong>Okta-Access Gateway</strong> OVA file, and click <strong>Open</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.04.png" alt="spgw-setup-using-ovf-10.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="7">
                                                                                <p>Click <strong>Next</strong>.</p>
                                                                            </li>
                                                                            <li value="8">
                                                                                <p>Review the template details provided, and click <strong>Next</strong>.</p>
                                                                            </li>
                                                                            <li value="9">
                                                                                <p>When prompted to accept the Access Gateway License agreement. Click <strong>Accept</strong> and then click <strong>Next</strong>.</p>
                                                                            </li>
                                                                            <li value="10">
                                                                                <p>Enter a name for the Access Gateway template, and click <strong>Next</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.08.png" alt="spgw-setup-using-ovf-14.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="11">
                                                                                <p>On the next page, select a storage location, and click <strong>Next</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.09.png" alt="spgw-setup-using-ovf-15.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="12">
                                                                                <p>Select the appropriate disk format option based on your requirements, and click <strong>Next</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.10.png" alt="spgw-setup-using-ovf-16.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="13">
                                                                                <p>Click <strong>Finish</strong>.</p>
                                                                                <p>vSphere Client will begin the deployment process.</p>
                                                                            </li>
                                                                            <li value="14">
                                                                                <p>Click <strong>Close</strong> in the confirmation dialog box when the deployment is complete.</p>
                                                                            </li>
                                                                            <li value="15">
                                                                                <p>In the <strong>vSphere Client</strong> window, click <strong>Inventory</strong>.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.14.png" alt="spgw-setup-using-ovf-20.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="16">
                                                                                <p>Select the <strong>Virtual Machines</strong> tab to display the VMs that are currently deployed to the server.</p>
                                                                            </li>
                                                                            <li value="17">
                                                                                <p>Select the Access Gateway VM, and click <strong>Power On</strong> (symbolized by a green play icon) in the toolbar.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.15.png" alt="spgw-setup-using-ovf-21.png" />
                                                                                </p>
                                                                            </li>
                                                                            <li value="18">
                                                                                <p>Right-click the VM, and click <strong>Open Console</strong> to log in to the VM.</p>
                                                                                <p>
                                                                                    <img src="../../Resources/Images/access-gateway/setup-using-ovf.vsphere.16.png" alt="spgw-setup-using-ovf-22.png" />
                                                                                </p>
                                                                            </li>
                                                                        </ol>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <div>
                                                                <h2><a name="SupportedDeployEnvs"></a>Supported deployment environments </h2>
                                                                <p>The following is a complete list of all supported environments.</p>
                                                                <div>
                                                                    <div>
                                                                        <p><a name="VMWare"></a>VMware Workstation Player:</p>
                                                                        <p>To deploy using VMWare Workstation Player: see the VMWare section in <a href="setup-using-ovf-vmware.htm#VMWare">Deploying Access Gateway into VMWare/EXSi .</a></p>
                                                                    </div>
                                                                    <hr />
                                                                    <div>
                                                                        <p><a name="VSphere"></a>VMware vSphere/ESXi:</p>
                                                                        <p>To deploy using VMWare ESXi/vSphere: see the ESXi/vSphere section in <a href="setup-using-ovf-vmware.htm#VSphere">Deploying Access Gateway in to VMWare/EXSi.</a></p>
                                                                    </div>
                                                                    <hr />
                                                                    <div>
                                                                        <p><a name="OVB"></a>Oracle VirtualBox:</p>
                                                                        <p>To deploy using Oracle Virtual Box: see <a href="setup-using-ovf-ovb.htm">Deploying Access Gateway Into Oracle Virtual Box.</a></p>
                                                                    </div>
                                                                    <hr />
                                                                    <div>
                                                                        <p><a name="AWS"></a>Amazon Web Services:</p>
                                                                        <p>To deploy using Amazon Web Services: see <a href="setup-using-ovf-aws.htm">Deploying Access Gateway to Amazon Web Services</a></p>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                            <p>Once Access Gateway is deployed applications can be protected.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Configur2"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Integrate with Okta</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>Before applications can be secured, an Okta tenant must be configured to provide identity services. Access Gateway and your Okta org integrates using SAML and REST APIs.<br />The diagram below represents how your Okta tenant connects to Access Gateway using SAML.</p>
                                                        <br />
                                                        <img src="../../Resources/Images/access-gateway/configure-id-arch.png" id="img_new" />
                                                        <p>To configure Access Gateway to integrate with an Okta org you must:</p>
                                                        <ol>
                                                            <li value="1"><a href="#Create_an_Okta_Service_Account_for_Access_Gateway" class="MCXref xref">Create an Okta Service Account for Access Gateway</a>
                                                            </li>
                                                            <li value="2"><a href="#Create_an_Okta_API_Token" class="MCXref xref">Create an Okta API Token</a>
                                                            </li>
                                                            <li value="3"><a href="#Configure_IDP_in_Access_Gateway" class="MCXref xref">Configure Okta as IDP in Access Gateway</a>
                                                            </li>
                                                            <li value="4"><a href="#ConfigureSAMLAccess" class="MCXref xref">Configure Admin Access using SAML</a>
                                                            </li>
                                                        </ol>
                                                        <p />
                                                        <h3><a name="Create_an_Okta_Service_Account_for_Access_Gateway"></a>Create an Okta Service Account for Access Gateway</h3>
                                                        <div>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>In your browser, Navigate to your <strong>Okta Org</strong> and sign in as an <strong>Administrator</strong>. </p>
                                                                    <div class="noteOkta">
                                                                        <img src="../../Resources/Images/assets/Icons/Notes/icon-lightbulb.png" class="noteImgFloat" title="Tip" alt="Tip" />
                                                                        <p class="noteHeading">Best Practice</p>
                                                                        <p class="noteContent">Okta recommends creating a specific Service Account in Okta that will be used to create the Access Gateway API key. This is important because every action performed by an API key is logged under the user that created the key. In the interest of maintaining accurate logs, a dedicated Access Gateway Service Account is recommended.</p>
                                                                    </div>
                                                                </li>
                                                                <li value="2">Navigate to the <strong>Directory &gt; People</strong> section.</li>
                                                                <li value="3">Click <strong>Add Person</strong>.</li>
                                                                <li value="4">Enter a descriptive <strong>First name</strong> and <strong>Last name</strong> for the Service Account naming fields (i.e <em>Service Admin</em>). Enter a dummy email (i.e. <a href="mailto:service.admin@domain.com">service.admin@domain.com</a>) for the <strong>Username</strong> and <strong>Primary email</strong>.<br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/icon-lightbulb.png" class="noteImgFloat" title="Tip" alt="Tip" /><p class="noteHeading">Best Practice</p><p class="noteContent">Use a dummy value for the Username and Primary email fields so that there is not interference between the Service Account and your own account in the event of a password reset request, etc. Adding your own email address to the Secondary email field ensures you can activate and maintain the Service Account.</p></div></li>
                                                                <li value="5">Enter your valid <strong>Administrator Email</strong> in the <strong>Secondary email</strong> field. . Click the <strong>Send user activation email</strong> checkbox, and click <strong>Save</strong>.</li>
                                                                <li value="6">You should now see your newly created Service Account under the <strong>Activated</strong> people tab with a <strong>Password reset</strong> status.</li>
                                                                <li value="7">Navigate to the <strong>Security  Administrators</strong> section.</li>
                                                                <li value="8">Click <strong>Add Administrator</strong>.</li>
                                                                <li value="9">Enter the name of the <strong>Service Account</strong> created earlier in the <strong>Grant administrator role to</strong> field. . Click the <strong>Super Administrator</strong> checkbox, and click <strong>Add Administrator</strong>.</li>
                                                                <li value="10">You should now have two <strong>Super Administrator</strong> accounts.</li>
                                                                <li value="11">Sign out of your <strong>Okta Admin Account</strong>.</li>
                                                                <li value="12">In your email, open the <strong>Service Account Activation Email</strong> you received from Okta and click the <strong>Activation</strong> link.</li>
                                                                <li value="13">After clicking the link, you will be asked to create a password, answer a security question, and select an account security image.</li>
                                                                <li value="14">Upon completion, log in with the new Service Account credentials.</li>
                                                            </ol>
                                                        </div>
                                                        <h3><a name="Create_an_Okta_API_Token"></a>Create an Okta API Token</h3>
                                                        <div>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>In the Service Account <strong>Dashboard</strong>, select <strong>Security  API</strong> from the menu options.</p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>On the API page, click <strong>Create Token</strong>.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>Enter a <strong>Token Name</strong> in the pop-up window, and click <strong>Create Token</strong>.</p>
                                                                    <p><b>Best Practice:</b> Use a name that easily identifies the tokens purpose. In this case, the token is being used in an Access Gateway appliance, so including "Access Gateway" or "OAG" and other relevant information is recommended</p>
                                                                </li>
                                                                <li value="4">Copy the displayed <strong>Token Value</strong> in a <strong>safe place</strong> before clicking <strong>Ok, got it</strong></li>
                                                                <li value="5">
                                                                    <p><b>Warning:</b> Once you close the pop-up window, you can never display the token value again! Please ensure you copy the token to a safe, secure location (such as a password manager or secure note database) for future reference.</p>
                                                                </li>
                                                            </ol>
                                                        </div>
                                                        <h3><a name="Configure_IDP_in_Access_Gateway"></a>Configure Okta as IDP in Access Gateway</h3>
                                                        <div>
                                                            <ol>
                                                                <li value="1">In your browser, navigate to the <strong>Access Gateway Admin UI</strong> and login as an administrator.</li>
                                                                <li value="2">Select the <strong>Settings</strong> tab.</li>
                                                                <li value="3">Click the <strong>Identity Providers</strong> pane.</li>
                                                                <li value="4">Click the <strong>+</strong> button, and Select <strong>OKTA</strong>.</li>
                                                                <li value="5">Enter an <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ MCTextPopupHotSpot_Popup #text #textPopup">app<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>An abbreviation of application. Essentially, it is a web-based site used to perform any number of specific tasks, and requires authentication from end users by signing in.</span></a> name in the <strong>Name</strong> field, fill out the <strong>Okta Org URL</strong> and <strong>Okta API Token</strong> fields with the value generated earlier, and click <strong>Not Validated</strong>.<img src="../../Resources/Images/access-gateway/configure-idp-okta.08.png" alt="configure-idp-okta.08.png" /></li>
                                                                <li value="6">Once the Okta API Token is validated, the <strong>Not Validated</strong> button will turn green and change to <b>[Validated]</b></li>
                                                                <li value="7">Click <strong>Okay</strong>.</li>
                                                                <li value="8">The <strong>Settings</strong> tab will now display your Okta IDP status; verify it displays a <strong>Valid</strong> status.<br /><img src="../../Resources/Images/access-gateway/configure-idp-okta.09.png" alt="configure-idp-okta.09.png" /></li>
                                                                <li value="9">Navigate to the <strong>Topology</strong> tab to test the IDPs connection.</li>
                                                                <li value="10">Click the <strong>Okta IDP icon</strong> to be redirected to your Okta tenant.<br /><br /><img src="../../Resources/Images/access-gateway/configure-idp-okta.10.png" alt="configure-idp-okta.10.png" /></li>
                                                            </ol>
                                                        </div>
                                                        <div>
                                                            <h3><a name="ConfigureSAMLAccess"></a>Configure Admin Access using SAML</h3>
                                                            <p>While not strictly required, its considered a best practice to configure access to the Access Gateway UI console from Okta.  
					
					In this section we walk through the configuration of Access Gateway with an Okta tenant such that the Gateway Admin UI accepts a SAML token for Okta for authentication.  We will also create an application tile on the Okta Applications page for administrator use to access the Gateway Administration UI.
</p>
                                                            <h4>Create a Token</h4>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>In your browser, Navigate to your <strong>Okta Org</strong> and Login as an <strong>Administrator</strong>.</p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>Click <b>Security</b> &gt; <b>API</b>.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>Select the <b>Tokens</b> tab.</p>
                                                                </li>
                                                                <li value="4">
                                                                    <p>Click the <b>Create Token</b>.</p>
                                                                </li>
                                                                <li value="5">
                                                                    <p>Enter an appropriate name for the token. &#160;For example <i>OAG Admin Access Token</i>.<br /><b>Note</b>: All access to the Okta Access Gateway will be tracked using this token name. </p>
                                                                </li>
                                                                <li value="6">
                                                                    <p>Select and copy the token value.<br /><![CDATA[						]]><b>Note</b>: Token text is only available during creation.  You will NOT be able to retrieve the text of the token at a later time.</p>
                                                                </li>
                                                            </ol>
                                                            <h4>Add Okta as IDP</h4>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>In your browser, navigate to the Okta Access Gateway UI as <b>Admin</b></p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>Click <b>Settings</b>.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>Select the <b>Identity Providers</b> tab.</p>
                                                                </li>
                                                                <li value="4">
                                                                    <p>In the <b>Identify Providers</b> pane click the <b>+</b> icon and select Okta.</p>
                                                                </li>
                                                                <li value="5">
                                                                    <p>Select the <b>Identity Providers</b> tab.</p>
                                                                </li>
                                                                <li value="6">
                                                                    <p>Complete the Add New Okta IDP step by providing the following values</p>
                                                                    <table class="TableStyle-srb_header_alt_shade" style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" cellspacing="0">
                                                                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                                                                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                                                                        <thead>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                                                                                <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Attribute</th>
                                                                                <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Value</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Name</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">A descriptive name</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta Org</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Your Okta Org URL. For example <b>myorg.okta.com</b>, </td>
                                                                            </tr>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta API Token</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">API Token copied previously</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Description</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">An appropriate description</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </li>
                                                                <li value="7">
                                                                    <p>Click <b>Not Validated</b>.
<br /><b>Note</b>: If your token can be successfully validated then the yellow <b>Not Validate</b>d button will become a green <b>Validated</b> button.</p>
                                                                </li>
                                                                <li value="8">
                                                                    <p>Click <b>Okay</b>.
<br /></p>
                                                                </li>
                                                            </ol>
                                                            <h4>Configure SAML for Administrative access </h4>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>In your browser, return to your Okta org as <b>Administrator</b>.</p>
                                                                </li>
                                                                <li value="2">
                                                                    <p>Navigate to <b>Directory &gt; Groups</b>.</p>
                                                                </li>
                                                                <li value="3">
                                                                    <p>Click <b>Add Group.</b></p>
                                                                </li>
                                                                <li value="4">
                                                                    <p>In the <b>Add Group</b> dialog name the group and add a description, then click <b>Add Group</b>.</p>
                                                                </li>
                                                                <li value="5">
                                                                    <p>Click the name of the newly added group.</p>
                                                                </li>
                                                                <li value="6">
                                                                    <p>Click <b>Manage People</b> and add all users who should be able to administer Okta Access Gateway.</p>
                                                                </li>
                                                                <li value="7">
                                                                    <p>When complete, click <b>Save</b>. </p>
                                                                </li>
                                                                <li value="8">
                                                                    <p>Return to the previously open Okta Access Gateway browser window.</p>
                                                                </li>
                                                                <li value="9">
                                                                    <p>Select the <b>Application</b> tab.</p>
                                                                </li>
                                                                <li value="10">
                                                                    <p>On the row representing the previously added idP, click <b>Add</b>. </p>
                                                                </li>
                                                                <li value="11">
                                                                    <p>From the list of applications select <b>Access Gateway AdminUI</b> and click <b>Create</b>.</p>
                                                                </li>
                                                                <li value="12">
                                                                    <p>In the <b>Essentials</b> section configure the following values and then click&#160;<b>Next</b>. </p>
                                                                    <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                                                                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                                                                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                                                                        <thead>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                                                                                <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Attribute</th>
                                                                                <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Value</th>
                                                                            </tr>
                                                                        </thead>
                                                                        <tbody>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Label</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">OAG Admin Console</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Public Domain</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">gw-admin.&lt;yourdomain&gt;</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Groups</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">OAG&#160;Admin (group created previously)</td>
                                                                            </tr>
                                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Description</td>
                                                                                <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">An appropriate description</td>
                                                                            </tr>
                                                                        </tbody>
                                                                    </table>
                                                                </li>
                                                                <li value="13">
                                                                    <p>Click <b>Next</b>. The Attributes tab is displayed.</p>
                                                                </li>
                                                                <li value="14">
                                                                    <p>Click <b>Next</b>. The Policies tab is displayed.</p>
                                                                </li>
                                                                <li value="15">
                                                                    <p>Click <b>Done</b>. </p>
                                                                </li>
                                                                <li value="16">
                                                                    <p>Log out of the OAG Admin UI Console. </p>
                                                                </li>
                                                            </ol>
                                                            <h4>Final Steps</h4>
                                                            <ol>
                                                                <li value="1">Login to your Okta org as a user in the previously created OAG Admin group.</li>
                                                                <li value="2">You should see a notification has been added to the Okta Access Gateway Admin Console.</li>
                                                                <li value="3">Click the application tile and you will be logged into the Okta Access Gateway as an administrator.</li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Protecti"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Protect Applications</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <div>
                                                            <h2><a name="AppIntro"></a>Application Introduction</h2>
                                                            <p>Securing applications is the core of Access Gateway.  <br /></p>
                                                            <p>Applications are deployed using an architecture similar to that shown in the Access Gateway Application&#160;Architecture diagram.</p>
                                                            <img src="../../Resources/Images/access-gateway/app-architecture.png" id="img_new" />
                                                            <p>In general, Access Gateway:</p>
                                                            <ul>
                                                                <li value="1">Acts as a reverse-proxy</li>
                                                                <li value="2">Integrates with on-premises application using legacy patterns.</li>
                                                                <li value="3">Has individual SAML contracts and authorization policies for each on-premises application.</li>
                                                                <li value="4">Applications have their own SAML encryption, assertion attributes, session timeouts, MFA policies, and URL authorization.</li>
                                                            </ul>
                                                            <p>Each application protected by Access Gateway is configured individually according to its specific needs and requirements.</p>
                                                            <p>When creating an application configuration in Access Gateway, there are various application templates available to speed the configuration process. Each application template is geared towards a specific set of application requirements. The <a href="admin-app-types.htm" class="MCXref xref">Access GatewaySupported Applications</a> page includes a list of all supported application types. The <a href="support-matrix.htm">Supported Technologies</a> page contains a list of all currently supported application versions and similar information.</p>
                                                        </div>
                                                        <p>&#160;</p>
                                                        <div>
                                                            <h2><a name="AddSampleApp"></a>Add a Sample Application</h2>
                                                            <p>There are many sample applications, in this guide we will install the sample header application. <br /><br />The sample header app helps you familiarize yourself with how Access Gateway works as well as providing testing endpoint in case you need to troubleshoot application integration.<br /><br /></p>
                                                            <h3><a name="CookiePrerequisites"></a>Prerequisites</h3>
                                                            <div>
                                                                <ul style="list-style-type: square;">
                                                                    <li value="1">Access Gateway is installed and configured for use. <br />See <a href="setup-using-ovf.htm" class="MCXref xref">Deploy Access Gateway Using an OVA Image</a> </li>
                                                                    <li value="2">Access Gateway has been configured to use your Okta tenant as iDP.<br />See <a href="configure-idp-okta.htm" class="MCXref xref">Configure your Okta tenant as an Identity Provider</a> for more information about configuring your Okta tenant as an idP. <br /></li>
                                                                    <li value="3">You have administrator rights on your Okta tenant and can assign applications to users, and create groups. </li>
                                                                    <li value="4">
                                                                        <p>Appropriate DNS&#160;entries exist for the application. </p>
                                                                    </li>
                                                                </ul>
                                                            </div>
                                                            <p> </p>
                                                            <h3><a name="CreateSampleCookieApp"></a>Create Sample Header Application</h3>
                                                            <div>
                                                                <ol>
                                                                    <li value="1">
                                                                        <p>Navigate to your Access Gateway instance and sign in as admin.</p>
                                                                        <div class="noteOkta">
                                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                            <p class="noteHeading">Note</p>
                                                                            <p class="noteContent">Access Gateway creates a default self-signed certificate. For non-production deployments, this will be appropriate. Proceed past any security exceptions raised by your browser. For production deployments, a valid certificate can be installed and these exceptions will not be needed.</p>
                                                                        </div>
                                                                    </li>
                                                                    <li value="2">Click the <strong>Applications</strong> tab<br /><br />.<img src="../../Resources/Images/access-gateway/add-generic-header-app.01.png" alt="Select applications tab" id="img_new" /></li>
                                                                    <li value="3">Click <strong>+ Add</strong> to add a new application.<br /><img src="../../Resources/Images/access-gateway/add-generic-header-app.02.png" alt="Click Add." id="img_new" /></li>
                                                                    <li value="4">
                                                                        <p>Select the <strong>Access Gateway Sample Header App</strong> option from the left column menu, and click <strong>Create</strong>.</p>
                                                                        <p>
                                                                            <img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.03.png" alt="add-sample-header-app-okta.03" />
                                                                        </p>
                                                                        <p>The <b style="font-style: italic;">New Protected Application</b> wizard will start and display the <b>Setting</b> tab for the application being added.</p>
                                                                    </li>
                                                                    <li value="5">
                                                                        <p>Review the Settings tab then click <strong>Next</strong>.</p>
                                                                        <div class="noteOkta">
                                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                            <p class="noteHeading">Note</p>
                                                                            <p class="noteContent">The Settings page provides options with which to further configure the application.</p>
                                                                        </div>
                                                                        <p>For more information on the application setting options, see <a href="admin-app-settings.htm">Application Settings</a>.
</p>
                                                                        <p>
                                                                            <br />.<img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.04.png" alt="add-sample-header-app-okta.04" id="img_new" /></p>
                                                                    </li>
                                                                    <li value="6">
                                                                        <p>Click <strong>Next</strong>.</p>
                                                                        <div class="noteOkta">
                                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                            <p class="noteHeading">Note</p>
                                                                            <p class="noteContent">The Attributes page provides a list of attributes that will be passed into the application. This page also provides the ability to add, edit, or remove any attribute.</p>
                                                                        </div>
                                                                        <p>For more information on the attribute options, see
<a href="admin-app-attributes.htm">Application Attributes</a>
.
</p>
                                                                    </li>
                                                                </ol>
                                                            </div>
                                                            <h3><a name="ConfigureHeaderApp"></a>Complete the Header Application Configuration</h3>
                                                            <div>
                                                                <ol>
                                                                    <li value="1">
                                                                        <p>Return to the <strong>Access Gateway Admin Console</strong>.</p>
                                                                    </li>
                                                                    <li value="2">
                                                                        <p>Select the new application and click the <b>pencil</b> icon.</p>
                                                                        <p>
                                                                            <img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.06.png" alt="add-sample-header-app-okta.06" id="img_new" />
                                                                        </p>
                                                                    </li>
                                                                    <li value="3">
                                                                        <p>In the <strong>Attributes</strong> section, click the <strong>+</strong>.</p>
                                                                        <p>
                                                                            <img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.07.png" alt="add-sample-header-app-okta.07" class="coveo-headline-title" />
                                                                        </p>
                                                                    </li>
                                                                    <li value="4">
                                                                        <p>Scroll down to the <strong>Add new Session Attribute</strong> window.</p>
                                                                    </li>
                                                                    <li value="5">
                                                                        <p>In the <strong>Name</strong> field, enter <strong>manager</strong>, and select the <strong>manager</strong> attribute type in the <strong>Value</strong> field.</p>
                                                                    </li>
                                                                    <li value="6">
                                                                        <p>Click <strong>Okay</strong>.</p>
                                                                        <p>
                                                                            <img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.08.png" alt="add-sample-header-app-okta.08" id="img_new" />
                                                                        </p>
                                                                        <div class="noteOkta">
                                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                            <p class="noteHeading">Note</p>
                                                                            <p class="noteContent">In the Value menu, type in the name of the attribute you want to add, and then click the new attribute in the dropdown menu.</p>
                                                                        </div>
                                                                    </li>
                                                                    <li value="7">Click <strong>Next</strong>.</li>
                                                                    <li value="8">Click <strong>Done</strong>.</li>
                                                                    <li value="9">Confirm that the <strong>Sample Header App</strong> is displayed as <strong>Active</strong> in the <strong>Protected Applications</strong> list. <br /><img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.08b.png" alt="add-sample-header-app-okta.08b" id="img_new" /></li>
                                                                    <li value="10">Click the <strong>Goto App</strong> icon.
				<br /><img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.08c.png" alt="add-sample-header-app-okta.08c" id="img_new" /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Important</p><p class="noteContent"> Ensure that the Public Domain defined in the Configure the Header Application Settings is added to local host file or DNS Server pointing to the VM running Access Gateway. For example:<br /><pre xml:space="preserve"><code>&lt;ip address&gt;     &lt;app public domain&gt;
xxx.xxx.xxx.xxx  header.gateway.info</code></pre></p></div></li>
                                                                </ol>
                                                            </div>
                                                            <h3><a name="Test_Sample_Cookie_Application"></a>Test Sample Header Application</h3>
                                                            <div>
                                                                <ol>
                                                                    <li value="1">
                                                                        <p>Select <strong>IDP Initiated</strong> from the drop down menu to verify the application is working.</p>
                                                                        <p>
                                                                            <img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.09.png" alt="Test sample header app" id="img_new" />
                                                                        </p>
                                                                        <div class="noteOkta">
                                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                            <p class="noteHeading">Note</p>
                                                                            <p class="noteContent">Your Okta tenant administrator will need to assign the header application to you.</p>
                                                                        </div>
                                                                    </li>
                                                                    <li value="2">In the application page, review and verify that the <strong>Sample Header App</strong> sent to Okta matches your profile information.<br /><img src="../../Resources/Images/access-gateway/add-sample-header-app-okta.10.png" alt="Sample header app test" id="img_new" /></li>
                                                                </ol>
                                                            </div>
                                                            <p>For a complete list of all applications and their associated integrations details see <a href="integrate-apps.htm" class="MCXref xref">Integrating Applications with Access Gateway</a></p>
                                                            <p>&#160;</p>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <div class="MCDropDown MCDropDown_Closed dropDown"><span class="MCDropDownHead dropDownHead"><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_ MCHotSpotImage"><img class="MCDropDown_Image_Icon" src="../../../Skins/Default/Stylesheets/Images/transparent.gif" height="11" width="16" alt="Closed" data-mc-alt2="Open" /></a><a name="Configur"></a><a href="javascript:void(0);" class="MCDropDownHotSpot dropDownHotspot MCDropDownHotSpot_">Configure High Availability</a></span>
                                                    <div class="MCDropDownBody dropDownBody">
                                                        <p>High availability architectures provide the fault tolerance required today.</p>
                                                        <div>
                                                            <p>Access Gateway high availability consists of:

</p>
                                                            <ul>
                                                                <li value="1">A single administration instance of Access Gateway. The Administration instance, typically referred to as the <span class="disableGlossary">admin</span> node, is used to maintain and propagate configuration changes to worker instances. In addition the admin node can be used a normal Access Gateway instance. </li>
                                                                <li value="2">One or more worker instances, bound to the admin node, which service requests.</li>
                                                                <li value="3">A customer provided load balancer, routing requests to the Access Gateway High Availability&#160;cluster. </li>
                                                            </ul>
                                                            <p>Access Gateway high availability instance life-cycle overview:</p>
                                                            <ul>
                                                                <li value="1">An instance of Access Gateway is provisioned. This instance, referred to as the <i>Admin </i>node or instance is configured normally, including defining protected applications. Note that is not a requirement to configure applications or IDP&#160;support before configuring high availability. </li>
                                                                <li value="2">Second and subsequent instances of Access Gateway are provisioned. These instances, typically referred to as <i>Worker</i> nodes or instances are not configured with applications, but rather obtain all configuration from the Admin node.</li>
                                                                <li value="3">Worker nodes are then specifically configured to use the Admin node for all configuration. Once configured, worker nodes no longer surface the admin UI but can only be accessed using the command line interface.</li>
                                                            </ul>
                                                            <img src="../../Resources/Images/access-gateway/configure-high-availability.01_1200x1002.png" id="img_new" alt="Access Gateway High Availability architecture" style="width: 1200;height: 1002;" />
                                                        </div>
                                                        <div class="noteOkta">
                                                            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
                                                            <p class="noteHeading">Important</p>
                                                            <p class="noteContent">The Admin UI is only available on Admin nodes and those nodes which have yet to be configured as worker nodes. Once a instance is configured as a worker, it no longer can be accessed using the Admin UI. All administration of a an Access Gateway cluster must occur via the Admin node and its admin ui. </p>
                                                        </div>
                                                        <p> </p>
                                                        <h3><a name="HAOverview"></a>Overview</h3>
                                                        <div>
                                                            <p>Configuring high availability includes the following overall process:</p>
                                                            <ol>
                                                                <li value="1">Configuring an Admin node.<br />During this step the Administration node is configured normally.</li>
                                                                <li value="2">Configuring a Worker node.<br />During this step worker nodes are configured without any applications. </li>
                                                                <li value="3">Preparing the Admin node.<br />During this step the command line interface is used on the Admin node to alert or <i>prepare</i> the admin node for the addition of one or more worker nodes. </li>
                                                                <li value="4">Preparing the worker node.<br />During this step the command line interface is used on the Worker not to prepare the worker to become part of the Access Gateway cluster.</li>
                                                                <li value="5">Worker integration into cluster.<br />After the prior two steps, the worker is automatically integrated into the cluster. During this phase the worker Admin UI is disabled and worker exchanges keys and is provided configuration from the Admin node.</li>
                                                            </ol>
                                                            <img src="../../Resources/Images/access-gateway/configure-high-availability.02.png" alt="Access Gateway High Availability add worker node sequence diagram" />
                                                        </div>
                                                        <p>&#160;</p>
                                                        <h3><a name="HAOperations"></a>Operations</h3>
                                                        <p>To configure High Availability:</p>
                                                        <ol>
                                                            <li value="1"><a href="#ResetKey">Reset keys</a> -&#160;Reset the keys in both the Admin instance and the worker instance.</li>
                                                            <li value="2"><a href="#AddWorker">Add a worker node</a> - Add one or more worker nodes to the cluster.</li>
                                                            <li value="3"><a href="#CheckCluster">Check configuration</a> - Review the final configuration.<br /></li>
                                                        </ol>
                                                        <p>&#160;</p>
                                                        <div>
                                                            <h3><a name="ResetKey"></a>Reset the key associated with an Access Gateway Node</h3>
                                                            <p>Access Gateway nodes use various keys to intercommunicate. &#160;Keys must be regenerated if an instance is to be used as part of a Access Gateway High Availability cluster. <br />Each instance need regenerate its keys only once.<br /></p>
                                                            <p><b>To reset a nodes keys:</b>
                                                            </p>
                                                            <ol>
                                                                <li value="1">Connect to the instance.<br /><pre xml:space="preserve" id="code">ssh oag-mgmt@[admin or worker]</pre></li>
                                                                <li value="2">Select <b>5 - System</b></li>
                                                                <li value="3">Select <b>8- High Availability Configuration</b><br />The High Availability Configuration menu will display.</li>
                                                                <li value="4">Select <b>1 - Reset Key</b> node.					
					
                    Confirm the key reset will be displayed.<br /><pre id="code">
This will reset keys being used by high availability sync process.
If high availability is already setup, this option should not be used.
Proceed with reset? [y/N]: </pre></li>
                                                                <li value="5">Enter <b>y</b> to reset or <b>N</b> to abort the reset process.<br />The reset of either abort, or display a success message.<br /></li>
                                                                <li value="6">Enter x to exit or any other menu item to continue.<br /></li>
                                                            </ol>
                                                        </div>
                                                        <p>&#160;</p>
                                                        <div>
                                                            <h3><a name="AddWorker"></a>Add a worker node to an Access Gateway&#160;Cluster</h3>
                                                            <div class="noteOkta">
                                                                <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" />
                                                                <p class="noteHeading">Note</p>
                                                                <p class="noteContent">When adding a worker node, both the Administration node and the worker node: </p>
                                                                <ul>
                                                                    <li value="1">Must have been previously provisioned. </li>
                                                                    <li value="2">Must be reachable using SSH.</li>
                                                                    <li value="3">Must have had their keys reset. &#160;<br />See <a href="#ResetKey" class="MCXref xref">Reset the key associated with an Access Gateway Node</a> for more information on resetting keys. </li>
                                                                </ul>
                                                            </div>
                                                            <p><b>To add a worker node to a cluster:</b>
                                                            </p>
                                                            <ol>
                                                                <li value="1">
                                                                    <p>On the Admin node</p>
                                                                    <ol style="list-style-type: lower-alpha;">
                                                                        <li value="1">Connect to the instance.<br /><pre xml:space="preserve" id="code">ssh oag-mgmt@[admin.tld]</pre></li>
                                                                        <li value="2">Select <b>5 - System</b></li>
                                                                        <li value="3">Select <b>8- High Availability Configuration</b><br />The High Availability Configuration menu will display.<br /><pre xml:space="preserve" id="code">Access Gateway High Availability Setup <b style="text-decoration: none; font-style: italic;">(role)</b>
1 - Reset Key
2 - Prepare Admin
3 - Prepare Worker
4 - List Nodes
5 - Remove Node
6 - Check Status

X- Exit
Choice:&#160;</pre><br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p>The High Availability menu displays the current role of a Access Gateway node. <br />Roles can be:</p><ul><li value="1">Single - The node has not yet been configured as either a Worker or an Admin.</li><li value="2">Admin - The node has been configured as an administrator for High Availability.</li><li value="3">Worker - The node has been configured as a worker for High Availability).<br /></li></ul></div></li>
                                                                        <li value="4">Select <b>2 - Prepare Admin</b><br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">The first time the Admin Node is configured for high availability option <b>1 - Reset Keys</b> should be executed to reset the instance's SSH keys. <br />Reset Keys need only be executed a single time per instance. See <a href="command-line-console-reference.htm" class="MCXref xref"> Command Line Management Console Reference</a> for complete details.<br /></p></div><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" /><p class="noteHeading">Important</p><p class="noteContent">Access Gateway Replication users the hostname setting from the command line console.  <br />Please be sure to update the hostname for both Admin and Worker nodes using the command line console <b>System (5) &gt; Change Hostname (1)</b>.</p></div><p>. . . </p></li>
                                                                        <li value="5">The Admin node will go authorize worker mode and display an authorization code which must be provided to the Worker node. <br />Copy the authorization code shown in&#160;<i style="font-weight: bold;">bold italic</i> below.<br /><pre id="code">
Authorization token required to initiate setup from worker nodes is given
below. Copy the text below this line and paste it on worker node when prompted.
<b style="font-style: italic;">oag.okta.com:8ba1c123-715d-4b70-ab5d-0e41493bef73</b>
Worker nodes available so far:
. . . 
Press X to exit								</pre></li>
                                                                        <li value="6">Enter <b>X</b> to continue.  <br />The Admin node will wait for the worker node.</li>
                                                                        <li value="7">Return to the command prompt on the instance which is being attached as a worker node</li>
                                                                    </ol>
                                                                </li>
                                                                <li value="2">On the Worker node<ol style="list-style-type: lower-alpha;"><li value="1">Connect to the instance.<br /><pre xml:space="preserve" id="code">ssh oag-mgmt@[worker.tld]</pre></li><li value="2">Select <b>5 - System</b></li><li value="3">Select <b>8- High Availability Configuration</b><br />The HA Configuration menu will display.<br /></li><li value="4">Select <b>3 - Prepare Worker</b><br /><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Info" alt="Info" /><p class="noteHeading">Note</p><p class="noteContent">The first time the worker Node is configured for high availability option <b>1 - Reset Keys</b> should be executed to reset the instance's SSH keys. <br />Reset Keys need only be executed a single time per instance. See <a href="command-line-console-reference.htm" class="MCXref xref"> Command Line Management Console Reference</a> for complete details.</p></div></li><li value="5">The worker will then display<br /><pre xml:space="preserve" id="code">
Checking HA readiness for host worker. . .   

NOTE: Please ensure that admin node is ready for setup and you have the
authorization token displayed on admin node.

Enter the authorization token displayed on admin node: <b style="font-style: italic;">admin.. . . .com:927da506-7efb-4520-bd32-dd03b86f2a9b
</b></pre><br />								Once entered the Worker node will then connect to the Admin node and exchange authorization and confirmation information resembling:<br /><pre xml:space="preserve" id="code">
Requesting admin  node <b style="font-style: italic;">admin. . . .com</b> to allow connection  
Node <b style="font-style: italic;">worker. . .com</b> successfully added on admin node
Synchronizing current configuration  
 
Press enter to continue ....
</pre></li><li value="6">When prompted press any key to continue.</li><li value="7">Enter <b>X</b> to exit or any other menu item to continue.<br /></li></ol><p>The worker instance is now configured and ready for use.</p></li>
                                                            </ol>
                                                            <p>On the Admin node:<br /></p>
                                                            <ol>
                                                                <li value="1">Return to the Admin instance.<br /></li>
                                                                <li value="2">Examine results of adding the new worker node which should resemble:<br /><pre xml:space="preserve" id="code">
Authorization token required to initiate setup from worker nodes is given
below. Copy the text below this line and paste it on worker node when prompted.

admin. . .com:927da506-7efb-4520-bd32-dd03b86f2a9b
Worker nodes available so far:
<b style="font-style: italic;">worker1. . .com</b>
<b style="font-style: italic;">worker2. . .com</b>
<b style="font-style: italic;">worker3. . .com</b></pre><br />Note the addition of the new worker node.<br /></li>
                                                                <li value="3">Enter <b>X</b> to exit or any other menu item to continue.<br /></li>
                                                            </ol>
                                                        </div>
                                                        <p>&#160;</p>
                                                        <div>
                                                            <h3><a name="CheckCluster"></a>Check Cluster Configuration</h3>
                                                            <p>To review or check the status of an Access Gateway High Availability <a href="javascript:void(0);" class="MCTextPopup MCTextPopupHotSpot MCTextPopup_Open MCTextPopupHotSpot_ #text">Cluster<span class="MCTextPopupBody popupBody"><span class="MCTextPopupArrow"></span>A group of computer instances (physical or virtual) within a given infrastructure used together for a single purpose.</span></a>:</p>
                                                            <ol>
                                                                <li value="1">Connect to the instance.<br /><pre xml:space="preserve" id="code">ssh oag-mgmt@[admin or worker]</pre></li>
                                                                <li value="2">Select <b>5 - System</b></li>
                                                                <li value="3">Select <b>8- High Availability Configuration</b><br />The High Availability Configuration menu will display.</li>
                                                                <li value="4">Select <b>6 -Check&#160;Status </b>.					
					
          </li>
                                                                <li value="5">A list of cluster instances is displayed with their associated status.<br />Use the <b>Up/Down/Page Up/Page Down/Home/End</b> keys to scroll through the list. Which will resemble:
                    <br /><pre id="code"> 
HA Synch Status    Up/Down/Page Up/Page Down/Home/End - Scroll    x-exit
worker1.yourdoman.tld:    Pass
worker2.yourdoman.tld:    Pass
. . . 
workern.yourdoman.tld:    Fail										
					</pre>
					Where:
<br /><ul><li value="1"><b>Pass</b>: Reachable functioning worker node</li><li value="2"><b>Fail</b>: Non-functional worker.  See node log for details.</li></ul></li>
                                                                <li value="6">Enter <b>x</b> to exit.<br /></li>
                                                            </ol>
                                                        </div>
                                                    </div>
                                                </div>
                                                <hr width="100%" size="0" align="center" />
                                                <p>&#160;</p>
                                                <div>
                                                    <h2><a name="Next_Steps"></a>Next Steps</h2>
                                                    <p>Having completed the Access Gateway One day Admin, you now have an Access Gateway environment  connected to your Okta org. <br />This foundation allows you to move forward, and protect your on-premises applications. <br /><br />To learn more about integrating and protecting other applications, see the following guides:<br /></p>
                                                    <ul>
                                                        <li value="1"><a href="add-generic-header-app.htm" class="MCXref xref">Generic Header Application</a>
                                                        </li>
                                                        <li style="font-weight: bold;" value="2"><a href="add-no-auth-app.htm">Add a no-auth Application</a>
                                                        </li>
                                                        <li value="3"><a href="add-app-peoplesoft.htm" class="MCXref xref">Add an Oracle PeopleSoft Application</a>
                                                        </li>
                                                        <li style="font-weight: bold;" value="4"><a href="add-oracle-ebs-sso.htm" style="font-weight: normal;">Add an Oracle EBS (Classic or Rapid) Application</a>
                                                        </li>
                                                        <li value="5"><a href="add-app-kerberos.htm" class="MCXref xref">Add a Kerberos Application</a>
                                                        </li>
                                                    </ul>
                                                    <p>See <a href="admin-app-types.htm" class="MCXref xref">Access GatewaySupported Applications</a> for a complete list.</p>
                                                    <p>&#160;</p>
                                                    <p>Also consider reviewing :</p>
                                                    <ul>
                                                        <li value="1"><a href="add-sample-header-app-okta.htm" class="MCXref xref">Sample Header Application</a>
                                                        </li>
                                                        <li value="2"><a href="add-sample-cookie-app-okta.htm" class="MCXref xref">Sample Cookie Application</a>
                                                        </li>
                                                        <li value="3"><a href="add-sample-policy-app-okta.htm" class="MCXref xref">Sample Policy Application</a>
                                                        </li>
                                                        <li value="4"><a href="add-sample-proxy-app-okta.htm" class="MCXref xref">Sample Proxy Application</a>
                                                        </li>
                                                        <li value="5"><a href="test-sample-header-follow-logs.htm">Testing a Sample Header Application while Following the Logs.</a>
                                                        </li>
                                                        <li value="6">Using Attributes and adding secondary data stores. For more information see <a href="admin-app-attributes.htm" class="MCXref xref">Application Attributes</a> and <a href="admin-settings-datasources.htm" class="MCXref xref">Administer DataStores</a></li>
                                                        <li value="7">Working with fine grained policy. For more information see 
                Application Policy Overview and <a href="admin-user-policy-guide.htm" class="MCXref xref">Administration User Policy Guide</a>.</li>
                                                        <li value="8">Adding and managing certificates. For more information see <a href="managing-certificates.htm" class="MCXref xref">Certificate Management</a>.</li>
                                                        <li value="9">Fine tuning application behaviors. For more information Administer Behaviors.</li>
                                                    </ul>
                                                </div>
                                                <p>&#160;</p>
                                                <div>
                                                    <h2><a name="RelatedDoc"></a>Related Documentation</h2>
                                                    <ul>
                                                        <li value="1"><a href="admin-ui-console-overview.htm" class="MCXref xref">Admin UI Console Overview</a>
                                                        </li>
                                                        <li value="2"><a href="command-line-console-reference.htm" class="MCXref xref"> Command Line Management Console Reference</a>
                                                        </li>
                                                        <li value="3">Administer Behaviors</li>
                                                        <li value="4"><a href="admin-settings-datasources.htm" class="MCXref xref">Administer DataStores</a>
                                                        </li>
                                                        <li value="5"><a href="admin-app-settings.htm" class="MCXref xref">Application Settings</a>
                                                        </li>
                                                        <li value="6"><a href="admin-app-types.htm" class="MCXref xref">Access GatewaySupported Applications</a>
                                                        </li>
                                                        <li value="7"><a href="admin-support-vpn.htm">Administer the Access Gateway Support VPN</a>
                                                        </li>
                                                        <li value="8">Application Policy</li>
                                                        <li value="9"><a href="configure-saml-app.htm" class="MCXref xref">Configure Administration Access using SAML</a>
                                                        </li>
                                                        <li value="10"><a href="configure-certificates.htm" class="MCXref xref">Configure Certificates</a>
                                                        </li>
                                                        <li value="11"><a href="configure-high-availability.htm" class="MCXref xref">Configure High Availability</a>
                                                        </li>
                                                        <li value="12"><a href="configure-idp-okta.htm" class="MCXref xref">Configure your Okta tenant as an Identity Provider</a>
                                                        </li>
                                                        <li value="13"><a href="pre-install-requirements.htm" class="MCXref xref">Prerequisites for Deploying Access Gateway</a>
                                                        </li>
                                                        <li value="14"><a href="setup-using-ovf.htm" class="MCXref xref">Deploy Access Gateway Using an OVA Image</a>
                                                        </li>
                                                        <li value="15"><a href="../Directory/directory-integrations-main.htm" class="MCXref xref">Directory integrations</a>
                                                        </li>
                                                        <li value="16"><a href="support-matrix.htm">Supported Technologies</a>
                                                        </li>
                                                    </ul>
                                                    <p>&#160;</p>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                        <!-- *** Col3: Right menu Col *** -->
                                        <div class="is-not-in-mobile">
                                        </div>
                                    </div>
                                    <!-- ***************************** Footer rows ********************************* -->
                                    <div class="footer-temp">
                                        <div class="is-not-in-mobile">
                                            <p> </p>
                                        </div>
                                        <div>
                                            <p class="copyright">  <span class="okta-variablesYear">2020</span> <span class="okta-variablesCompanyName">Okta, Inc</span> All Rights Reserved. Various trademarks held by their respective owners.</p>
                                        </div>
                                    </div>
                                    <!-- ***************************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Ours -->
                                    <script type="text/javascript" src="../../Resources/Scripts/back-to-top.js">
                                    </script>
                                    <script type="text/javascript" src="../../Resources/Scripts/get-feedback.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </section><a data-close="true"></a>
                </div>
            </div>
            <script>/* <![CDATA[ */$(document).foundation();/* ]]> */</script>
        </div>
    </body>
</html>
