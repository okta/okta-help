<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-toc-path="[%=System.LinkedHeader%]|[%=System.LinkedHeader%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="robots" content="noindex, nofollow" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Tutorial 1: Configure your Terraform Cloud account | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
        function openSurvey() {
            window.open('https://surveys.okta.com/jfe/form/SV_e4L0iW8a3tz8Yol?source=' + encodeURIComponent(document.location.href), '_blank');
        }
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://help.okta.com/okta_help.htm?id=csh-index" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <div id="coveo_dev_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.DevOrgId variable">oktanonproduction1il1gtac7</span>
                                    </div>
                                    <div id="coveo_dev_token" style="Display:None"><span class="mc-variable okta-coveo-config.DevSearchToken variable">xxf1de37f5-c8aa-42db-a8ef-0cbf06dfa5e3</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************** Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPublish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <div class="navbar" data-mc-conditions="Primary.live-site-only">
                                            <div class="dropdown" data-test="menuBarCategory" id="documentationMenu" data-mc-conditions="MultiProdPublish.DocMenu">
                                                <button class="dropbtn">Documentation <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content" data-test="menuBarItems">
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=oie-index" data-test="menuBarLink">Identity Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?id=index-admin" data-test="menuBarLink">Classic Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oag&amp;id=ext_oag_main" data-test="menuBarLink">Access Gateway</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=asa&amp;id=csh-asa-overview" data-test="menuBarLink">Advanced Server Access</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=wf&amp;id=ext-Okta-workflows" data-test="menuBarLink">Workflows</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="relnotesMenu" data-mc-conditions="MultiProdPublish.DocMenu">
                                                <button class="dropbtn">Release notes <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content" data-test="menuBarItems">
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=csh-oie-release-notes" data-test="menuBarLink">Identity Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?id=ext_okta_relnotes" data-test="menuBarLink">Classic Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oag&amp;id=ext_oag_releasenotes" data-test="menuBarLink">Access Gateway</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=asa&amp;id=ext-asa-releasenotes" data-test="menuBarLink">Advanced Server Access</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=wf&amp;id=ext-workflows-releasenotes" data-test="menuBarLink">Workflows</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="oktaDevDocsMenu"><a href="https://developer.okta.com/" target="_blank" data-test="menuBarLink">Okta Developer</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="auth0Menu"><a href="https://auth0.com/docs" target="_blank" data-test="menuBarLink">Auth0</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="trainingMenu"><a href="https://www.okta.com/services/training/" target="_blank" data-test="menuBarLink">Training</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="supportMenu"><a href="https://support.okta.com/help/s/?language=en_US" target="_blank" data-test="menuBarLink">Support</a>
                                            </div>
                                        </div>
                                        <div class="logo_container" id="OktaBanner" data-mc-conditions="Primary.live-site-only"><a class="logo" href="https://help.okta.com/okta_help.htm?id=csh-index" data-test="OktaBanner"><img src="../../../resources/images/okta-assets/logo.png" alt="Okta product documentation" title="Okta product documentation" data-test="OktaBannerImg" /></a>
                                        </div>
                                        <div class="toolbar-main" data-test="toolBar" data-mc-conditions="Primary.live-site-only">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie select-language-button" title="Change language">
                                                        <div>
                                                            <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                                <div class="button-icon"> </div>
                                                            </div>
                                                        </div>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics" data-test="bodyWrapper">
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main" data-test="bodyContent">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1 id="tutorial-1-configure-your-terraform-cloud-account">Tutorial 1:
Configure your Terraform Cloud account</h1>
                                                    <p>First, connect your Terraform Cloud account to your Github repo and
your development Okta org. Then you can configure it to react to changes
in your Github repo (which implies that you require a change to your
Okta org). To achieve this:</p>
                                                    <ol type="1">
                                                        <li value="1"><a href="#create-an-okta-api-token">Create an Okta API token for
your development org</a>
                                                        </li>
                                                        <li value="2"><a href="#create-a-terraform-account">Create a Terraform
account</a>
                                                        </li>
                                                        <li value="3"><a href="#connect-terraform-to-github">Connect Terraform to
Github</a>
                                                        </li>
                                                        <li value="4"><a href="#connect-terraform-to-okta">Connect Terraform to
Okta</a>
                                                        </li>
                                                        <li value="5"><a href="#verify-that-you-can-manually-run-a-speculative-plan">Verify that
you can manually run a speculative Terraform plan</a>
                                                        </li>
                                                        <li value="6"><a href="#verify-that-you-can-run-and-apply-the-changes-in-a-plan">Verify
that you can run and apply the changes in a plan</a>
                                                        </li>
                                                        <li value="7"><a href="#verify-that-a-speculative-plan-runs-automatically-when-you-commit-changes">Verify
that a speculative plan runs automatically when you commit
changes</a>
                                                        </li>
                                                        <li value="8"><a href="#verify-that-plans-are-automatically-applied-if-auto-apply-is-configured">Verify
that plans are automatically applied if Auto apply is
configured</a>
                                                        </li>
                                                    </ol>
                                                    <h2 id="create-an-okta-api-token">Create an Okta API token</h2>
                                                    <p>It's good practice to create separate API access tokens for each
client that wants to access an org. Create a token for Terraform to
access the development org.</p>
                                                    <ol type="1">
                                                        <li value="1">Open the Admin Console for your org.</li>
                                                        <li value="2">Choose <span class="menucascade"><span class="uicontrol">Security</span><span class="uicontrol">API</span></span> to view
the API access management page.</li>
                                                        <li value="3">Select <span class="uicontrol">Tokens</span> to view the API token management
tab.</li>
                                                        <li value="4">Click <span class="uicontrol">Create token</span> to open a <span class="uicontrol">Create
token</span> dialog.</li>
                                                        <li value="5">Set a name for your token. For example, <em>Terraform Cloud access
for development org</em>.</li>
                                                        <li value="6">Click <span class="uicontrol">Create token</span> to save a copy of the token. You
won't be able to view it again.</li>
                                                    </ol>
                                                    <div class="noteOkta">
                                                        <p class="noteContent"> You repeat this process for the production
environment in tutorial 4.</p>
                                                    </div>
                                                    <h2 id="create-a-terraform-account">Create a Terraform account</h2>
                                                    <p>To begin, you must create a free Terraform Cloud account.</p>
                                                    <ol type="1">
                                                        <li value="1">Go to the <a href="https://app.terraform.io/public/signup/account">Terraform free
account</a> page.</li>
                                                        <li value="2">Specify a unique username, password, and the same email address as
your Okta account.</li>
                                                        <li value="3">Agree to the terms of use, acknowledge the privacy policy, and click
<span class="uicontrol">Create account</span>. Terraform Cloud sends a confirmation
email to the address you specify.</li>
                                                        <li value="4">Click the link in the email message to open a <span class="uicontrol">Welcome to
Terraform Cloud</span> page.</li>
                                                    </ol>
                                                    <h2 id="connect-terraform-to-github">Connect Terraform to Github</h2>
                                                    <p>Now that you have an account, connect Terraform to your Github
repo.</p>
                                                    <ol type="1">
                                                        <li value="1">
                                                            <p>On the <span class="uicontrol">Welcome to Terraform Cloud</span> page, select
<span class="uicontrol">Start from scratch</span>.</p>
                                                        </li>
                                                        <li value="2">
                                                            <p>On the <span class="uicontrol">Create a new organization</span> page, set
<span class="uicontrol">Organization name</span> to your
<code>${OKTA_DOMAIN_NAME}</code>.</p>
                                                        </li>
                                                        <li value="3">
                                                            <p>Click <span class="uicontrol">Create organization</span>.</p>
                                                        </li>
                                                        <li value="4">
                                                            <p>On the <span class="uicontrol">Create a new Workspace</span> page, select
<span class="uicontrol">Version control workflow</span> to declare that your
configuration is saved in a version control system.</p>
                                                        </li>
                                                        <li value="5">
                                                            <p>On the <span class="uicontrol">Connect to VCS</span> tab, select
<span class="menucascade"><span class="uicontrol">GitHub</span><span class="uicontrol">GitHub.com</span></span>. These
exercises use GitHub, but you can select a different VCS. This selection
grants permission for Terraform Cloud to access your project.</p>
                                                            <p>If a request permission dialog opens, click <span class="uicontrol">Authorize
Terraform Cloud</span>.</p>
                                                            <div class="note_tipOkta">
                                                                <p class="noteContent"> If necessary, configure your browser to allow
pop-ups for <code>app.terraform.io</code>.</p>
                                                            </div>
                                                        </li>
                                                        <li value="6">
                                                            <p>On the <span class="uicontrol">Choose a repository</span> tab, select the repo
you created in <a href="/Content/Topics/arch/multiple-environments/lab/#a-working-terraform-repository">A
working Terraform repository</a>. This is where you intend to store your
Terraform configurations.</p>
                                                            <div class="note_tipOkta">
                                                                <p class="noteContent"> Be sure the path is to your copy of the repo
and not to the original one.</p>
                                                            </div>
                                                        </li>
                                                        <li value="7">
                                                            <p>On the <span class="uicontrol">Configure settings</span> tab:</p>
                                                            <ol type="1">
                                                                <li value="1">Give your new workspace a descriptive name. For example,
<code>okta-terraform-ref-dev-environment</code>.</li>
                                                                <li value="2">Optional. Enter a description.</li>
                                                                <li value="3">Click <span class="uicontrol">Advanced options</span>.</li>
                                                                <li value="4">Verify that <span class="uicontrol">Terraform Working Directory</span> is blank to
default to the root of your Terraform repository.</li>
                                                                <li value="5">Verify that <span class="uicontrol">Apply Method</span> is set to <span class="uicontrol">Manual
apply</span> to require manual confirmation to apply changes.</li>
                                                                <li value="6">Verify that <span class="uicontrol">Automatic Run Triggering</span> is set to
<span class="uicontrol">Always trigger runs</span> to have your repository trigger a
Terraform planning run whenever you check in a change.</li>
                                                                <li value="7">Set <span class="uicontrol">VCS branch</span> to <span class="uicontrol">preview</span> to use
your <code>preview</code> branch instead of the default
(<code>prod</code>) branch.</li>
                                                                <li value="8">Verify that <span class="uicontrol">Automatic speculative plans</span> is set in
<span class="uicontrol">Pull Requests</span> to trigger speculative plans
(<span class="uicontrol">Plan only</span>).</li>
                                                                <li value="9">Verify that <span class="uicontrol">Include submodules on clone</span> is cleared
in <span class="uicontrol">Other Settings</span>.</li>
                                                                <li value="10">Click <span class="uicontrol">Create workspace</span> to create the new
workspace.</li>
                                                            </ol>
                                                        </li>
                                                    </ol>
                                                    <p>This opens a <span class="uicontrol">Workspace created</span> page for you to
configure Terraform variables.</p>
                                                    <h2 id="connect-terraform-to-okta">Connect Terraform to Okta</h2>
                                                    <p>Finally, before you can test that Terraform is working, connect it to
your Okta development org.</p>
                                                    <ol type="1">
                                                        <li value="1">
                                                            <p>On the <span class="uicontrol">Workspace created</span> page:</p>
                                                            <ol type="1">
                                                                <li value="1">Set <span class="uicontrol">org_name</span> to your <a href="/Content/Topics/arch/multiple-environments/lab/#values-and-variables">${OKTA_DOMAIN_NAME}</a>.</li>
                                                                <li value="2">Set <span class="uicontrol">api_token</span> to the token that you created earlier
in <a href="#create-an-okta-api-token">Create an API token</a>.</li>
                                                                <li value="3">Set <span class="uicontrol">base_url</span> to your org's base URL. For example,
<em>okta.com</em>.</li>
                                                            </ol>
                                                        </li>
                                                        <li value="2">
                                                            <p>Click <span class="uicontrol">Save variables</span>.</p>
                                                        </li>
                                                        <li value="3">
                                                            <p>Mark your <code>api_token</code> variable as sensitive so it
isn't exposed to anyone with access to your Terraform console.</p>
                                                            <ol type="1">
                                                                <li value="1">Navigate to your <span class="uicontrol">Workspaces</span> page and select your
workspace.</li>
                                                                <li value="2">Navigate to the <span class="uicontrol">Variables</span> page.</li>
                                                                <li value="3">In the <span class="uicontrol">Workspace variables</span> section, click the
ellipses (<code>...</code>) for <code>api_token</code> and select
<span class="uicontrol">Edit</span> from the dropdown menu.</li>
                                                                <li value="4">For the <code>api_token</code> key, select the
<span class="uicontrol">Sensitive</span> checkbox.</li>
                                                                <li value="5">Click <span class="uicontrol">Save variable</span>.</li>
                                                            </ol>
                                                        </li>
                                                    </ol>
                                                    <h2 id="verify-that-you-can-manually-run-a-speculative-plan">Verify that
you can manually run a speculative plan</h2>
                                                    <p>In Terraform, a speculative plan checks the policies set for runs in
general (sentinel policies) and shows a set of possible changes the run
would create. It doesn't apply those changes. You can create speculative
plans with a Terraform version that is different from the one currently
selected for the workspace. This lets you check whether your
configuration is compatible with a newer Terraform version without
changing your workspace settings, or check whether there are any changes
in your source.</p>
                                                    <div class="note_tipOkta">
                                                        <p class="noteContent"> Unless instructed otherwise, use the latest
version of Terraform Cloud. In all of these exercises, the plan should
finish with no errors.</p>
                                                    </div>
                                                    <ol type="1">
                                                        <li value="1">In your Terraform console, navigate to the <span class="uicontrol">Overview</span>
page.</li>
                                                        <li value="2">Click <span class="uicontrol">Actions</span> and select <span class="uicontrol">Start new
run</span>.</li>
                                                        <li value="3">In the <span class="uicontrol">Start a new run</span> dialog:
<ol type="1"><li value="1">Optional. Enter <span class="uicontrol">Reason for starting run</span>. For
example, <em>Test run</em>.</li><li value="2">For <span class="uicontrol">Choose plan type</span>, select <span class="uicontrol">Plan
only</span>. The Plan only option creates a speculative plan.</li><li value="3">Click <span class="uicontrol">Start run</span> to continue.</li></ol></li>
                                                        <li value="4">Review the results on the <span class="uicontrol">Runs</span> page.</li>
                                                    </ol>
                                                    <h2 id="verify-that-you-can-run-and-apply-the-changes-in-a-plan">Verify
that you can run and apply the changes in a plan</h2>
                                                    <p>If the plan works speculatively, you can now run it and apply those
changes.</p>
                                                    <ol type="1">
                                                        <li value="1">On the <span class="uicontrol">Runs</span> page (which shows the results from the
previous exercise), click <span class="uicontrol">Actions</span> and select
<span class="uicontrol">Start new run</span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Start a new run</span> dialog:
<ol type="1"><li value="1">Optional. Enter a <span class="uicontrol">Reason for starting run</span>. For
example, <em>Test run and apply</em>.</li><li value="2">Select <span class="uicontrol">Plan and apply (standard)</span>.</li><li value="3">Click <span class="uicontrol">Start run</span>.</li></ol></li>
                                                        <li value="3">If there are no errors, confirm and apply your changes:
<ol type="1"><li value="1">At the bottom of the <span class="uicontrol">Runs</span> page, click
<span class="uicontrol">Confirm &amp; Apply</span>.</li><li value="2">On the confirmation dialog, add a comment and click <span class="uicontrol">Confirm
Plan</span>.</li><li value="3">Verify that Apply completes successfully.</li></ol></li>
                                                    </ol>
                                                    <div class="noteOkta">
                                                        <p class="noteContent"> You can add comments to completed runs. This
is useful for discussing configuration changes with your team.
Configuration changes are recorded in the System Log. Click
<span class="menucascade"><span class="uicontrol">Reports</span><span class="uicontrol">System Log</span></span> in your Admin
Console and scroll down to the latest log entry to see them.</p>
                                                    </div>
                                                    <h3 id="handle-locked-workspaces">Handle locked workspaces</h3>
                                                    <p>If a plan fails to complete, the workspace may be locked. This
happens if another plan is running on your workspace or if the workspace
is locked for maintenance or another reason. Workspace locking is
independent of how the run is triggered. See Terraform's <span class="uicontrol">Remote
Operations</span> page for details.</p>
                                                    <p>To demonstrate this:</p>
                                                    <ol type="1">
                                                        <li value="1">Click <span class="uicontrol">Actions</span>, and then select <span class="uicontrol">Start new
run</span>.</li>
                                                        <li value="2">Set <span class="uicontrol">plan type</span> to <span class="uicontrol">Plan &amp;
Apply</span>.</li>
                                                        <li value="3">Wait for Terraform to wait for you to confirm and apply the
results.</li>
                                                        <li value="4">Instead of confirming the results, click <span class="uicontrol">Actions</span>,
and then select <span class="uicontrol">Start new run</span> again.</li>
                                                        <li value="5">Set <span class="uicontrol">plan type</span> to <span class="uicontrol">Plan &amp;
Apply</span>.</li>
                                                    </ol>
                                                    <p>The second plan is queued because the first run is still active. To
see if this is the case, navigate to the <span class="uicontrol">Runs</span> page and
see if one or more runs are <span class="uicontrol">Pending</span>. If so, click
<span class="uicontrol">Pending</span> to see what's blocking the run. This opens a
view similar to this:</p>
                                                    <div class="full border">
                                                        <p>
                                                            <img src="../../../resources/images/ref-arch/multiple-environments/lab-1-clashing-runs.png" alt="A pending Terraform run detail view" />
                                                        </p>
                                                        <!--
    Source image: https://www.figma.com/file/YH5Zhzp66kGCglrXQUag2E/%F0%9F%93%8A-Updated-Diagrams-for-Dev-Docs?type=design&node-id=3971%3A40535&t=U52HeyImgt4pt3M2-1 lab-1-clashing-runs
  -->
                                                    </div>
                                                    <p>From this view, you can:</p>
                                                    <ol type="1">
                                                        <li value="1">Get more information about the blocking run, including its status,
how it was initiated, and by whom.</li>
                                                        <li value="2">Cancel the blocking run(s) and run the selected plan.</li>
                                                        <li value="3">Get details about the selected plan.</li>
                                                        <li value="4">Cancel the selected plan.</li>
                                                        <li value="5">Add a comment to the selected plan without changing its state.</li>
                                                    </ol>
                                                    <h2 id="verify-that-a-speculative-plan-runs-automatically-when-you-commit-changes">Verify
that a speculative plan runs automatically when you commit changes</h2>
                                                    <p>You've now verified that Terraform runs a plan and applies changes on
demand. To verify that Terraform runs automatically when you check in a
change to your Github repo:</p>
                                                    <ol type="1">
                                                        <li value="1">Navigate to the workspace <span class="uicontrol">Overview</span> page.</li>
                                                        <li value="2">In a new browser window, open your copy of the Okta Terraform repo
in GitHub.</li>
                                                        <li value="3">Select the <code>preview</code> branch.</li>
                                                        <li value="4">Open one of the <code>.tf</code> files in your
<code>okta-terraform-ref/modules</code> directory (such as
<code>variables.tf</code>), add a comment line, and commit the
change.</li>
                                                        <li value="5">On your workspace <span class="uicontrol">Overview</span> page, observe that the
results are updated to show a new speculative plan running and then
finishing. The <span class="uicontrol">Resources to be changed</span> displays
<code>+0 ~0 -0</code> to show that no resources were added, none were
changed, and none were deleted.</li>
                                                    </ol>
                                                    <h2 id="verify-that-plans-are-automatically-applied-if-auto-apply-is-configured">Verify
that plans are automatically applied if Auto apply is configured</h2>
                                                    <p>Finally, you can tell Terraform to apply changes automatically when a
Terraform plan is successful by setting Auto Apply. Since the workspace
is linked to version control for the preview branch, pushing to that
branch triggers a plan that is automatically applied if the plan
succeeds and there are changes.</p>
                                                    <ol type="1">
                                                        <li value="1">On your workspace page, navigate to <span class="menucascade"><span class="uicontrol">Settings</span><span class="uicontrol">Version Control</span></span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Workspace Settings</span> page, select <span class="uicontrol">Auto
apply for Apply Method</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">Update VCS settings</span> to apply the change.</li>
                                                    </ol>
                                                    <p>To verify that Terraform runs and applies changes automatically when
you check in a change.</p>
                                                    <ol type="1">
                                                        <li value="1">Navigate to the workspace <span class="uicontrol">Overview</span> page.</li>
                                                        <li value="2">In a new browser window, open your copy of the Okta Terraform repo
in GitHub.</li>
                                                        <li value="3">Select the <code>preview</code> branch.</li>
                                                        <li value="4">Open the <code>.tf</code> file that you added the comment line to in
the previous exercise, remove the comment line that you added, and
commit the change.</li>
                                                        <li value="5">On your workspace <span class="uicontrol">Overview</span> page, observe that the
status changes to Planning, to Planned and finished, and
<span class="uicontrol">Resources to be changed</span> remains <code>+0 ~0 -0</code>
(because the only change was to a comment line).</li>
                                                    </ol>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- div class="toolbar-main">
            <MadCap:topicToolbarProxy data-mc-skin="/Project/Skins/okta-toolbar-no-expand.flskn" style="mc-topic-toolbar-items: ;" />
                </div -->
                                    <!-- *********************** Footer rows ********************************* -->
                                    <div class="footer2" data-test="footer">
                                        <div>
                                            <p class="copyright" data-test="copyrightNotice">©  <span class="mc-variable okta-variables.Year variable">2023</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span>. All Rights Reserved. Various trademarks held by their respective owners.
	</p>
                                        </div>
                                    </div>
                                    <!-- ********************** Scripts ************************************* -->
                                    <script src="../../../resources/scripts/js/ignore-dompurify.js">
                                    </script>
                                    <script src="../../../resources/scripts/js/app.js">
                                    </script>
                                    <script src="../../../resources/scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../resources/scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../resources/scripts/coveo-resources/js/coveo.madcapflare.requirejs.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../resources/scripts/coveo-resources/js/coveo.madcapflare.okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                    <!-- Feedback tab for Qualtrics survey -->
                                    <div id="feedback-tab" data-mc-conditions="Primary.live-site-only"><a id="feedback-link" href="#" onclick="openSurvey();  return false" target="_blank" title="Submit feedback"><div id="feedback-container"><p id="feedback-text" translate="no">Feedback</p></div></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
