<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:tocPath="Security" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="WebHelp" lang="en-us" xml:lang="en-us" MadCap:PathToHelpSystem="../../../" MadCap:HelpSystemFileName="okta_help.xml" MadCap:SearchType="Stem">
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Identity Providers</title>
        <link href="../../SkinSupport/Slideshow.css" rel="stylesheet" MadCap:generated="True" />
        <link href="../../SkinSupport/MadCap.css" rel="stylesheet" MadCap:generated="True" />
        <link href="../../Resources/Stylesheets/okta_help.css" rel="stylesheet" />
        <script src="../../SkinSupport/jquery.min.js">
        </script>
        <script src="../../SkinSupport/MadCapAll.js">
        </script>
        <script src="../../SkinSupport/MadCapTopicAll.js">
        </script>
    </head>
    <body>
        <p class="MCWebHelpFramesetLink MCWebHelpFramesetLinkTop"><a href="../../../okta_help_CSH.htm#Topics/Security/Identity_Providers.htm" style="">Open topic with navigation</a>
        </p><a name="Security_IDP"></a>
        <h1>Identity Providers</h1>
        <p>This page allows you to configure how external identity providers such as Inbound SAML interact with Okta and to configure social identity providers that  allow your end users to self-register with your custom applications by first authenticating through their existing social identity accounts, such as Facebook,Google, or LinkedIn. For new users of your custom app, Okta creates a Just In Time (JIT) Okta user profile based on attributes stored in their social profiles.</p>
        <p><b>Note:</b> A feature to add and configure social identity providers is available to Early Access (EA) customers. When this feature is enabled, the Identity Providers page also includes a drop down with a list of social identity providers. To obtain this feature, contact Okta Support.</p>
        <h4>Configuring Inbound SAML Settings</h4>
        <p>In addition to using Okta as an identity provider (IdP), you can also configure Okta as a service provider (SP). When Okta is used as a service provider, it integrates with an identity provider outside of Okta using SAML. Inbound SAML allows users from external identity providers to SSO into Okta. </p>
        <h4>Setting Up Inbound SAML</h4>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_0" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Overview</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2678021994_0" style="display: none;">
                <h4>Supported Scenarios</h4>
                <p>Inbound SAML allows you to set up the following scenarios.</p>
                <ul>
                    <li value="1">Your users can SSO into apps without needing an Okta password.</li>
                    <li value="2">You do not need to set up an Active Directory (AD) agent.</li>
                    <li value="3">You can connect to a partner.</li>
                    <li value="4">You can federate with another IdP.</li>
                </ul>
                <h4>Customization Options</h4>
                <p>When you connect your users to Okta with Inbound SAML, there are several customization options.</p>
                <ul>
                    <li value="1">Your users can SSO into Okta with no provisioning; that is, the users are mastered in Okta.</li>
                    <li value="2">Your users can be provisioned into Okta with Just In Time (JIT) provisioning that is managed by an IdP.</li>
                    <li value="3">Your users can be assigned to groups with JIT.</li>
                </ul>
                <h4>New Capabilities</h4>
                <p>Okta has added several new capabilities to Inbound SAML.</p>
                <ul>
                    <li value="1">Inbound SAML is now built on Universal Directory (UD). You have the ability to feed richer assertions to UD, as UD can store attributes from an incoming assertion.</li>
                    <li value="2">You now have more control over JIT provisioning. A per-IdP toggle allows you to enable/disable JIT provisioning on a per-IdP trust basis.</li>
                    <li value="3">There is now username filtering to enhance security. You can specify an analyzing username suffix that must be matched.</li>
                    <li value="4">You can define any number of identity providers and define an unlimited number of attributes for each provider with UD. You are no longer limited to the first name, last name, email, and phone attributes.</li>
                    <li value="5">Inbound SAML now supports encrypted assertions.</li>
                    <li value="6">Inbound SAML now allows you to use a shared ACS URL instead of a trust-specific ACS URL.</li>
                    <li value="7">Inbound SAML now supports configurable signature algorithm requirements and configurable clock skew.</li>
                </ul>
                <h4>Supported Encryption Algorithms</h4>
                <p>Inbound SAML transparently supports encrypted SAML assertions. The IdP can encrypt using the public certificate from Okta and any of the following XML encryption algorithms.</p>
                <ul>
                    <li value="1">http://www.w3.org/2001/04/xmlenc#aes128-cbc</li>
                    <li value="2">http://www.w3.org/2001/04/xmlenc#aes192-cbc</li>
                    <li value="3">http://www.w3.org/2001/04/xmlenc#aes256-cbc</li>
                    <li value="4">http://www.w3.org/2001/04/xmlenc#tripledes-cbc</li>
                </ul>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_1" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Entering Setup Information</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2678021994_1" style="display: none;">
                <p>Certain information that you need to complete setup may not be available at the time that you are filling in the form. The following chart shows a typical information flow.</p>
                <p>
                    <img src="../../Resources/Images/Inbound_1.png" />
                </p>
                <p>For example, when you are setting up the IdP in Okta, sometimes the Issuer, Login URL, and Certificate are not available from the IdP until the ACS URL and Audience are set up in the IdP. And, that information is also not available until Okta is configured.</p>
                <p>Recommendation: If the IdP requires information from Okta for setup before you have the information, enter any text for the Issuer in Okta and enter https:url for the Login URL in Okta. Add the Identity Provider in Okta. Then, use the ACS URL and Audience that become available in Okta to set up the IdP. Finally, edit the Identity Provider that you just set up in Okta and enter the appropriate Issuer and Login URL information.</p>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_2" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Workflow</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2678021994_2" style="display: none;">
                <p>There are four parts to setting up inbound SAML.</p>
                <ul>
                    <li value="1">Add an Identity Provider</li>
                    <li value="2">Send the Okta SAML metadata to the existing IdP.</li>
                    <li value="3">Add the IdP metadata to Okta.</li>
                    <li value="4">Configure UD mappings for the inbound SAML connection.</li>
                </ul>
                <div class="MCDropDown">
                    <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_3" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Part 1 – Add Identity Provider</a>
                    </div>
                    <div class="MCDropDownBody" id="MCDropDownBody_2678021994_3" style="display: none;">
                        <p>
                            <img src="../../Resources/Images/Inbound_Workflow_1.png" />
                        </p>
                        <p>Click <b>Add Identity Provider</b>.There are four sections on the <b>Add Identity Provider</b> form. Be sure to complete all the sections.</p>
                        <h4>General Settings</h4>
                        <p><b>Name:</b> The name that you choose for this identity provider.</p>
                        <p><b>Protocol:</b> Only SAML 2.0 is supported.</p>
                        <h4>Authentication Settings</h4>
                        <p><b>Transform username:</b> The entity in the SAML assertion than contains the username. The dropdown list contains the default value, <em>saml.subjectNameId</em>.</p>
                        <p>You can enter an expression to reformat the value, if desired. For example, if the username in the SAML assertion is <em>john.doe@mycompany.okta.com</em>, you could specify the replacement of <em>mycompany.okta</em> with <em>endpointA.mycompany</em> to make the transformed username <em>john.doe@endpointA.mycompany.com</em>. If you want to enter an expression, use the <a href="http://developer.okta.com/docs/api/getting_started/okta_expression_lang.html">Okta Expression Language</a> syntax.</p>
                        <p><b>Filter username:</b> Select only if you want to enter an expression as a username filter. Specifying a filter limits the selection of usernames before authentication.</p>
                        <p><b>Authenticate if username matches:</b> The field in Okta against which the Transform username is authenticated. Choose an option from the dropdown menu.</p>
                        <p><b>If no match is found:</b> Specify whether to provision the user with Just In Time (JIT) provisioning, or to redirect the user to the Okta Sign On page if the user is not found.</p>
                        <p><b>Note:</b> Be sure to enable JIT provisioning by navigating to Security &gt; Authentication &gt; JIT Provisioning. You must enable JIT here and on that page.</p>
                        <h4>JIT Settings</h4>
                        <p><b>Profile Master:</b> If an authenticated user exists, the user is updated with the information in this SAML assertion when this box is selected. If this box is not selected, the flow continues without updating information.</p>
                        <p><b>Group Assignment Settings:</b> Specify the groups to which the users in the SAML assertion should be added. Choose one of the options from the dropdown menu. Each option requires different information.</p>
                        <blockquote>
                            <p>Group Assignment Option 1: None – Do not assign the authenticated users to any groups. No other information is required.</p>
                            <p>Group Assignment Option 2: Assign to specific groups – Assign each user to the group(s) listed in the Specific Groups field. You must enter one or more groups in the field.</p>
                            <p>Group Assignment Option 3: Add user to missing groups – If you select this option, users are added to any groups in the SAML assertion of which they are not already members. (Users are not removed from any groups of which they are already members.) In the SAML Attribute Name field, enter the name of the SAML attribute (in the attribute statements from the SAML assertion) whose values represent group memberships. Those values are compared to the groups specified in the Group Filter whitelist field (below), and matching values determine the group(s) to which the user is assigned during JIT. The Group Filter field acts as a security whitelist. List the groups that you want the IdP to assign to users dynamically. This allows you to control which users are assigned to certain groups. You must enter the SAML Attribute Name and list one or more Okta groups in the Group Filter field.</p>
                            <p>Group Assignment Option 4: Full sync of groups – This option assigns users to the group represented by the attribute specified in the SAML Attribute Name if that group is listed in the Group Filter. If the user is a member of any Okta group specified in the Group Filter field that does not match the values represented by the attribute in the SAML Attribute Name field, the user is deleted from the Okta group. You must enter the SAML Attribute Name and list one or more Okta groups in the Group Filter field.</p>
                        </blockquote>
                        <h4>SAML Protocol Settings</h4>
                        <p><b>IdP Issuer URI:</b> The issuer. The IdP provides this value.</p>
                        <p><b>IdP Single Sign-On URL:</b> The sign-on URL from the IdP. If you sign the authN request by selecting the Request Signature option but do not specify a destination in the Destination field (see Advanced Settings), Okta automatically sends the authN request to the IdP Single Sign-On URL.</p>
                        <p><b>IdP Signature Certificate:</b> Certificate from the IdP used to sign the assertion.</p>
                        <p>Advanced Settings</p>
                        <p><b>Request Binding:</b> The SAML Authentication Request Protocol binding used by Okta to send SAML AuthNRequest messages to the IdP. Usually HTTP POST.</p>
                        <p><b>Request Signature:</b> Specifies whether to sign SAML AuthnRequest messages that are sent from Okta. If you sign the authN request by selecting this option, Okta automatically sends the authN request to the URL specified in the IdP Single Sign-On URL field.</p>
                        <p><b>Request Signature Algorithm:</b> Specifies the signature algorithm used to sign SAML authN messages sent to the IdP.</p>
                        <p><b>Response Signature Verification:</b> Specifies the type(s) of response signatures Okta will accept when validating incoming responses: Response, Assertion, or Response or Assertion</p>
                        <p><b>Response Signature Algorithm:</b> Specifies the minimum signature algorithm when validating SAML messages and assertions issued by the IdP: SHA-1 or SHA-256.</p>
                        <p><b>Destination:</b> The destination attribute sent in the SAML authN request. If you do not enter a destination and you sign the authN request by selecting the Request Signature option, Okta automatically sends the destination attribute as the URL specified in the IdP Single Sign-On URL field (the SSO URL).</p>
                        <p><b>Okta Assertion Consumer Service URL:</b> Specifies whether to use a trust-specific assertion consumer service (ACS) URL or one that is shared across the organization.</p>
                        <p><b>Max Clock Skew:</b> Sets how long the assertion is valid. Enter a number and select the units. The authentication process calculates the difference between the current time and the time on the assertion timestamp to verify that the difference is not more than the Max Clock Skew value.</p>
                        <h4>Save Provider</h4>
                        <p>When done, be sure to click <b>Add Identity Provider</b> to save the configuration.</p>
                    </div>
                </div>
                <div class="MCDropDown">
                    <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_4" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Part 2 – Send Okta Metadata</a>
                    </div>
                    <div class="MCDropDownBody" id="MCDropDownBody_2678021994_4" style="display: none;">
                        <p>
                            <img src="../../Resources/Images/Inbound_Workflow_2png.png" />
                        </p>
                        <p>After you create an Identity Provider, click the <b>Download metadata</b> link to access the Okta SAML metadata for this provider. Follow instructions from the IdP to provide them the metadata.</p>
                    </div>
                </div>
                <div class="MCDropDown">
                    <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_5" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Part 3 – Add Metadata</a>
                    </div>
                    <div class="MCDropDownBody" id="MCDropDownBody_2678021994_5" style="display: none;">
                        <p>
                            <img src="../../Resources/Images/Inbound_Workflow_3.png" />
                        </p>
                        <p>If you need to update any information from the IdP, you can always open the <b>Add Identity Provider</b> dialog box and make the necessary changes. Select the pencil icon to edit an existing provider. Enter the logon URL and issuer that was provided by the IdP, as described in SAML Configuration above.</p>
                    </div>
                </div>
                <div class="MCDropDown">
                    <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_6" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Part 4 – Configure UD Mappings</a>
                    </div>
                    <div class="MCDropDownBody" id="MCDropDownBody_2678021994_6" style="display: none;">
                        <p>
                            <img src="../../Resources/Images/Inbound_Workflow_4.png" />
                        </p>
                        <p>Inbound SAML works with the Universal Directory (UD) setup for your organization. You can customize the UD mappings for each identity provider.  This part of the setup is optional.</p>
                        <p>To modify the UD mappings for a created identity provider, click <b>Configure</b> for that identity provider, and then select <b>Edit Mappings</b> in the dropdown menu.</p>
                        <p><b>Note:</b> The Edit Profile and Edit Mappings options are not available in the SSO and Legacy SSO 2013 editions of the platform.</p>
                        <p>When you select <b>Edit Mappings</b>, the <b>Profile Editor</b> opens. An alternate path to this screen is availablefrom <b>Directory &gt; Profile Editor &gt; Profile Mappings</b>. Click the down arrow next to <b>Identity Providers</b>.</p>
                        <p>All the identity providers that you have added are displayed. Click on the provider to edit.</p>
                        <p>When you select the provider name, the provider information is shown in the right panel. There are three options in this panel:</p>
                        <ul>
                            <li value="1">Click on an attribute to display attribute information on the right. Make any permitted changes.</li>
                            <li value="2">Add an attribute. There are four default custom attributes. To add more, click <b>Add Attribute</b>. </li>
                            <li value="3">You can customize the mapping between the identity provider and Okta by clicking <b>Map Attributes</b>. </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_7" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Using the System Log</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2678021994_7" style="display: none;">
                <p>The System Log  provides information about the Inbound SAML events that occur in the system. This information can be useful for debugging your configuration. </p>
            </div>
        </div>
        <h3>Adding a Social Identity Provider</h3>
        <div class="MCDropDown">
            <div class="MCDropDownHead_0"><a class="MCDropDownHotSpot_0" href="javascript:void(0);" id="MCDropDownHotSpot_2678021994_8" onclick="FMCDropDown( this ); return false;"><img style="border: none;margin-right: 5px;" src="../../SkinSupport/DropDownClosed.gif" MadCap:altsrc="../../SkinSupport/DropDownOpen.gif" onload="if ( typeof( FMCPreloadImage ) == 'function' ) { FMCPreloadImage( '../../SkinSupport/DropDownOpen.gif' ); }" alt="Closed" MadCap:alt2="Open" class="MCDropDownIcon" />Adding a Social Identity Provider</a>
            </div>
            <div class="MCDropDownBody" id="MCDropDownBody_2678021994_8" style="display: none;">
                <p><b>Note:</b> This is an Early Access feature. To obtain it, contact Okta Support.</p>
                <p>Adding a Social Identity Provider in Okta allows your end users to self-register with your custom applications by first authenticating through their existing social identity accounts such as Facebook, Google, or LinkedIn. For new users of your custom app, you can configure Okta to create a Just In Time (JIT) Okta user profile based on attributes stored in your end users' social profiles.</p>
                <p>To add a social identity provider, click <b>Add Identity Provider</b>, and then select a social IdP. Detailed information is available on the <a href="http://developer.okta.com/docs/api/resources/social_authentication">Social Authentication</a> article on the Okta Developer Site.</p>
                <p><b>Key Benefits of Social Authentication</b>
                </p>
                <ul>
                    <li value="1">No need to build and maintain your own user database, engineer a sign-on and authentication infrastructure, or manage usernames and passwords.</li>
                    <li value="2">Ensure quick and easy self-registration to your custom applications.</li>
                    <li value="3">Okta profiles are updated automatically when your users update their social profiles.</li>
                    <li value="4">Users do not need to remember an additional password.</li>
                </ul>
            </div>
        </div>
        <p>&#160;</p>
        <script type="text/javascript" src="../../SkinSupport/MadCapBodyEnd.js">
        </script>
    </body>
</html>