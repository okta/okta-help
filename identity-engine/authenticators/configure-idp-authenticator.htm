<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Nikita Apraj">
    <head>
        <link href="../../../Resources/TableStyles/standard-shade-col1.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%]</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Identity Provider (IdP)&#160;factor authentication allows admins to enable a custom SAML&#160;MFA factor based on a configured Identity Provider. " />
    </head>
    <body>
        <div>
            <h1>Configure the IdP authenticator</h1><a name="Overview"></a>
            <p>Learn about using the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator in <MadCap:variable name="okta-variables.ProductName" />.</p>
            <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/standard-shade-col1.css');" class="TableStyle-standard-shade-col1" cellspacing="0">
                <col class="TableStyle-standard-shade-col1-Column-Column1" />
                <col class="TableStyle-standard-shade-col1-Column-Column" />
                <tbody>
                    <tr class="TableStyle-standard-shade-col1-Body-Body1">
                        <td class="TableStyle-standard-shade-col1-BodyE-Column1-Body1">Factor type</td>
                        <td class="TableStyle-standard-shade-col1-BodyD-Column-Body1">	
Possession</td>
                    </tr>
                    <tr class="TableStyle-standard-shade-col1-Body-Body2">
                        <td class="TableStyle-standard-shade-col1-BodyE-Column1-Body2">Method characteristics</td>
                        <td class="TableStyle-standard-shade-col1-BodyD-Column-Body2">
                            <p>	
User presence</p>
                        </td>
                    </tr>
                    <tr class="TableStyle-standard-shade-col1-Body-Body1">
                        <td class="TableStyle-standard-shade-col1-BodyB-Column1-Body1">Description</td>
                        <td class="TableStyle-standard-shade-col1-BodyA-Column-Body1">You can configure a SAML or OIDC <MadCap:variable name="okta-feature-names.Identity Provider full name" /> (<MadCap:variable name="okta-feature-names.Identity Provider" />) of your choice as an MFA authenticator. End users are directed to this <MadCap:variable name="okta-feature-names.Identity Provider full name" /> to authenticate. Once the verification is successful, they're redirected to <MadCap:variable name="okta-variables.ProductName" />.</td>
                    </tr>
                </tbody>
            </table>
            <p>After you configure an <MadCap:variable name="okta-feature-names.Identity Provider full name" />, you can enable it as an authenticator and add it to an authentication enrollment policy. End users see an option to use this <MadCap:variable name="okta-feature-names.Identity Provider" /> for extra verification when signing in to <MadCap:variable name="okta-variables.ProductName" />.  They're directed to the <MadCap:variable name="okta-feature-names.Identity Provider full name" /> to authenticate and then redirected to <MadCap:variable name="okta-variables.ProductName" /> once verification is successful.</p>
            <p>You can add an <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator for existing SAML&#160;or OIDC-based <MadCap:variable name="okta-feature-names.Identity Provider" /> authentication. You can also configure an existing SAML 2.0  or OIDC&#160;<MadCap:variable name="okta-feature-names.Identity Provider full name" />&#160;to use as an <MadCap:variable name="okta-feature-names.Identity Provider" /> authentication provider.</p>
            <h2><a name="BeforeYouBegin"></a>Before you begin</h2>
            <ul>
                <li>Admin access to <MadCap:variable name="okta-variables.ProductName" /> is required.</li>
                <li>An existing <MadCap:variable name="okta-feature-names.Identity Provider full name" /> must be available to use as the additional step-up authentication provider. </li>
            </ul>
            <h2>SAML&#160;and OIDC claims mapping</h2>
            <p><MadCap:variable name="okta-variables.ProductName" /> expects the following claims for SAML&#160;and OIDC:</p>
            <ul>
                <li>For the SAML&#160;response, the <span class="code">subjectNameId</span> claim is mapped to the <MadCap:variable name="okta-variables.ProductName" /> username.</li>
                <li>For the OIDC&#160;response, the <span class="code">preferred_username</span> claim is mapped to the <MadCap:variable name="okta-variables.ProductName" /> username.</li>
            </ul>
            <h2><a name="Procedure"></a>Configure an IdP&#160;authenticator</h2>
            <p>There are two stages to configure an IdP&#160;authenticator:&#160;</p>
            <ol>
                <li>Add an <MadCap:variable name="okta-feature-names.Identity Provider full name" /> to <MadCap:variable name="okta-variables.ProductName" />.</li>
                <li>
                Enable the&#160;<MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator.
            </li>
            </ol>
            <h3><a name="AddIdP"></a>Add <MadCap:variable name="okta-feature-names.Identity Provider full name" /> to <MadCap:variable name="okta-variables.ProductName" /></h3>
            <ol>
                <li>
                    <MadCap:snippetBlock src="../../../Resources/Snippets/task steps/Security_IdentityProviders.flsnp" />
                </li>
                <li>Click <span class="uicontrol">Add <MadCap:variable name="okta-feature-names.Identity Provider full name" /></span> and select the Identity Provider you want to add.</li>
                <li>Click <span class="uicontrol">Next</span>. The  setup page for the <MadCap:variable name="okta-feature-names.Identity Provider full name" /> appears.</li>
            </ol>
            <div class="noteOkta">
                <p class="noteContent">
                    <ul>
                        <li>Each
<MadCap:variable name="okta-feature-names.Identity Provider full name" /> page includes a link to its setup instructions. Read these instructions to learn about how to configure the <MadCap:variable name="okta-feature-names.Identity Provider" />.					</li>
                        <li>In the <span class="wintitle">General Settings</span> section, select the <span class="uicontrol">Factor only</span> option from the <span class="uicontrol">IdP Usage</span> dropdown. You can't use the <span class="uicontrol">SSO&#160;only</span> option with the IdP authenticator.</li>
                        <li>JIT settings aren't supported with the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator.</li>
                    </ul>
                </p>
            </div>
            <h3><a name="EnableIdPFactor"></a>Enable the IdP authenticator</h3>
            <p>After adding the <MadCap:variable name="okta-feature-names.Identity Provider full name" />, enable the IdP authenticator.</p>
            <p>
                <ol>
                    <li>
                        <MadCap:snippetText src="../../../Resources/Snippets/task steps/Security_Authenticators.flsnp" />
                    </li>
                    <li>
                    Click <span class="uicontrol">Add authenticator</span>.
                </li>
                    <li>
                    Click <span class="uicontrol">Add</span> on the <span class="uicontrol">IdP Authenticator</span> tile.</li>
                    <li>Select the <MadCap:variable name="okta-feature-names.Identity Provider full name" /> from the menu. </li>
                    <li>Click <span class="uicontrol">Save</span>.</li>
                    <li>Configure the settings for the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator in the authenticator enrollment policy. See <MadCap:xref href="../policies/create-mfa-policy.htm">Create an authentication enrollment policy</MadCap:xref> for instructions.</li>
                </ol>
            </p>
            <div>
                <h3><a name="Custom"></a>Rename Duo Security custom IdP</h3>
                <p>If you have configured both <MadCap:variable name="3rd Party Integrations.Duo Security" /> as an authenticator (factor)&#160;and a custom IdP authenticator that is named <MadCap:variable name="3rd Party Integrations.Duo Security" />, you may encounter an error when upgrading from <MadCap:variable name="okta-feature-names.Classic Engine" /> to <MadCap:variable name="okta-feature-names.Identity Engine" />. To avoid this, you must rename the custom IdP factor before  upgrading. </p>
                <ol>
                    <li>
                        <MadCap:snippetBlock src="../../../Resources/Snippets/task steps/Security_IdentityProviders.flsnp">
                        </MadCap:snippetBlock>
                    </li>
                    <li>Next to the <MadCap:variable name="okta-feature-names.Identity Provider full name" /> you want to rename, click <span class="menucascade"><span class="uicontrol">ActionsConfigure Identity Provider</span></span>. The <span class="wintitle">Edit <MadCap:variable name="okta-feature-names.Identity Provider" /></span> page opens.</li>
                    <li>Go to <span class="uicontrol">General Settings</span> and click <span class="uicontrol">Edit</span>.</li>
                    <li>Rename the <MadCap:variable name="okta-feature-names.Identity Provider full name" />. The new name should be different from <MadCap:variable name="3rd Party Integrations.Duo Security" />.</li>
                    <li>Click <span class="uicontrol">Update <MadCap:variable name="okta-feature-names.Identity Provider full name"></MadCap:variable></span>.</li>
                </ol>
            </div>
            <h3><a name="EndUserExperience"></a>End user experience</h3>
            <ul>
                <li>End users are prompted to enroll in the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator authentication the next time they sign in.</li>
                <li>After the end user has enrolled in the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator, it appears on their <span class="wintitle">Settings</span> page in the <span class="wintitle">Security Methods</span> section.</li>
                <li>When an end user triggers the use of the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator, it times out after five minutes of inactivity. After this time, they must trigger the use of the <MadCap:variable name="okta-feature-names.Identity Provider" /> authenticator again.</li>
            </ul>
            <h3>Limitations </h3>
            <p>The <MadCap:variable name="okta-feature-names.Identity Provider" />&#160;authenticator isn't supported for use with the following:</p>
            <ul>
                <li><MadCap:variable name="okta-variables.ProductName" /> Integrated Windows Authentication agent (IWA) for <MadCap:variable name="okta-feature-names.Desktop Single Sign On" />.</li>
                <li>Device Trust integrations that use the <span class="uicontrol">Untrusted Allow with MFA</span> configurations.</li>
                <li>MFA for RDP, ADFS, RADIUS logins, or other non-browser based sign-in flows don't support the IdP authenticator.</li>
                <li>Microsoft Azure Active Directory (AAD) as an <MadCap:variable name="okta-feature-names.Identity Provider full name" />. To use AAD as an <MadCap:variable name="okta-feature-names.Identity Provider" />, see <MadCap:xref href="../../Provisioning/azure/azure-identify-identity-provider.htm">Make Azure Active Directory an Identity Provider</MadCap:xref>.</li>
                <li>Third generation <MadCap:variable name="okta-feature-names.Sign-In Widget" />.</li>
            </ul>
            <h3><a name="RelatedLinks"></a>Related topics</h3>
            <p>
                <MadCap:xref href="../../Security/Identity_Providers.htm">Identity Providers</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../policies/about-policies.htm">Sign-on policies and rules</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="authentication-main.htm">Authentication</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../../Security/Security_General.htm">General Security</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../../Security/network/network-zones.htm">Network zones</MadCap:xref>
            </p>
        </div>
    </body>
</html>