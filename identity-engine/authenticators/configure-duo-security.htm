<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Nikita Apraj"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True">
   <head>
      <title>
         <MadCap:variable name="3rd Party Integrations.Duo Security"/> for MFA | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Configure Duo Security MFA to utilize Duo as a second factor during user authentication."/>
   </head>
   <body>
      <h1>Configure the <MadCap:variable name="3rd Party Integrations.Duo Security"/> authenticator</h1>
      <p>You can add <MadCap:variable name="3rd Party Integrations.Duo Security"/> as a multifactor authentication (MFA) option in <MadCap:variable name="okta-variables.ProductName"/>. When enabled as an authenticator, <MadCap:variable name="3rd Party Integrations.Duo Security"/> is the system of record for MFA and <MadCap:variable name="okta-variables.ProductName"/> delegates secondary verification of credentials to your <MadCap:variable name="3rd Party Integrations.Duo Security"/> account.</p>
      <p>If you have a <MadCap:variable name="3rd Party Integrations.Duo Security"/> deployment with existing enrollments, make sure that your <MadCap:variable name="3rd Party Integrations.Duo Security"/> usernames match the <MadCap:variable name="okta-variables.ProductName"/> usernames or email addresses of your <MadCap:variable name="okta-variables.ProductName"/> users. When a user signs in to <MadCap:variable name="okta-variables.ProductName"/> or accesses an <MadCap:variable name="okta-variables.ProductName"/>-protected resource, <MadCap:variable name="okta-variables.ProductName"/> looks up the user in your <MadCap:variable name="3rd Party Integrations.Duo Security"/> account according to the user's <MadCap:variable name="okta-variables.ProductName"/> username or email address. You can change username mapping as described in this topic.</p>
      <p>End users without an existing <MadCap:variable name="3rd Party Integrations.Duo Security"/> enrollment can self-enroll during sign-in or through their <MadCap:variable name="3rd Party Integrations.Duo Security"/> account page. Depending on your <MadCap:variable name="okta-variables.ProductName"/> integration settings in <MadCap:variable name="3rd Party Integrations.Duo Security"/>, end users can enroll with a smartphone, tablet, telephone, <MadCap:variable name="3rd Party Integrations.Touch ID(Apple)"/>, and security keys. </p>
      <ul>
         <li>
            <MadCap:xref href="#Before">Before you begin        </MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Add">Add [%=3rd Party Integrations.Duo Security%] as an authenticator</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Enroll">Enroll [%=3rd Party Integrations.Duo Security%] in a multifactor policy</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#End-user">End-user experience</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#End">End-user settings in the Duo Mobile app</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Importan">Important considerations</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Related">Related topics</MadCap:xref>
         </li>
      </ul>
      <div>
         <h2>
            <a name="Before"/>Before you begin        </h2>
         <p>In <MadCap:variable name="3rd Party Integrations.Duo Security"/>, integrate your <MadCap:variable name="3rd Party Integrations.Duo Security"/> account with <MadCap:variable name="okta-variables.ProductName"/>. This generates the following values. Record these values and enter them in the <MadCap:variable name="okta-variables.ProductName"/>
            <MadCap:variable name="okta-feature-names.Administrator dashboard"/> later:</p>
         <ul>
            <li>An integration key</li>
            <li>A secret key</li>
            <li>An API hostname</li>
         </ul>
      </div>
      <h2>
         <a name="Add"/>Add <MadCap:variable name="3rd Party Integrations.Duo Security"/> as an authenticator</h2>
      <ol>
         <li>In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">Security</span>
               <span class="uicontrol">Authenticators</span>
            </span>.</li>
         <li>On the <span class="wintitle">Setup</span> tab, click <span class="uicontrol">Add Authenticator</span>.</li>
         <li>Click <span class="uicontrol">Add</span> on the <span class="uicontrol">
               <MadCap:variable name="3rd Party Integrations.Duo Security"/>
            </span> tile.</li>
         <li>In <span class="wintitle">Settings</span>, enter the values you generated in <MadCap:variable name="3rd Party Integrations.Duo Security"/> when you integrated with <MadCap:variable name="okta-variables.ProductName"/>:<ul>
               <li>Integration key</li>
               <li>Secret key</li>
               <li>API hostname</li>
            </ul>
         </li>
         <li>From the <span class="uicontrol">
               <MadCap:variable name="3rd Party Integrations.Duo Security"/> username format</span> dropdown, select a format:<ul>
               <li>
                  <MadCap:variable name="okta-variables.ProductName"/> username</li>
               <li>Email</li>
               <li>SAM Account Name</li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Add</span>.</li>
         <li>Enroll <MadCap:variable name="3rd Party Integrations.Duo Security"/> in a multifactor policy. See <MadCap:xref href="../policies/create-mfa-policy.htm">Create an authentication enrollment policy</MadCap:xref> for instructions.</li>
      </ol>
      <div>
         <h2>
            <a name="Enroll"/>Enroll <MadCap:variable name="3rd Party Integrations.Duo Security"/> in a multifactor policy</h2>
         <ol>
            <li>In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
                  <span class="uicontrol">Security</span>
                  <span class="uicontrol">Authenticators</span>
               </span>.</li>
            <li>On the <span class="wintitle">Enrollment</span> tab, add a new or edit an existing multifactor policy:<p>Add a policy:</p>
               <ol style="list-style-type: lower-alpha;">
                  <li> Click <span class="uicontrol">Add Multifactor Policy</span>.</li>
                  <li>Enter a name.</li>
                  <li>Assign the policy to groups.</li>
                  <li>  Set <MadCap:variable name="3rd Party Integrations.Duo Security"/> to <span class="uicontrol">Optional</span> or <span class="uicontrol">Required</span>.</li>
                  <li>Click <span class="uicontrol">Create Policy</span>.</li>
               </ol>
               <p>Edit a policy: </p>
               <ol style="list-style-type: lower-alpha;">
                  <li>Select the policy that you want to edit, and then click <span class="uicontrol">Edit</span>.</li>
                  <li>In the <span class="wintitle">Eligible authenticators</span>  list, set <MadCap:variable name="3rd Party Integrations.Duo Security"/> to <span class="uicontrol">Optional</span> or <span class="uicontrol">Required</span>.</li>
                  <li>Click <span class="uicontrol">Update Policy</span>.</li>
               </ol>
            </li>
         </ol>
         <ol MadCap:continue="true">
            <li>To add one or more rules to the policy, see <MadCap:xref href="../policies/add-mfa-policy-rule.htm">Configure an authentication enrollment policy rule</MadCap:xref>.</li>
         </ol>
      </div>
      <h2>
         <a name="End-user"/>End-user experience</h2>
      <p>The end-user experience depends on whether users are already enrolled in <MadCap:variable name="3rd Party Integrations.Duo Security"/> before you configure it as an authenticator in <MadCap:variable name="okta-variables.ProductName"/>.</p>
      <h3>New <MadCap:variable name="3rd Party Integrations.Duo Security"/> enrollments</h3>
      <ol>
         <li>After you configure <MadCap:variable name="3rd Party Integrations.Duo Security"/> as an authenticator in <MadCap:variable name="okta-variables.ProductName"/>, end users signing in to <MadCap:variable name="okta-variables.ProductName"/> or accessing an <MadCap:variable name="okta-variables.ProductName"/>-protected app are guided to enroll themselves in <MadCap:variable name="3rd Party Integrations.Duo Security"/>.</li>
         <li>
                The end user clicks <span class="uicontrol">Set up</span> and is prompted to select the type of device they're adding. Here's the user experience for two commonly chosen device types:</li>
         <ul>
            <li>Mobile phone: The user is prompted to enter their phone number and select a country and their device type (for example, Android or iOS). The user may also be prompted to receive a text or a phone call to verify their ownership of the phone number. Then the user is prompted to install the Duo Mobile app or indicate that it's already installed. Lastly, the user is prompted to activate their enrollment by scanning a QRcode or clicking the option <span class="uicontrol">Email me an activation link instead</span>. </li>
            <li>
               <MadCap:variable name="3rd Party Integrations.Touch ID(Apple)"
                                style="font-weight: normal;"/>: The user follows onscreen prompts to enroll with <MadCap:variable name="3rd Party Integrations.Touch ID(Apple)"/>. During the flow the user is prompted to scan their fingerprint. Depending on the <MadCap:variable name="okta-variables.ProductName"/>
               <MadCap:variable name="okta-feature-names.app sign-on policy"/>, the user may also be prompted to set up another authenticator such as a security question.</li>
         </ul>
      </ol>
      <div class="noteOkta">
         <p class="noteContent">After choosing a device during self-enrollment, end users can add devices if the option <span class="uicontrol">Add a new device</span> appears in Duo Mobile settings. To enable that option, the Duo admin must select the <span class="uicontrol">Self-service portal</span> in the Duo Admin Panel.</p>
      </div>
      <h3>Existing <MadCap:variable name="3rd Party Integrations.Duo Security"/> enrollments</h3>
      <ol>
         <li>After you configure <MadCap:variable name="3rd Party Integrations.Duo Security"/> as an authenticator  in <MadCap:variable name="okta-variables.ProductName"/>, users see <MadCap:variable name="3rd Party Integrations.Duo Security"/> as an authentication option when they sign in to <MadCap:variable name="okta-variables.ProductName"/> or access an <MadCap:variable name="okta-variables.ProductName"/>-protected app.<br> or</br>
         </li>
         <li>The user selects <MadCap:variable name="3rd Party Integrations.Duo Security"/>.</li>
         <li>During sign-in, the user may be prompted for additional verification, depending on how your <MadCap:variable name="okta-feature-names.app sign-on policy"/> or <MadCap:variable name="3rd Party Integrations.Duo Security"/> deployment are configured. To verify their identity, users select an authentication type that their device supports.</li>
      </ol>
      <div>
         <h2>
            <a name="End"/>End-user settings in the Duo Mobile app</h2>
         <p>When enrolling in or authenticating with <MadCap:variable name="3rd Party Integrations.Duo Security"/>, end users can access the <span class="uicontrol">Settings</span> menu in the Duo Mobile app for the following options:</p>
         <ul>
            <li>
               <span class="uicontrol">Manage Settings &amp; Devices</span>. See <a href="https://guide.duo.com/manage-devices" target="_blank">
                  <MadCap:variable name="3rd Party Integrations.Duo Security"/> documentation</a>.</li>
            <li>
               <span class="uicontrol">Add a new device</span> appears if the Duo admin selected <span class="uicontrol">the Self-service portal</span> option in the Duo Admin Panel. See <a href="https://duo.com/docs/self-service-portal">
                  <MadCap:variable name="3rd Party Integrations.Duo Security"/> documentation</a>.</li>
         </ul>
      </div>
      <h2>
         <a name="Importan"/>Important considerations</h2>
      <ul>
         <li>
            <MadCap:variable name="okta-variables.ProductName"/> denies access to any end user (including <MadCap:variable name="okta-variables.ProductName"/> admins) whose <MadCap:variable name="3rd Party Integrations.Duo Security"/> account is disabled or locked. Depending on your <MadCap:variable name="okta-variables.ProductName"/>
            <MadCap:variable name="okta-feature-names.app sign-on policy"/>, these end users may not be able to sign in to <MadCap:variable name="okta-variables.ProductName"/>-protected resources using a different authenticator.</li>
         <li>
            <MadCap:variable name="okta-variables.ProductName"/> Support can't reset <MadCap:variable name="3rd Party Integrations.Duo Security"/> devices for their users. Only a <MadCap:variable name="3rd Party Integrations.Duo Security"/> administrator can reset the status of <MadCap:variable name="3rd Party Integrations.Duo Security"/> accounts. As a best practice, make sure that you have multiple <MadCap:variable name="3rd Party Integrations.Duo Security"/> administrators and that your <MadCap:variable name="okta-variables.ProductName"/> admins have multiple registered devices.</li>
         <li>Resetting an authenticator  in an end user's <MadCap:variable name="okta-variables.ProductName"/> profile doesn't reset their account in <MadCap:variable name="3rd Party Integrations.Duo Security"/>. Likewise, if users remove <MadCap:variable name="3rd Party Integrations.Duo Security"/> from the <span class="wintitle">Security Methods</span> section on their <MadCap:variable name="okta-variables.ProductName"/>
            <span class="uicontrol">Settings</span> page, the enrollment remains in <MadCap:variable name="3rd Party Integrations.Duo Security"/>. In this case, to allow the end user to enroll in a different <MadCap:variable name="3rd Party Integrations.Duo Security"/> authentication method, delete their enrollment in the <MadCap:variable name="3rd Party Integrations.Duo Security"/> Admin Panel. Otherwise, the end user continues to be prompted with the same method they were using before the authenticator  was reset or removed in <MadCap:variable name="okta-variables.ProductName"/>.</li>
         <li>If the user uses a Windows device, the <MadCap:variable name="3rd Party Integrations.Touch ID(Apple)"/> option isn't available in the <MadCap:variable name="3rd Party Integrations.Duo Security"/> app.</li>
         <li>
            <p>MFA for Remote Desktop Protocol(RDP) doesn't support the <MadCap:variable name="3rd Party Integrations.Duo Security"/> authenticator.</p>
         </li>
         <li>
            <p>The third-generation <MadCap:variable name="okta-feature-names.Sign-In Widget"/> doesn't support the <MadCap:variable name="3rd Party Integrations.Duo Security"/> authenticator.</p>
         </li>
      </ul>
      <div>
         <h2>
            <a name="Related"/>Related topics</h2>
         <p>
            <MadCap:xref href="../policies/create-mfa-policy.htm">Create an authentication enrollment policy</MadCap:xref>
         </p>
         <p>
            <MadCap:xref href="../policies/add-mfa-policy-rule.htm">Configure an authentication enrollment policy rule</MadCap:xref>
         </p>
         <p>
            <a href="https://duo.com/docs" target="_blank">Duo documentation</a>
         </p>
      </div>
   </body>
</html>
