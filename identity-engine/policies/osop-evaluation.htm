<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Graham Smith">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Global session policy evaluation</h1>
        <p>To determine if a policy is applied to a particular user, <MadCap:variable name="okta-variables.ProductName" /> evaluates the conditions of the policy and  its rules. </p>
        <ul>
            <li><span class="term">Policies</span> contain groups of resources that require similar treatment, such as apps with the same security characteristics or user groups with the same account setup requirements. </li>
            <li><span class="term">Rules</span> describe the conditions of policy behavior, like requests from a geographical location or whether the user is on or off a trusted network. Every policy has at least one rule. </li>
        </ul>
        <p>As a best practice, restrictive rules should be placed at the top of the <span class="uicontrol">Priority</span> list. Beyond that, you can create combinations of conditions for multiple scenarios. There isn’t a limit to the number of rules your policies can have. </p>
        <p>For example, if you create a policy that you assign to the group "Admins," you can create conditions relevant to the needs of administrators. A rule applied to the policy might be one that allows for a self-service unlock only under certain conditions. One condition might be whether a particular admin is off or on your company network.</p>
        <h2>System Log events</h2>
        <p>The following System Log events are available to assist with the identification and resolution of authentication issues:</p>
        <p><code>policy.evaluate_sign_on</code>
        </p>
        <ul>
            <li>Returns user authentication prompt verification success or failure and provides authenticator enrollment information including the authenticator type and specific authenticator instance used. </li>
            <li>This event is activated when a user enters a code or responds to a push notification. It's not activated when a code or push notification is sent. See <MadCap:xref href="../authenticators/about-authenticators.htm">Authenticators and MFA enrollment</MadCap:xref>.</li>
        </ul>
        <p><code>user.authentication.auth_via_mfa</code>
        </p>
        <ul>
            <li>Returns global session policy or <MadCap:variable name="okta-feature-names.app sign-on policy" /> evaluation information including the application being accessed and the policy rule that was matched. Sign-on policy evaluation may occur multiple times during an authentication sequence. </li>
            <li>This event can have <span class="code">Allow</span>, <span class="code">Deny</span>, and <span class="code">Challenge</span> values. <span class="uicontrol">Challenge</span> indicates that additional user authentication was required.</li>
        </ul>
        <p><code>user.session.start</code>
        </p>
        <ul>
            <li>Returns the status of a user's first authenticator verification attempt. If a user enters an incorrect authenticator, <code>VERIFICATION_ERROR</code> is returned.</li>
        </ul>
        <p>See <a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=ext_Reports_SysLog">System Log</a> more information.</p>
        <h2>Notes</h2>
        <ul>
            <li>
                <p>The global session policy controls how long an overall session is valid, but the <MadCap:variable name="okta-feature-names.app sign-on policy" />  controls re-authentication frequency.</p>
            </li>
            <li>
                <p>An end user’s session expires according to the <span class="uicontrol">Session expires after</span> setting in the global session policy. At this point, end users must re-authenticate according to the <MadCap:variable name="okta-feature-names.app sign-on policy" /> rules, regardless of whether they selected the <span class="uicontrol">Keep me signed in</span> option when signing in.</p>
            </li>
        </ul>
        <h2>Related topics</h2>
        <ul>
            <li>
                <MadCap:xref href="create-okta-sign-on-policy.htm">Create an [%=okta-feature-names.Okta sign-on policy%]</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="add-okta-sign-on-policy-rule.htm">Add an [%=okta-feature-names.Okta sign-on policy%] rule</MadCap:xref>
            </li>
        </ul>
        <br />
    </body>
</html>