<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:fileTags="Tags/okta-authors.Tim Howie">
   <head>
      <link href="../../../Resources/TableStyles/standard-no-header.css"
            rel="stylesheet"
            MadCap:stylesheetType="table"/>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
   </head>
   <body>
      <h1>Manage Profile Enrollment policies</h1>
      <p MadCap:conditions="Primary.do-not-publish">This topic is only for Classic. In OIE, it has been replaced by configure-profile-enrollment-policy.htm</p>
      <p> A Profile Enrollment policy collects required profile attributes from an end user when they attempt to access an app. The policy can be used for self-registration or progressive profiling.</p>
      <p>In self-registration scenarios, end users click a <span class="uicontrol">Sign-up</span> link in the  Sign-In Widget, and by the time they have authenticated into the app, their profile is complete and they’ve been provisioned to the appropriate groups. The default Profile Enrollment policy has <span class="uicontrol">Sign-up</span> enabled, and it controls self-registration for your org.</p>
      <p>In progressive profiling scenarios, the policy collects the additional data required by an application if the user has not accessed it yet. Progressive profiling is useful if you want to verify a user’s email addresses before they access a more sensitive application, or when visitors need to create a profile before they can view or download org resources.</p>
      <h2>
         <a name="Create"/>Create a Profile Enrollment policy</h2>
      <p>Super admin access is required to create policies.</p>
      <ol>
         <li>
            <MadCap:snippetText src="../../../Resources/Snippets/task steps/Security_ProfileEnrollment.flsnp"/>
         </li>
         <li>Select the default policy, or, to create a new one, click <span class="uicontrol">Add Profile Enrollment Policy</span>. Note that  org sign-up is controlled by the default policy. To enable sign-up for a specific app—but not the org—do not allow sign-up in the default policy (see the Sign-Up options in step 8).</li>
         <li>Enter a new policy <span class="uicontrol">Name</span>.</li>
         <li>Click the Edit icon to open the policy page and click <span class="uicontrol">Manage Apps</span>.</li>
         <li>On the Apps Using (Policy Name) page, click <span class="uicontrol">Add an App to This Policy</span>. Select <span class="uicontrol">Apply</span> for each app, and then click <span class="uicontrol">Close</span>. </li>
         <li>Click <span class="uicontrol">Back to Profile Enrollment Policy</span>.</li>
         <li>In <span class="wintitle">Enrollment Settings</span>, click the More Options icon and then select <span class="uicontrol">Edit</span>.</li>
         <li>
            <p>Indicate your conditions.</p>
            <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/standard-no-header.css');"
                   class="TableStyle-srb_no_header"
                   cellspacing="0">
               <col class="TableStyle-srb_no_header-Column-Column1" style="width: 37%;"/>
               <col class="TableStyle-srb_no_header-Column-Column1"/>
               <tbody>
                  <tr class="TableStyle-srb_no_header-Body-Body1">
                     <td class="TableStyle-srb_no_header-BodyF-Column1-Body1">
                        <span class="uicontrol">Prompt the user for data</span>
                     </td>
                     <td class="TableStyle-srb_no_header-BodyD-Column1-Body1">
                                Indicate a maximum of 10 attributes to appear in the Profile enrollment form. When you add a field, its display name appears in <span class="uicontrol">Form Label</span>. You can make fields on the enrollment form optional, but the end user will be required to enter a value if they are required by the user schema. Note that an attribute can't be used on the enrollment form if it appears in any of your org's user types with the following conditions:
                                <ul>
                           <li>Read-only or hide permissions
                                    </li>
                           <li>Marked sensitive</li>
                           <li>Sourced from an external app</li>
                        </ul>
                                If you want these new fields to persist, add them to Profile Editor as described in step 11.
                            </td>
                  </tr>
                  <tr class="TableStyle-srb_no_header-Body-Body2">
                     <td class="TableStyle-srb_no_header-BodyF-Column1-Body2">
                        <span class="uicontrol">Email verification</span>
                     </td>
                     <td class="TableStyle-srb_no_header-BodyD-Column1-Body2">
                        <p>Indicate whether email verification is required before access is granted.</p>
                        <p>If you do not require email verification, we strongly recommend you configure step-up authentication to ensure the account’s security during the account recovery process. Examples of step-up authentication include <MadCap:variable name="okta-feature-names.Okta Verify"/>, phone, and security questions. To set up these authentication factors, see <MadCap:xref href="../authenticators/configure-sspr.htm">Self-service account recovery</MadCap:xref>.</p>
                     </td>
                  </tr>
                  <tr class="TableStyle-srb_no_header-Body-Body1">
                     <td class="TableStyle-srb_no_header-BodyF-Column1-Body1">
                        <span class="uicontrol">Add the user to group</span>
                     </td>
                     <td class="TableStyle-srb_no_header-BodyD-Column1-Body1">The user is automatically added to all groups indicated here. To review groups in your org, click <span class="uicontrol">Go to Groups</span>.</td>
                  </tr>
                  <tr class="TableStyle-srb_no_header-Body-Body2">
                     <td class="TableStyle-srb_no_header-BodyC-Column1-Body2">
                        <span class="uicontrol">Sign-up</span>
                     </td>
                     <td class="TableStyle-srb_no_header-BodyA-Column1-Body2">
                                Customize this policy for self-registration or progressive profiling.
                                <ul>
                           <li>If you want users to self-register for your org, keep this option <span class="uicontrol">Allowed</span> in your default policy.</li>
                           <li>If you want users to self-register for the app but not the org, select <span class="uicontrol">Denied</span> in your default policy. Then, create a new profile enrollment policy specifically for the app with Sign-up <span class="uicontrol">Allowed</span>.</li>
                           <li>If you want to create a progressive profiling policy, select <span class="uicontrol">Denied</span>. In progressive profiling scenarios, self-registration is denied but existing users are still prompted for additional profile attributes, assigned to the specified group, and required to verify their email address.</li>
                        </ul>
                     </td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li>In the <span class="uicontrol">Use the following inline hook</span> condition, indicate whether you want to use an inline hook for registration. The hook will not run until the user has completed the enrollment form.</li>
         <li>Click <span class="uicontrol">Save</span>.</li>
         <li>If you added fields to the enrollment form in step 8, go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Profile Editor</span>
            </span>.<ul>
               <li>
                  <p> If the attribute you added is new, click <span class="uicontrol">Add Attribute</span> and enter the information about the new attribute. Click <span class="uicontrol">Save</span>.</p>
               </li>
               <li>
                  <p>Find the attribute, and then click its information icon to edit the attribute properties.</p>
               </li>
               <li>
                  <p>In the <span class="uicontrol">User permission</span> dropdown box, select <span class="uicontrol">Read - Write</span>. End users who do not have write access to any required fields can’t complete self-registration.</p>
               </li>
               <li>
                  <p>Click <span class="uicontrol">Save Attribute</span>. End users can modify this field after registration in their settings page.</p>
               </li>
            </ul>
         </li>
      </ol>
      <p MadCap:conditions="Primary.do-not-publish">Org sign-up is controlled by the default Profile Enrollment policy. To enable sign-up for a specific app, but not the org, do not allow sign-up in the default policy. Create a new Profile Enrollment policy that applies to the  app and allow sign-up there. These settings are described further in step 7.</p>
      <p MadCap:conditions="Primary.do-not-publish">Super admin access is required to create policies.</p>
      <ol>
         <li MadCap:conditions="Primary.do-not-publish">
            <MadCap:snippetText src="../../../Resources/Snippets/task steps/Security_ProfileEnrollment.flsnp"/>
         </li>
         <li MadCap:conditions="Primary.do-not-publish">Select the default Profile Enroll policy, or, to create a new one, click <span class="uicontrol">Add New Profile Enroll Policy</span>. </li>
         <li MadCap:conditions="Primary.do-not-publish">Enter a new policy <span class="uicontrol">Name</span>.</li>
         <li MadCap:conditions="Primary.do-not-publish">On the policy page, click <span class="uicontrol">Manage Apps</span>.</li>
         <li MadCap:conditions="Primary.do-not-publish">On the Apps Using (Policy Name) page, click <span class="uicontrol">Add an App to this Policy</span>.</li>
         <li MadCap:conditions="Primary.do-not-publish">On the policy page, click
            <span class="menucascade">
              <span class="uicontrol">More Options</span>
              <span class="uicontrol">Edit</span>
            </span> for the default rule.</li>
         <li MadCap:conditions="Primary.do-not-publish">Indicate your conditions.<ul>
               <li MadCap:conditions="Primary.do-not-publish">
                  <span class="uicontrol">Prompt the user for data</span>: Indicate a maximum of 10 attributes to appear in the Profile enrollment form. When you add a field, its display name appears in <span class="uicontrol">Form Label</span>. You can make fields on the enrollment form optional, but the end user will be required to enter a value if they are required by the user schema. If you want these new fields to persist, add them to Profile Editor as described in step 10.</li>
               <li MadCap:conditions="Primary.do-not-publish">
                  <span class="uicontrol">Email Verification</span>: Indicate whether email verification is required before access is granted.</li>
               <li MadCap:conditions="Primary.do-not-publish">
                  <span class="uicontrol">Add the user to group</span>: Indicate which group the user is automatically added to. To review groups in your org, click <span class="uicontrol">Go to Groups</span>.</li>
               <li MadCap:conditions="Primary.do-not-publish">
                  <span class="uicontrol">Sign-Up</span>: This is where you can customize self-registration.<ul>
                     <li MadCap:conditions="Primary.do-not-publish">If you want users to self-register for your org, select this option in your default policy.</li>
                     <li MadCap:conditions="Primary.do-not-publish">If you want users to self-register for the app but not the org, deny sign-up in your default policy. Then, create a new Profile Enrollment policy specifically for the app and select <span class="uicontrol">Sign-Up</span> there.</li>
                  </ul>
               </li>
            </ul>
         </li>
         <li MadCap:conditions="Primary.do-not-publish">In the <span class="uicontrol">THEN Use the following inline hook</span> condition, indicate whether you want to use an inline hook for registration. The hook will not run until the user has completed the enrollment form.</li>
         <li MadCap:conditions="Primary.do-not-publish">
            <MadCap:snippetText src="../../../Resources/Snippets/task steps/Click_Save.flsnp"/>
         </li>
         <li MadCap:conditions="Primary.do-not-publish">If you added fields to the enrollment form in the step 7, go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Profile Editor</span>
            </span>.<ul>
               <li MadCap:conditions="Primary.do-not-publish">Find the attribute, and then click its information icon. If the attribute you added is new, click <span class="uicontrol">Add Attribute</span>.</li>
               <li MadCap:conditions="Primary.do-not-publish">In the <span class="uicontrol">User permission</span> dropdown box, select <span class="uicontrol">Read - Write</span>. End users who do not have write access to any required fields can’t complete self-registration.</li>
               <li MadCap:conditions="Primary.do-not-publish">Click <span class="uicontrol">Save Attribute</span>. End users can modify this field after registration in their settings page.</li>
            </ul>
         </li>
      </ol>
      <h2>Update a Profile Enrollment policy</h2>
      <ol>
         <li>
            <MadCap:snippetText src="../../../Resources/Snippets/task steps/Security_ProfileEnrollment.flsnp"/>
         </li>
         <li>On the Profile Enrollment page, locate the policy, and then click the <span class="uicontrol">edit</span> or <span class="uicontrol">delete</span> icon in the Actions column. If you want to delete the policy but the icon isn't available, this policy is  assigned to an app. See step 3 for options.
            </li>
         <li>
                On the Policy page, you can:
                <ul>
               <li>
                  <p>Assign the policy to apps (or remove it) by clicking <span class="uicontrol">Manage Apps</span>.
                    </p>
               </li>
               <li>
                  <p>View app settings by clicking the tile menu and selecting <span class="uicontrol">Go to this app</span>.
                    </p>
               </li>
               <li>
                  <p>Change which policy applies to the app by clicking the tile menu and then selecting <span class="uicontrol">Apply a different policy</span>.
                    </p>
               </li>
               <li>
                  <p>Change conditions in the rule by clicking the More Options menu and then selecting <span class="uicontrol">Edit</span>. If you add required attributes to the enrollment form, users are prompted for this information during their next sign-in attempt.
                    </p>
               </li>
            </ul>
         </li>
      </ol>
      <div class="noteOkta">
         <p class="noteContent">A rule is automatically deactivated if all of the included users or groups are deleted.</p>
      </div>
      <h2>End user experience</h2>
      <h3>Self-service registration</h3>
      <MadCap:snippetBlock src="../snippets/eu-self-registration.flsnp"/>
      <h3>Progressive profiling</h3>
      <MadCap:snippetBlock src="../snippets/eu-progressive-profiling.flsnp"/>
   </body>
</html>
