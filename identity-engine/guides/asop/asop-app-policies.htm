<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
   </head>
   <body>
      <h1>Get started with <MadCap:variable name="okta-feature-names.app sign-on policies"/>
      </h1>
      <p>In this use case, you'll set up an authentication policy for a higher level of assurance that comes from the type of factor used. For example, a knowledge factor like a password is not as secure as an inherence factor like a fingerprint. A secondary authentication method at the org level is now required.</p>
      <h2>Setup and configuration</h2>
      <h3>Create a global session policy</h3>
      <ol>
         <li>
            <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Security_Global_Session_Policy.flsnp"/>
         </li>
         <li>Click <span class="uicontrol">Add a New Global Session Policy</span>.</li>
         <li>In the <span class="uicontrol">Add Policy</span> dialog, add a <span class="uicontrol">Policy Name</span> and optional <span class="uicontrol">Policy Description</span>.</li>
         <li>In the <span class="uicontrol">Assign to Groups</span> field, select <span class="uicontrol">Everyone</span>, then click <span class="uicontrol">Create Policy and Add Rule</span>.</li>
         <li>In the <span class="uicontrol">Add Rule</span> dialog, in the <span class="code">AND</span>
            <span class="uicontrol">Establish the user session with</span> field, select <span class="uicontrol">Any factor used to meet the Authentication Policy rules</span>.</li>
         <li>In the <span class="uicontrol">Multifactor authentication is</span> field, select <span class="uicontrol">required</span>, and then select  <span class="uicontrol">At every sign in</span>. This option prevents users from controlling their own MFA prompts, so it's suitable for use with behavior conditions, which detect high-risk sign-in events.</li>
         <li> Click <span class="uicontrol">Create Rule</span>.</li>
      </ol>
      <div class="noteOkta">
         <p class="noteContent">The <span class="uicontrol">When signing in with a new device cookie</span> and <span class="uicontrol">After MFA lifetime expires</span> options reduce MFA for a group of users. Because it allows users to bypass MFA if they appear to be signing in from the same device (based on a browser cookie), they're only appropriate for low-risk, low-assurance use cases. They shouldn't be used with behavior conditions.</p>
      </div>
      <h3>Create groups</h3>
      <p>Create a group for sign-in and add a person to it. These example steps use bookmark apps, but use the app integration you need for each app.</p>
      <ol>
         <li>In the Admin Console, go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Groups</span>
            </span>.</li>
         <li>Click <span class="uicontrol">Add Group</span>.</li>
         <li>In the <span class="uicontrol">Add Group</span> dialog, enter a <span class="uicontrol">Name</span> (for example, Group for low assurance app). </li>
         <li>Enter a <span class="uicontrol">Group Description</span> and click <span class="uicontrol">Save</span>.</li>
         <li>Go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">People</span>
           </span> and click <span class="uicontrol">Add person</span>.</li>
         <li>In the <span class="uicontrol">Add Person</span> dialog, add a <span class="uicontrol">First name</span>, <span class="uicontrol">Last name</span>, <span class="uicontrol">Username</span>, and <span class="uicontrol">Primary email</span>. Add your own email to the <span class="uicontrol">Secondary email</span> field.</li>
         <li>In the <span class="uicontrol">Groups</span> field, select the group you created in step 2.</li>
         <li>In the <span class="uicontrol">Password</span> field, select <span class="uicontrol">Set by admin</span>. </li>
         <li>Enter a password, and then clear <span class="uicontrol">User must change password on first login</span>.</li>
         <li>Click <span class="uicontrol">Save</span>.</li>
         <li>Repeat this process for another group (for the high assurance app).</li>
      </ol>
      <h3>Create bookmark apps</h3>
      <ol>
         <li>In the Admin Console, go to <span class="menucascade">
               <span class="uicontrol">Applications</span>
               <span class="uicontrol">Applications</span>
            </span>. </li>
         <li>Select <span class="uicontrol">Browse App Catalog</span>.</li>
         <li style="text-decoration: underline;">In the <span class="uicontrol">Search</span> box, enter <span class="userinput">bookmark app</span>, select <span class="uicontrol">Bookmark App</span> and click <span class="uicontrol">Add</span>.</li>
         <li>On the <span class="uicontrol">Add Bookmark App</span> screen, change the Application label to <span class="uicontrol">Bookmark for low assurance app</span>.</li>
         <li>Enter a <span class="uicontrol">URL</span> and click <span class="uicontrol">Done</span>. Because this app is for demonstration purposes only, you can choose any URL you like. In a real environment, you would use the URL of the app you're setting up SSO for.</li>
         <li>Select the <span class="uicontrol">Assignments</span> tab.</li>
         <li>Select <span class="menucascade">
               <span class="uicontrol">Assign</span>
               <span class="uicontrol">Assign to Groups</span>
           </span> and select <span class="uicontrol">Assign</span> for <span class="uicontrol">Group for low assurance app</span>. Don't click the group name unless you want to review the group properties.</li>
         <li>Click <span class="uicontrol">Done</span>.</li>
         <li>Repeat this process for another bookmark app that you will use to create the second <MadCap:variable name="okta-feature-names.app sign-on policy"/> (<span class="uicontrol">Bookmark for high assurance app)</span>.</li>
      </ol>
      <h3>Create authentication policies</h3>
      <p>Create an authentication policy that requires one factor type and another that requires two factor types. When creating an authentication policy, you should consider who the policy applies to. Which specific users, groups, user types, or specific users should this policy apply to?</p>
      <h4>Authentication policy for low assurance app</h4>
      <ol>
         <li>
            <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Security_Authentication_Policy.flsnp"/>
         </li>
         <li>
            <p>Click <span class="uicontrol">Add a policy</span>.</p>
         </li>
         <li>
            <p>Enter a policy <span class="uicontrol">Name</span> and <span class="uicontrol">Description</span>.</p>
         </li>
         <li>
            <p>Click <span class="uicontrol">Save</span>.</p>
         </li>
         <li>On the <span class="wintitle">Rules</span> tab, click <span class="uicontrol">Add rule</span>.</li>
         <li>Enter a <span class="uicontrol">Rule Name</span>.</li>
      </ol>
      <ol MadCap:continue="true">
         <li>In the <span class="code">IF</span>
            <span class="uicontrol">User's user type is</span> field, select <span class="uicontrol">Any user type</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">User's group membership includes</span> a field, select <span class="uicontrol">At least one of the following groups</span>.</li>
         <li>Start entering the name of the group you created in the prerequisites and then select it.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">User is</span> field, select <span class="uicontrol">Any user</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">Device State</span> field, select <span class="uicontrol">Any</span>.</li>
         <li>Select <span class="uicontrol">Any platform</span> for <span class="code">AND</span>
            <span class="uicontrol">Device Platform is</span> and <span class="uicontrol">Any IP</span> for <span class="code">AND</span>
            <span class="uicontrol">User's IP is</span>. Leave the <span class="code">AND</span>
            <span class="uicontrol">The following custom expression is true</span> field blank. You can use Expression Language to add a custom expression to an <MadCap:variable name="okta-feature-names.app sign-on policy"/>.</li>
         <li>For the <span class="code">AND</span>
            <span class="uicontrol">User must authenticate with</span> field, select <span class="uicontrol">Any 1 factor type.</span> The app-level sign-on policy presents the user with a list of their enrolled authenticators (including password), allowing them to pick the one they want to use.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">Access with Okta FastPass is granted</span> field, select <span class="uicontrol">If the user approves a prompt in Okta Verify or provides biometrics</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">Re-authentication frequency field is</span>, select <span class="uicontrol">Every sign-in attempt</span>. That means the authenticator has to be verified every time the user accesses the app. If you select <span class="uicontrol">Re-authenticate after</span>, the authenticator will re-authenticate if it hasn't been used within the given time frame. The re-authentication frequency timestamp indicates the start of the authorization period and does not change when the authorization is reused for another app. It changes when the authorization period expires and needs to be reauthorized.</li>
         <li>Click <span class="uicontrol">Save</span>.</li>
         <li>Open the <span class="wintitle">Applications</span> tab. </li>
         <li>Search for the Bookmark for low assurance app, and then click <span class="uicontrol">Add app</span>.</li>
      </ol>
      <h4>App sign-on policy for high assurance app</h4>
      <ol>
         <li>
            <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Security_Authentication_Policy.flsnp"/>
         </li>
         <li>
            <p>Click <span class="uicontrol">Add a policy</span>.</p>
         </li>
         <li>
            <p>Enter a policy <span class="uicontrol">Name</span> and <span class="uicontrol">Description</span>.</p>
         </li>
         <li>
            <p>Click <span class="uicontrol">Save</span>.</p>
         </li>
         <li>On the <span class="wintitle">Rules</span> tab, click <span class="uicontrol">Add rule</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">User's user type is</span> field, select <span class="uicontrol">Any user type</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">User's group membership includes a field</span>, select <span class="uicontrol">At least one of the following groups</span>.</li>
         <li>Start typing the name of the group you created in the prerequisites and then select it.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">User is</span> field, select <span class="uicontrol">Any user</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">Device State</span> field, select <span class="uicontrol">Any</span>.</li>
         <li>Select <span class="uicontrol">Any platform</span> for <span class="code">AND</span>
            <span class="uicontrol">Device Platform is</span> and <span class="uicontrol">Any IP</span> for <span class="code">AND</span>
            <span class="uicontrol">User's IP is</span>. Leave the <span class="code">AND</span>
            <span class="uicontrol">The following custom expression is true</span> field blank. You can use Expression Language to add a custom expression to an <MadCap:variable name="okta-feature-names.app sign-on policy"/>.</li>
         <li>For the <span class="code">AND</span>
            <span class="uicontrol">User must authenticate with</span> field, select <span class="uicontrol">Any 2 factor types</span>. The <MadCap:variable name="okta-feature-names.app sign-on policy"/> presents the user with a list of their enrolled authenticators (including password), allowing them to pick the one they want to use.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">Access with Okta FastPass is granted</span> field, select <span class="uicontrol">If the user approves a prompt in Okta Verify or provides biometrics</span>.</li>
         <li>In the <span class="code">AND</span>
            <span class="uicontrol">Re-authentication frequency field</span>, choose <span class="uicontrol">Every sign-in attempt</span>. That means the authenticator has to be verified every time the user accesses the app. If you select <span class="uicontrol">Re-authenticate after</span>, the authenticator will re-authenticate if it hasn't been used within the given time frame. The re-authentication frequency timestamp indicates the start of the authorization period and does not change when the authorization is reused for another app. It changes when the authorization period expires and needs to be reauthorized.</li>
         <li>Click <span class="uicontrol">Save</span>.</li>
         <li>Open the <span class="uicontrol">Applications</span> tab. </li>
         <li>Search for the Bookmark for high assurance app, and then click <span class="uicontrol">Add app</span>.</li>
      </ol>
      <h2>User sign-in experience</h2>
      <p>When a user attempts to launch an app governed by an <MadCap:variable name="okta-feature-names.app sign-on policy"/>, their experience is determined by the assurance level of the policy. Assurance levels are determined by business needs; these are examples only.</p>
      <h3>Low assurance app</h3>
      <p>Launch the application from any device. You should see the prompt for one authentication method.</p>
      <h3>High assurance app</h3>
      <p>Launch the application from any device. You should see the prompts for two authentication methods consecutively.</p>
      <h3>Catch-all app</h3>
      <p>Launch the application from any device. You should only see the prompt for a password.</p>
      <h4>Switch between low and high assurance</h4>
      <ul>
         <li>Launch the low assurance app, then launch the high assurance app. You should see a request for additional authentication.</li>
         <li>Launch the high assurance app, then launch the low assurance app. You should be able to open the low assurance app without additional authentication.</li>
      </ul>
      <h3>Turn on <MadCap:variable name="okta-feature-names.Okta FastPass"/>
      </h3>
      <p>Optionally, turn on <MadCap:variable name="okta-feature-names.Okta FastPass"/> so you can see the user experience.</p>
      <ol>
         <li>In the Admin Console, go to <span class="menucascade">
               <span class="uicontrol">Security</span>
               <span class="uicontrol">Authenticators</span>
            </span>.</li>
         <li>In the <span class="uicontrol">Authenticators</span> section, enable <span class="uicontrol">Okta FastPass using Okta Verify</span> by selecting <span class="menucascade">
               <span class="uicontrol">Actions</span>
               <span class="uicontrol">Edit</span>
            </span>.</li>
         <li>On the <span class="uicontrol">Okta Verify</span> screen, in the <span class="uicontrol">Verification options</span> section, select <span class="uicontrol">Okta Fast (All platforms)</span>.</li>
         <li>In the <span class="uicontrol">Okta FastPass</span> section, select <span class="uicontrol">Show the "Sign in with Okta FastPass" button</span>. This does three things:<ul>
               <li>It walks first-time users through installing <MadCap:variable name="okta-feature-names.Okta Verify"/> and registering a device.</li>
               <li>It allows an alternative if the user's configuration doesn't permit silent sign-on. For example, Mac users without a device management solution like Jamf Pro or amSafari SSO browser extension will not be able to sign in silently. Enabling the button allows these users a way to sign in.</li>
               <li>It acts as a backup if Okta Verify doesn't load automatically.</li>
            </ul>
         </li>
      </ol>
      <p>After you've turned on <MadCap:variable name="okta-feature-names.Okta FastPass"/>, you can see it in <MadCap:variable name="okta-feature-names.app sign-on policies"/> under <span class="uicontrol">Available Authenticators</span>.</p>
      <p>Users can now log in to the higher assurance app with <MadCap:variable name="okta-feature-names.Okta FastPass"/> only, assuming they have biometrics enabled.</p>
   </body>
</html>
