<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Kimli Welsh">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Add device assurance policies for ChromeOS and Google&#160;<MadCap:variable name="3rd Party Integrations.GOOG-Chrome-short" /></h1>
        <p>Okta’s device assurance policies determine access privileges within an org. These policies consider various factors such as device signals, compliance, and security posture to evaluate the trustworthiness of a device. When the Chrome Device Trust connector is configured, you can gather essential device posture signals from the Chrome browser or ChromeOS, ensuring a more comprehensive assessment of the device's security state.</p>
        <h2>Before you begin</h2>
        <p>
            <MadCap:xref href="enable-chrome-dt.htm" target="_blank">Set up the Chrome Device Trust connector</MadCap:xref> in the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" /> and in the Google Admin console before completing the tasks on this page. Signals from ChromeOS require devices to be enrolled in device management in the Google Admin console, and signals from macOS and Windows require Chrome browser to be enrolled in browser management in the Google Admin console. </p>
        <h2>Tasks</h2>
        <ul>
            <li>
                <p>
                    <MadCap:xref href="#chrome-edr-task2">Create a device assurance policy for ChromeOS</MadCap:xref>
                </p>
            </li>
            <li>
                <p>
                    <MadCap:xref href="#chrome-edr-task3">Create a device assurance policy for managed Chrome browsers</MadCap:xref>
                </p>
            </li>
            <li>
                <p>
                    <MadCap:xref href="#chrome-edr-task-5">Add a macOS&#160;device assurance policy using Google</MadCap:xref>
                </p>
            </li>
            <li>
                <p>
                    <MadCap:xref href="#chrome-edr-task-6">Add a Windows&#160;device assurance policy using Google</MadCap:xref>
                </p>
            </li>
            <li>
                <p>
                    <MadCap:xref href="#chrome-edr-task4">Add device assurance to an authentication policy</MadCap:xref>
                </p>
            </li>
        </ul>
        <h2><a name="chrome-edr-task2"></a>Create a device assurance policy for ChromeOS</h2>
        <ol>
            <li>
                <p>In the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" />, go to <span class="menucascade"><span class="uicontrol">Security</span> <span class="uicontrol">Device Assurance Policies</span></span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Add a policy</span>.</p>
            </li>
            <li>
                <p>Give the policy a unique name, and then select <span class="wintitle">ChromeOS</span> as the platform.</p>
            </li>
            <li>
                <p>Configure attributes for the ChromeOS device assurance policy:</p>
                <ul>
                    <li><span class="uicontrol">Device management</span>:&#160;The device must be enrolled in ChromeOS device management.</li>
                    <li><span class="uicontrol">Minimum ChromeOS&#160;version</span>:&#160;Enter the minimum version details for ChromeOS.</li>
                    <li>
                        <p><span class="uicontrol">Disk encryption</span>:&#160;Select the checkbox if the device disk must be encrypted.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Firewall</span>:&#160;Select this checkbox if a firewall must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Screen lock password</span>:&#160;If you select this option, the device requires a password to unlock.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Screen lock</span>:&#160;Select this checkbox to permit screen locking.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Minimum Chrome browser version</span>:&#160;Enter version details for the minimum Chrome browser version allowed by the policy.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Device enrollment domain</span>: Add the domain for device enrollment.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Chrome&#160;DNS&#160;client</span>:&#160;Select this checkbox if Chrome&#160;DNS client must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Chrome Remote Desktop app</span>: Select this checkbox if the Chrome&#160;Remote&#160;Desktop app must be blocked.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Safe Browsing protection level</span>: Use the dropdown menu to select a preset value. </p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Site Isolation</span>: Select this checkbox if Site Isolation must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Password protection warning</span>: Use the dropdown menu to select a preset value. </p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Enterprise-grade URL scanning</span>: Select this checkbox if enterprise-grade URL&#160;scanning must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Key trust level for ChromeOS</span>:&#160;Select <span class="wintitle">Device in verified mode</span> from the dropdown menu. </p>
                    </li>
                </ul>
            </li>
            <li>
                <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Click_Save.flsnp" />
            </li>
        </ol>
        <h2><a name="chrome-edr-task3"></a>Create a device assurance policy for managed Chrome browsers</h2>
        <ol>
            <li>
                <p>In the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" />, go to <span class="menucascade"><span class="uicontrol">Security</span> <span class="uicontrol">Device Assurance Policies</span></span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Add a policy</span>.</p>
            </li>
            <li>
                <p>Give the policy a unique name, and then select <span class="wintitle">macOS</span> or <span class="wintitle">Windows</span> as the platform.</p>
            </li>
            <li>
                <p>Select <span class="wintitle">Chrome Device Trust</span> as the <span class="uicontrol">Device attribute provider</span>.</p>
                <p>If you select both <MadCap:variable name="okta-feature-names.Okta Verify" /> and Chrome&#160;Device&#160;Trust as providers, there may be some overlap in signals. In this scenario, the signal from <MadCap:variable name="okta-variables.ProductName" /> is given priority.</p>
            </li>
            <li>
                <p>Configure the attributes for the Chrome Device&#160;Trust device assurance policy. Attribute options vary based on the platform selected. See <MadCap:xref href="../device-assurance-add.htm">Add a device assurance policy</MadCap:xref>.</p>
            </li>
            <li>
                <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Click_Save.flsnp" />
            </li>
            <li>
                <p>Optional. Repeat these steps to add a second device assurance policy for Chrome Device&#160;Trust on another platform.</p>
            </li>
        </ol>
        <div class="noteOkta">
            <p class="noteContent"> When an end user signs in to their ChromeOS device from the sign-in screen, they're performing single sign-on (SSO) for all their Google Workspace applications. This means using a device assurance policy for Workspace on ChromeOS is only evaluated at the first sign-in attempt, which is the ChromeOS sign-in screen. To avoid device lockout, Okta recommends assigning a baseline device assurance policy to Workspace on ChromeOS, and then adding more security controls for non-Workspace applications.</p>
        </div>
        <h2><a name="chrome-edr-task-5"></a>Add a macOS&#160;device assurance policy for Chrome Device&#160;Trust signals</h2>
        <div class="noteOkta">
            <p class="noteContent">The Chrome&#160;Device&#160;Trust connector only sends signals from macOS devices that are equipped with Secure Enclave.</p>
        </div>
        <ol>
            <li>
                <p>In the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" />, go to <span class="menucascade"><span class="uicontrol">Security</span> <span class="uicontrol">Device&#160;Assurance&#160;Policies</span></span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Add a policy</span>. </p>
            </li>
            <li>
                <p>Enter a <span class="uicontrol">Policy name</span>, and then choose <span class="userinput">macOS</span> as the <span class="uicontrol">Platform</span>. </p>
            </li>
            <li>
                <p><MadCap:variable name="okta-feature-names.Okta Verify" /> is selected as the <span class="uicontrol">Device attribute provider</span> by default. Select <span class="wintitle">Chrome&#160;Device&#160;Trust</span>, and clear the <MadCap:variable name="okta-feature-names.Okta Verify" /> checkbox if you want Google to solely provide the device posture. You can also select both <MadCap:variable name="okta-feature-names.Okta Verify" /> and Chrome Device Trust as device attribute providers. This may cause some overlap in signals. In this scenario, the signal from <MadCap:variable name="okta-feature-names.Okta Verify" /> is given priority.</p>
            </li>
            <li>
                <p>Select the policy attributes:</p>
                <ul>
                    <li><span class="uicontrol">Minimum macOS version</span>: Select a preset version from the list, or specify a custom version.</li>
                    <li>
                        <p><span class="uicontrol">Screen lock password</span>: If you select this option, the screen lock must require a password.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Disk encryption</span>: If you select this option, the disk must be encrypted. Only internal and system volumes are evaluated for disk encryption. Volumes that are hidden, removable, automounted, or used for recovery aren’t evaluated for disk encryption.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Firewall</span>:&#160;Select this checkbox if a firewall must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Minimum Chrome browser version</span>:&#160;Enter version details for the minimum Chrome browser version allowed by the policy.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Device enrollment domain</span>: Add the domain for device enrollment.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Chrome&#160;DNS&#160;client</span>:&#160;Select  this checkbox if Chrome&#160;DNS client must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Chrome Remote Desktop app</span>: Select this checkbox if the Chrome&#160;Remote&#160;Desktop app must be blocked.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Safe Browsing protection level</span>: Use the dropdown menu to select a preset value. </p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Site Isolation</span>: Select this checkbox if site isolation must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Password protection warning</span>: Use the dropdown menu to select a preset value. </p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Enterprise-grade URL scanning</span>: Select this checkbox if enterprise-grade URL&#160;scanning must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Key trust level for Chrome</span>:&#160;Use the dropdown menu to select a preset value. </p>
                    </li>
                </ul>
            </li>
            <li>
                <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Click_Save.flsnp" />
            </li>
        </ol>
        <h2><a name="chrome-edr-task-6"></a>Add a Windows&#160;device assurance policy for Chrome Device&#160;Trust signals</h2>
        <ol>
            <li>
                <p>In the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" />, go to <span class="menucascade"><span class="uicontrol">Security</span> <span class="uicontrol">Device&#160;Assurance&#160;Policies</span></span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Add a policy</span>. </p>
            </li>
            <li>
                <p>Enter a <span class="uicontrol">Policy name</span>, and then choose <span class="userinput">Windows</span> as the <span class="uicontrol">Platform</span>. </p>
            </li>
            <li>
                <p><MadCap:variable name="okta-feature-names.Okta Verify" /> is selected as the <span class="uicontrol">Device attribute provider</span> by default. Select <span class="wintitle">Chrome&#160;Device&#160;Trust</span>, and clear the <MadCap:variable name="okta-feature-names.Okta Verify" /> checkbox if you want only Chrome Device&#160;Trust to provide the device posture. You can also select both <MadCap:variable name="okta-feature-names.Okta Verify" /> and Chrome Device Trust as device attribute providers. This may cause some overlap in signals. In this scenario, the signal from <MadCap:variable name="okta-feature-names.Okta Verify" /> is given priority.</p>
            </li>
            <li>
                <p>Select the policy attributes:</p>
                <ul>
                    <li><span class="uicontrol">Minimum Windows version</span>: Select a preset version from the list, or specify a custom version.</li>
                    <li>
                        <p><span class="uicontrol">Lock screen secured</span>: Select this option if the lock screen must be secured by a password, Windows Hello, or a smart card.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Disk encryption</span>: If you select this option, the disk must be encrypted. Only internal and system volumes are evaluated for disk encryption. Volumes that are hidden, removable, automounted, or used for recovery aren’t evaluated for disk encryption.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Firewall</span>:&#160;Select this checkbox if the firewall must be enabled.</p>
                    </li>
                </ul>
                <ul>
                    <li><span class="uicontrol">Minimum Chrome browser version</span>:&#160;Enter version details for the minimum Chrome browser version allowed by the policy.</li>
                    <li>
                        <p><span class="uicontrol">Device enrollment domain</span>: Add the domain for device enrollment.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Chrome&#160;DNS&#160;client</span>:&#160;Select this checkbox if Chrome&#160;DNS client must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Chrome Remote Desktop app</span>: Select this checkbox if the Chrome&#160;Remote&#160;Desktop app must be blocked.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Safe Browsing protection level</span>: Use the dropdown menu to select a preset value. </p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Site Isolation</span>: Select this checkbox if Site Isolation must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Password protection warning</span>: Use the dropdown menu to select a preset value. </p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Enterprise-grade URL scanning</span>: Select this checkbox if enterprise-grade URL&#160;scanning must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Secure Boot</span>:&#160;Select this checkbox if&#160;Secure Boot must be enabled.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Windows machine domain</span>:&#160;Enter the domain of the Windows machine.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Windows user domain</span>:&#160;Enter the domain for user accounts.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Third party software injection</span>:&#160;Select this checkbox if third party software injection must be blocked.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">CrowdStrike - Agent ID</span>:&#160;Enter your CrowdStrike Agent ID.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">CrowdStrike - Customer ID</span>:&#160;Enter your CrowdStrike&#160;Customer ID.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Key trust level for Chrome</span>:&#160;Use the dropdown menu to select a preset value. </p>
                    </li>
                </ul>
            </li>
            <li>
                <MadCap:snippetBlock src="../../../../Resources/Snippets/task steps/Click_Save.flsnp" />
            </li>
        </ol>
        <h2><a name="chrome-edr-task4"></a>Add device assurance to an authentication policy</h2>
        <p>Adding device assurance to an authentication policy rules allow you to establish minimum requirements for unmanaged devices that have access to systems and applications in your organization. If you configure the policy rule to include multiple conditions, any of those conditions can trigger the rule. </p>
        <ol>
            <li>
                <p>In the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" />, go to <span class="menucascade"><span class="uicontrol">Security</span> <span class="uicontrol">Authentication Policies</span></span>. </p>
            </li>
            <li>
                <p>Select a policy, and then click <span class="uicontrol">Add Rule</span>.</p>
            </li>
            <li>
                <p> To add device assurance to an existing policy rule, select the policy rule you want to modify, and then click <span class="uicontrol">Edit</span>.</p>
            </li>
            <li>For <span class="uicontrol"><span class="code">AND</span> Device assurance policy is</span>, select <span class="uicontrol">Any of the following Device Assurance conditions</span>, and then enter the name of a device assurance you created previously. </li>
            <ul>
                <li>You can add multiple platform-specific device assurance policies. </li>
                <li>If you add multiple device assurance attributes to the same rule, they’re considered OR conditions. </li>
                <li>If the rule has other conditions, all conditions defined for the rule must be met for the rule to be applied. </li>
            </ul>
            <li>Specify any additional conditions and your desired outcome when  the conditions are met.</li>
            <li>Click <span class="uicontrol">Create Rule</span> or <span class="uicontrol">Save</span> to save your changes.</li>
        </ol>
        <h2>Troubleshooting</h2>
        <p>Ensure that the following is true: </p>
        <ul>
            <li>
                <p>The Chrome&#160;Device Trust integration is configured correctly in the Okta <MadCap:variable name="okta-feature-names.Administrator dashboard" />.</p>
            </li>
            <li>
                <p>A device assurance policy with Chrome&#160;Device&#160;Trust as the attribute provider exists.</p>
            </li>
            <li>
                <p>The device assurance policy is added to an app sign-on policy.</p>
            </li>
            <li>
                <p> The ChromeOS device and user are in the same organizational unit as the Okta provider configuration.</p>
            </li>
        </ul>
        <p>Run an authorization scenario for the account, and then view the System Log for the Chrome&#160;Device&#160;Trust events. </p>
        <h3>System Logs </h3>
        <p> You can view the System Log to ensure Chrome&#160;Device&#160;Trust signals are collected. Chrome Device&#160;Trust signals are available in the System Log when you expand the <span class="uicontrol">device</span> option under the <span class="wintitle">Device&#160;Integrator</span> key. Look for the following events:</p>
        <ul>
            <li>
                <p><span class="code">factors user.session.start</span> </p>
            </li>
            <li>
                <p><span class="code">user.authentication.verify</span> </p>
            </li>
            <li>
                <p><span class="code">policy.evaluate_sign_on</span>
                </p>
            </li>
            <li>
                <p><span class="code">user.authentication.auth_via_mfa</span> </p>
            </li>
        </ul>
        <p>Note that <span class="code">user.authentication.auth_via_mfa</span> only appears if your app sign-on policy requires multifactor authentication. See <a href="https://developer.okta.com/docs/api/openapi/okta-management/management/tag/DeviceAssurance/" target="_blank">Device Assurance Policies API</a> documentation. </p>
        <h3>Related topics</h3>
        <p>
            <MadCap:xref href="edr-integration-dt-chrome.htm">Integrate Okta with ChromeOS and Chrome&#160;browser</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="enable-chrome-dt.htm">Set up the Chrome Device Trust connector</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../device-assurance-policy-rule.htm">Add device assurance to an authentication policy</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../device-assurance-remediation-messages.htm">Remediation messages for device assurance</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../device-assurance.htm">Device assurance</MadCap:xref>
        </p>
    </body>
</html>