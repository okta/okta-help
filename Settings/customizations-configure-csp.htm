<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:conditions="Primary.review-only" MadCap:fileTags="Tags/okta-authors.Tim Howie" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>[%=Heading.Level1%]</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Customize the Content Security Policy (CSP) for a custom domain</h1>
        <p>
            <MadCap:annotation MadCap:createDate="2023-04-21T16:13:55.1805910-04:00" MadCap:creator="Robert Milkovich" MadCap:initials="RO" MadCap:comment="Remove review-only condition on Tuesday, July 11, 2023 per OKTA-550117.\r\nAnd remove review-only from the TOC entry." MadCap:editor="Robert Milkovich" MadCap:editDate="2023-06-13T12:45:27.5528097-04:00">You </MadCap:annotation>can customize the Content Security Policy (CSP) for a custom domain. This feature lets you control which URLs you can link to from your customized sign-in and error pages. You add URLs for trusted external resources, such as links to images, and then add these links to the code in your sign-in and error pages.</p>
        <div class="noteOkta">
            <p class="noteContent">The default CSP provided by <MadCap:variable name="okta-variables.ProductName" /> can break customizations.</p>
        </div>
        <h2>Customize the CSP</h2>
        <ol>
            <li>
                <MadCap:snippetBlock src="../../Resources/Snippets/task steps/Customizations_Branding.flsnp" />
            </li>
            <li>To add trusted external resources for sign-in pages, click <span class="uicontrol">Edit</span> in the <span class="wintitle">Sign-in page</span> section. To add trusted external resources for error pages, click <span class="uicontrol">Edit</span> in the <span class="wintitle">Error pages</span> section.</li>
            <li>Click <span class="wintitle">Settings</span>.</li>
            <li>Click <span class="uicontrol">Edit</span> in the <span class="wintitle">Content Security Policy</span> section.</li>
            <li>Create a list of <span class="wintitle">Trusted external resources</span>. Click <span class="uicontrol">Add</span> and enter or paste the URL for a trusted external resource in the field.
				<div class="noteOkta"><p class="noteContent">All external resources that aren't in this list are considered untrusted and won't be allowed to appear on your sign-in or error pages.</p></div></li>
            <li>Enter a <span class="uicontrol">Validations report URI</span> to send report details to.</li>
            <li>Choose an <span class="uicontrol">Enforcement</span> option:<ul><li>Select <span class="uicontrol">Enforced</span> to block resources that are untrusted by the CSP.</li><li>Select <span class="uicontrol">Not enforced (Report-only mode)</span> for testing purposes only.</li></ul></li>
            <li>Click <span class="uicontrol">Save to draft</span>.</li>
            <li>Click <span class="uicontrol">Preview</span> to review your changes.</li>
            <li>Click <span class="uicontrol">Publish</span>.</li>
        </ol>
        <div class="noteOkta">
            <p class="noteContent">See <a href="https://developer.okta.com/docs/guides/custom-widget/main/" target="blank">Style the sign-in page</a> and <a href="https://developer.okta.com/docs/guides/custom-error-pages/main/" target="blank">Customize the Okta-hosted error pages</a> for more details.</p>
        </div>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="settings-configure-custom-URL.htm">Configure a custom domain</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="branding-pages.htm">Customize your sign-in page</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="custom-error-pages.htm">Customize an error page</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="settings-customization-general.htm">Configure general customization settings</MadCap:xref>
        </p>
    </body>
</html>