<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Kimli Welsh">
    <body>
        <p>This use case allows administrators to establish device trust by evaluating device posture, such as whether the device is managed, before permitting end users to access sensitive applications. It also establishes Okta as a trusted identity provider to <MadCap:variable name="Mobile.WS1" />, allowing end users to log in to the <MadCap:variable name="Mobile.WS1" /> app, <MadCap:variable name="Mobile.WS1" /> Intelligent Hub app, and web portal using Okta authentication policies.</p>
        <p>Authentication flow for macOS and Windows devices:</p>
        <p>
            <img src="../../../Resources/Images/dti-flow-dt-desktopSSO-2.png" class="thumbnail" />
        </p>
        <p>A device trust flow for macOS and Windows 10 devices using the Salesforce application would follow this sequence:</p>
        <ol>
            <li>End user attempts to access the Salesforce tenant (SP-init only. IdP-init is not supported. See <MadCap:xref href="../SAML/Desktop/integrate-okta-dt-with-ws1-desktop.htm#caveats">Caveats</MadCap:xref>).</li>
            <li>Salesforce redirects to Okta as the configured identity provider.</li>
            <li>Okta processes the incoming request and routes the client to the <MadCap:variable name="Mobile.WS1" /> IdP based on configured routing rules.</li>
            <li><MadCap:variable name="Mobile.WS1" /> challenges the client device for credentials.</li>
            <li><MadCap:variable name="Mobile.WS1" /> checks the device compliance status.&#160;Workspace ONE&#160;blocks access if the device is managed but not compliant. If the device isn't managed, Workspace ONE  prompts for device enrollment. Note that Device Trust and access policies for desktop devices are defined in VMWare.</li>
            <li>Upon successful authentication with <MadCap:variable name="Mobile.WS1" />, the client device is redirected back to Okta.</li>
            <li>Okta validates the SAML assertion from <MadCap:variable name="Mobile.WS1" /> and issues the SAML assertion for Salesforce.</li>
        </ol>
        <p>To configure this use case:</p>
        <p>
            <MadCap:xref href="../SAML/Desktop/configure-vidm-idp-okta-desktop.htm">Step 1: Configure  [%=Mobile.VIDM%] as an Identity Provider in [%=okta-variables.ProductName%]</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../SAML/Desktop/configure-okta-apps-vidm-desktop.htm">Step 2: Configure Okta application source in [%=Mobile.VIDM%]</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../SAML/Desktop/configure-conditional-access-policies-desktop.htm">Step 3: Configure Device Trust and Access Policies in [%=Mobile.VMware%] for desktop devices</MadCap:xref>
        </p>
    </body>
</html>