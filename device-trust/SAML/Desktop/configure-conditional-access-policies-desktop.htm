<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Kimli Welsh">
    <head>
        <link href="../../../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Step 3: Configure Device Trust and Access Policies in <MadCap:variable name="Mobile.VMware" /> for desktop devices</h1>
        <h2>Prerequisites </h2>
        <p>
            <MadCap:xref href="configure-vidm-idp-okta-desktop.htm">Step 1: Configure  [%=Mobile.VIDM%] as an Identity Provider in [%=okta-variables.ProductName%]</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="configure-okta-apps-vidm-desktop.htm">Step 2: Configure Okta application source in [%=Mobile.VIDM%]</MadCap:xref>
        </p>
        <p>To configure access policies for desktop devices, you configure identity provider routing rules in Okta and conditional access policies in <MadCap:variable name="Mobile.VIDM" />. The Okta Device Trust solution is not yet available for desktop devices. To configure device trust for desktop devices, you can use Device Compliance as the second-factor authentication method in <MadCap:variable name="Mobile.VIDM" /> access policies.</p>
        <h2><a name="config-routing-rules-desktop-devices"></a>Configure Identity Provider Routing Rules in Okta for Desktop Devices</h2>
        <MadCap:snippetBlock src="../../ws1-snippets/dti-ws1-configure-idp-routing-rules-okta.flsnp" MadCap:conditionTagExpression="include[&quot;SnippetConditionsForDevices.macOS and Windows&quot;] exclude[&quot;SnippetConditionsForDevices.iOS and Android&quot;] " />
        <h2><a name="config-cap-in-vidm"></a>Configure Conditional Access Policies in <MadCap:variable name="Mobile.VIDM" /> for Desktop Devices</h2>
        <div>
            <p>To provide SSO and device trust for desktop devices, additional access policy rules are required in <MadCap:variable name="Mobile.VIDM" />.</p>
            <p>Create the access policy for macOS and Windows 10 with Certificate (Cloud Deployment) and Device Compliance as the authentication methods.</p>
            <div>
                <ol>
                    <li>Log in to the <MadCap:variable name="Mobile.VIDM" /> console as System administrator.</li>
                    <li>Click the <span class="uicontrol">Identity &amp; Access Management</span> tab.</li>
                    <li>Click the <span class="uicontrol">Policies</span> tab.</li>
                    <li>Click <span class="uicontrol">Add Policy</span>.</li>
                    <li>In the Definition page of the wizard, enter the following information.</li>
                </ol>
                <table border="1" cellpadding="4" style="height: 60px;mc-table-style: url('../../../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                    <col class="TableStyle-standard-Column-Column1" />
                    <col class="TableStyle-standard-Column-Column1" />
                    <thead>
                        <tr class="TableStyle-standard-Head-Header1">
                            <th class="TableStyle-standard-HeadF-Column1-Header1">Option</th>
                            <th class="TableStyle-standard-HeadD-Column1-Header1">Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-standard-Body-Body1">
                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol">Policy Name</span>
                            </td>
                            <td class="TableStyle-standard-BodyD-Column1-Body1">A name for the policy.</td>
                        </tr>
                        <tr class="TableStyle-standard-Body-Body2">
                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol">Description</span>
                            </td>
                            <td class="TableStyle-standard-BodyD-Column1-Body2">A description for the policy.</td>
                        </tr>
                        <tr class="TableStyle-standard-Body-Body1">
                            <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyC-Column1-Body1"><span class="uicontrol">Applies to</span>
                            </td>
                            <td class="TableStyle-standard-BodyA-Column1-Body1">Select <MadCap:variable name="okta-variables.ProductName" style="font-weight: bold;" />. This assigns  the access policy set to the Okta Application Source. All authentication requests from Okta are evaluated with this policy rule set.</td>
                        </tr>
                    </tbody>
                </table>
                <ol MadCap:continue="true">
                    <li>Click <span class="uicontrol">Next</span>.</li>
                    <li>In the Configuration page, click <span class="uicontrol">Add Policy Rule</span> and configure the policy rule for Windows 10.
<ol MadCap:continue="true" style="list-style-type: lower-alpha;"><li>Set <span class="uicontrol">Certificate (Cloud Deployment)</span> as the first authentication method and <span class="uicontrol">Device Compliance (with AirWatch)</span> as the fallback authentication method.&#160;	</li><div style="padding: 10px 10px;background-color: #fafafa;"><p>If a user's network range is set to <span class="uicontrol">ALL RANGES</span> and the user is accessing content from <span class="uicontrol">Windows 10</span>, the user may authenticate using <span class="uicontrol">Certificate (Cloud Deployment)</span>.</p><p>	If the preceding method fails or is not applicable, the user will authenticate using <span class="uicontrol">Device Compliance (with AirWatch)</span></p></div><li>Click <span class="uicontrol">Save</span>.</li></ol></li>
                    <li>Click <span class="uicontrol">Add Policy Rule</span> and configure the policy rule for macOS.
				
				
				
				
				
				
				<ol MadCap:continue="true" style="list-style-type: lower-alpha;"><li>Set <span class="uicontrol">Certificate (Cloud Deployment)</span> as the first authentication method and <span class="uicontrol">Device Compliance (with AirWatch)</span> as the fallback authentication method.&#160;	</li><div style="padding: 10px 10px;background-color: #fafafa;"><p>If a user's network range is <span class="uicontrol">ALL RANGES</span> and the user is accessing content from <span class="uicontrol">macOS</span>, the action <span class="uicontrol">Authenticate using</span> is <span class="uicontrol">Certificate (Cloud Deployment)</span>.</p><p>	If the preceding method fails or is not applicable, then the authentication falls back to <span class="uicontrol">Device Compliance (with AirWatch)</span>.</p></div><li>Click <span class="uicontrol">Save</span>.</li></ol></li>
                    <li> If you have also configured the <a href="../Mobile/integrate-okta-dt-with-ws1-mobile.htm" target="_blank">mobile version of this integration</a>, you must recreate mobile policies:</li>
                    <p class="earlyaccess">This is necessary because the policy rules you created in the previous steps of this procedure override the default access policy you configured in <MadCap:variable name="Mobile.VIDM" /> for mobile devices. Therefore, you must  add policy rules for <span class="uicontrol">iOS</span>, <span class="uicontrol">Android</span>, and <span class="uicontrol">Web browser</span> to this new policy similar to the rules that you added to the default access policy when you configured this solution for mobile devices.</p>
                    <ol MadCap:continue="true" style="list-style-type: lower-alpha;">
                        <li>
                            <p>Create a policy rule for iOS devices with Mobile SSO (iOS) as the first authentication method and Okta authentication as the fallback authentication method.</p>
                            <div style="padding: 10px 10px;background-color: #fafafa;">
                                <p>If a user's network range is <span class="uicontrol">ALL RANGES</span> and the user is accessing content from <span class="uicontrol">iOS</span>, the action <span class="uicontrol">Authenticate using</span> is set to <span class="uicontrol">Mobile SSO (iOS)</span>.</p>
                                <p>If the preceding method fails or is not applicable, then the user authenticates with <span class="uicontrol">Okta Auth</span>.</p>
                            </div>
                        </li>
                        <li>
                            <p>Create a policy rule for Android devices with Mobile SSO (iOS) as the first authentication method and Okta authentication as the fallback authentication method.</p>
                            <div style="padding: 10px 10px;background-color: #fafafa;">
                                <p>If a user's network range is <span class="uicontrol">ALL RANGES</span> and the user is accessing content from <span class="uicontrol">Android</span>,the action <span class="uicontrol">Authenticate using</span> is set to  <span class="uicontrol">Mobile SSO (Android)</span>.</p>
                                <p>	If the preceding method fails or is not applicable, then the user authenticates with <span class="uicontrol">Okta Auth</span>.</p>
                            </div>
                        </li>
                        <li>
                            <p>Create a policy rule for Web browsers with Okta as the authentication method.</p>
                            <div style="padding: 10px 10px;background-color: #fafafa;">
                                <p>If a user's network range is <span class="uicontrol">ALL RANGES</span> and the user is accessing content from <span class="uicontrol">Web Browser</span>, the action <span class="uicontrol">Authenticate using</span> is set to <span class="uicontrol">Okta Auth</span>.</p>
                            </div>
                        </li>
                    </ol>
                    <li>Arrange the policy rules in the following order, listed from top to bottom:</li>
                    <ol style="list-style-type: lower-alpha;" start="1">
                        <li>Workspace ONE App or Hub App</li>
                        <li>Windows 10 or Mac OS</li>
                        <li>
                            Windows 10 or Mac OS
</li>
                        <li>iOS or Android</li>
                        <li>iOS or Android</li>
                        <li>Web browser</li>
                    </ol>
                </ol>
            </div>
        </div>
    </body>
</html>