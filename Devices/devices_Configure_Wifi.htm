<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:fileTags="Tags/okta-authors.Kimli Welsh">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Configure WiFi Profiles and Policies for connectivity on devices with Okta Mobility Management. Users can join wireless networks without inputting credentials."/>
   </head>
   <body>
      <h1>Configure WiFi Profiles and Policies</h1>
      <MadCap:snippetBlock src="../Mobile/mobile-snippets/OMM-new-sales-not-supported.flsnp"/>
      <ul>
         <li>The <span class="wintitle">Devices</span> menu is available to orgs that implement Okta Mobility Management (OMM).</li>
         <li>The <span class="wintitle">OMM</span> menu is available to orgs that implement Okta Mobility Management (OMM).</li>
      </ul>
      <p>Okta offers two different WiFi features: WiFi Policies, and WiFi Profiles. You can implement only one of these features in an org. The WiFi Policies feature is Generally Available (GA) to most orgs, but it is not available if the WiFi Profiles Early Access (EA) feature is enabled for your org. The features are located in different areas of the Admin console. Use the following images to determine which WiFi feature your org implements:</p>
      <p MadCap:targetName="compareWiFi_1">
         <img src="../../Resources/Images/WifiFeatures_compare.png" class="thumbnail"/>
      </p>
      <h2>
         <a name="Okta_Mobile_WiFi_Profiles"/>Configure a WiFi profile</h2>
      <p class="earlyaccess">
         <MadCap:variable name="okta-variables.EarlyAccess"/>
      </p>
      <p>WiFi Profiles allow you to create multiple WiFi profiles and assign them to OMM-enrolled mobile devices so that users are not limited to a single WiFi profile on a device. It also supports the WPA/WPA2 Enterprise protocol to enable the following:</p>
      <ul>
         <li>Username and password authentication with a RADIUS server (you are no longer limited to shared key authentication).</li>
         <li>The option to add one or more server certificates needed to establish a secure connection to the WiFi network.</li>
      </ul>
      <p>See <a href="#Known">Known Issues</a> for feature limitations and workarounds, and see <MadCap:xref href="#Okta_Mobile_WiFi_Policies">Configure a WiFi policy</MadCap:xref> for details about the Generally Available WiFi Policies. </p>
      <h3>Requirements</h3>
      <h4>Authentication Environment</h4>
      <ul>
         <li>A directory service such as Active Directory (AD) or LDAP (other directory services may also work).
							<br/>If you have integrated your AD or LDAP environment with Okta:<ul>
               <li>The latest version of the Okta AD or LDAP agent must be installed on your designated domain server(s).</li>
               <li>Delegated Authentication must be enabled on all AD or LDAP instances.</li>
            </ul>
         </li>
         <li>RADIUS server that supports the PEAP/MSCHAPv2 authentication protocol (the current Okta RADIUS agent does not support this protocol).</li>
         <li>The password that your users enter to sign in to Okta must be the same as the password they enter to log in to your network.</li>
         <li>CA Certificates (WPA/WPA2 Enterprise networks).</li>
      </ul>
      <h4>Device configuration</h4>
      <ul>
         <li>OMM-enrolled iOS, OSX, and Android mobile devices</li>
         <li>Okta Mobile for Android verison 2.12 or later</li>
         <li>Any version of Okta Mobile for iOS</li>
         <li>Android devices must be configured with a passcode (assumes a WPA/WPA2 Enterprise security network)</li>
      </ul>
      <h3>Procedure</h3>
      <ol>
         <li MadCap:conditions="Devices.Devices-not-OMM">Go to <span class="menucascade">
               <span class="uicontrol">Devices</span>
               <span class="uicontrol">WiFi</span>
            </span>.</li>
         <li MadCap:conditions="Devices.OMM-not-Devices">Go to <span class="menucascade">
               <span class="uicontrol">OMM</span>
               <span class="uicontrol">WiFi</span>
            </span>.</li>
         <li>Click <span class="uicontrol">Add WiFi Network</span>.</li>
         <li>Configure the following on the <span class="wintitle">Add WiFi Network</span> screen:
								<ul>
               <li>
                  <span class="uicontrol">Network SSID</span>: Enter the name of the WiFi network.</li>
               <li>
                  <span class="uicontrol">Description (Optional)</span>: Enter a description for this WiFi profile.</li>
               <li>
                  <span class="uicontrol">Hidden</span>: Select this option if you want to establish a WiFi profile for a hidden Network SSID.</li>
               <li>
                  <span class="uicontrol">Auto join</span>: Select this option If you want your OMM-enrolled users to join this network automatically. If multiple WiFi network profiles are configured for your org, auto-join priority is given to the network with the strongest signal.
									<p>Note: The <span class="uicontrol">Auto join</span> option is not supported on Android devices.</p>
               </li>
               <li>
                  <span class="uicontrol">Security type</span>: Select the security type that has been configured for this Network SSID.
										<ul>
                     <li>
                        <span class="uicontrol">None</span>: Provides no network security (not recommended).</li>
                     <li>
                        <span class="uicontrol">WEP or WPA/WPA2 Personal</span>: Authenticates users with a pre-shared key. See the <span class="uicontrol">Shared key</span> field under <span class="wintitle">Network Authentication</span>.</li>
                     <li>
                        <span class="uicontrol">WPA/WPA2 Enterprise</span>: Authenticates users with their login credentials. See the corresponding fields under <span class="wintitle">Network Authentication</span>.</li>
                  </ul>
               </li>
               <li>
                  <span class="uicontrol">Authentication protocol</span> (currently supports PEAP-MSCHAPv2 only)</li>
               <li>
                  <span class="uicontrol">Shared key</span> (WEP or WPA/WPA2 Personal networks only): Enter the pre-shared key for this SSID.</li>
               <li>
                  <span class="uicontrol">Username</span> (WPA/WPA2 Enterprise networks only): Select the format that matches the network username format used in your environment to authenticate users. The generated username based on this format will be used to log on to the WiFi network.
								<p>For example, given a username <span style="color: #1e90ff;">john.doe@example.com</span>:</p>
                  <ul>
                     <li>
                        <span class="uicontrol">Email</span>: The Okta user's email address. For example, <span style="color: #1e90ff;">john.doe@example.okta.com</span>.</li>
                     <li>
                        <span class="uicontrol">AD Employee ID</span>: The user's AD employee ID. For example, <span style="color: #1e90ff;">223</span>.</li>
                     <li>
                        <span class="uicontrol">AD SAM account name</span>: For example, <span style="color: #1e90ff;">jdoe</span>.</li>
                     <li>
                        <span class="uicontrol">AD SAM account name + domain</span>: For example, <span style="color: #1e90ff;">jdoe@example.com</span>.</li>
                     <li>
                        <span class="uicontrol">AD user principal name</span>: For example, <span style="color: #1e90ff;">john.doe@example.com</span>.</li>
                     <li>
                        <span class="uicontrol">AD user principal name prefix</span>: For example, <span style="color: #1e90ff;">john.doe</span>.</li>
                     <li>
                        <span class="uicontrol">Email prefix</span>: For example, <span style="color: #1e90ff;">john.doe</span>.</li>
                     <li>
                        <span class="uicontrol">Okta username</span>: For example, <span style="color: #1e90ff;">john.doe@okta.com</span>.</li>
                     <li>
                        <span class="uicontrol">Okta username prefix</span>: For example, <span style="color: #1e90ff;">john.doe</span>.</li>
                  </ul>
               </li>
               <li>
                  <span class="uicontrol">Password</span>: Select <span class="uicontrol">Okta password</span>. Users are authenticated using their Okta password, and then are automatically connected to the network. They do not  need to enter a password (except as detailed in <a href="#Known">Known Issues</a>).</li>
               <li>
                  <span class="uicontrol">Trusted server certificates</span>: Optional. Specify one or more certificates as needed to grant secure access to the WiFi network. If your WiFi network access is secured by two or more CAs or a chain of trust, click <span class="uicontrol">Add Another</span> to add as many certificates as necessary. If editing a profile to add and delete certificates, see <a href="#Known">Known Issues</a>.
							<p>Note: You must configure Android devices with a passcode before you can assign a WiFi profile that is secured by a trusted server certificate to them; otherwise, the WiFi profile assignment will fail.</p>
               </li>
            </ul>
         </li>
      </ol>
      <ol start="4">
         <li>Click <span class="uicontrol">Save and Assign</span>.</li>
         <li>Assign the WiFi profile to People and Groups.</li>
      </ol>
      <h3>
         <a name="Known"/>Known Issues</h3>
      <h4>Applicable to all network security types</h4>
      <p>Password prompts: When users sign in to Okta Mobile, <MadCap:variable name="okta-variables.ProductName"/> caches their password for 10 minutes. If you assign WiFi profile(s) to users before the cache expires, users are not prompted to enter their password to complete the profile assignment. If you assign a WiFi profile after the cache has expired, users are prompted to enter a password to complete the assignment. iOS and Android device users are prompted for passwords at different times:</p>
      <ul>
         <li>Apple allows you to complete the WiFi profile assignment before the user enters their password. In such cases, iOS device users are prompted to enter their password when their device attempts to connect to the WiFi network.</li>
         <li>Google requires the user's password before we can complete the profile assignment. If the cache has expired, Android users are prompted to enter their password at the time the profile is being assigned.</li>
      </ul>
      <p>Auto join: The auto join option is not supported on Android devices.</p>
      <h4>Applicable to WPA/WPA2 enterprise networks</h4>
      <p>Android passcode is required: Android devices must be configured with a passcode in order to be assigned a WiFi profile secured by a trusted server certificate. Otherwise, WiFi profile assignment will fail.</p>
      <p>Always enter the correct password: End users should take special care to enter their password correctly during WiFi network authentication. Okta's WiFi profile authentication process does not detect incorrect passwords immediately, but connection to the WiFi network will fail at some point. iOS users who enter an incorrect password are prompted to re-enter it when their device attempts to connect to the network; Android users who enter an incorrect password are not re-prompted in this case and connection to the network simply fails.</p>
      <p>Certificate prompts: If you specify one or more certificates for a WiFi network, users are prompted to install every certificate on Android and Samsung SAFE devices. If you assign users of these devices more than one WiFi profile secured by multiple certificates, additional install prompts are repeated for each WiFi network.</p>
      <p>Deleting certificates from devices: In WiFi profiles configured with the security type WPA/WPA2 Enterprise, whether or not deleting a certificate in Okta also deletes the certificate from devices depends on the device type:</p>
      <ul>
         <li>Native Android: Google does not support the ability for Okta to delete certificates from Native Android devices.</li>
         <li>Samsung SAFE: Deleting certificates from Okta does not delete certificates from Samsung SAFE devices running Okta Mobile version 2.14.0 or earlier. Okta is working toward removing this limitation for Samsung SAFE devices in the next release of Okta Mobile for Android.</li>
         <li>AfW: If you delete some but not all certificates from Okta, the certificates you delete in Okta are deleted from AfW devices. However, if you delete all installed certificates through Okta, none are deleted from AfW devices. Okta is working toward removing this limitation for AfW devices in the next release of Okta Mobile for Android.</li>
      </ul>
      <p>Do not add and delete certificates in the same editing session. If you add and delete certificates in a single editing session or in the wrong order, the deletion task will succeed but the add task will fail. In this state, your end users will lose their connection to the WiFi network. If you need to edit a WiFi profile to add one or more certificates and delete one or more certificates, treat adding and deleting as separate operations and edit the profile in the following order:</p>
      <ol>
         <li>Click Edit.</li>
         <li>Add the certificate(s).</li>
         <li>Click Save.</li>
         <li>Click Edit again to re-enter edit mode.</li>
         <li>Delete the certificate(s) by clicking the X next to the certificate(s).</li>
         <li>Click Save.</li>
      </ol>
      <h2>
         <a name="Okta_Mobile_WiFi_Policies"/>
         <a name="Wifi"/>Configure a WiFi policy</h2>
      <p>Okta WiFi Policies is Okta's initial WiFi feature. It allows you to configure one or more WiFi policies and push them automatically to end users  enrolled in Okta Mobility Management (OMM). This allows end users to join an established WiFi network without having to enter any security information.</p>
      <h3>Before you begin</h3>
      <p>WiFi policies are similar to sign-on policies. You can add, delete, and edit WiFi policies and their associated rules. </p>
      <ul>
         <li>Your can implement either WiFi Policies or <a href="#Okta_Mobile_WiFi_Profiles">WiFi Profiles</a>, but you cannot implement both. The WiFi Policies feature is Generally Available (GA) to most orgs, but it is not available if the WiFi Profiles Early Access (EA) feature is enabled for your org. The features are located in different areas of the Admin console. To determine which WiFi feature your org implements, mouse over this screenshot:</li>
         <p MadCap:targetName="compareWiFi_2">
            <img src="../../Resources/Images/WifiFeatures_compare.png" class="thumbnail"/>
         </p>
         <li>The shared key is currently unmasked.</li>
         <li>Authentication with user credentials is not supported.</li>
         <li>Certificate-based authentication is not supported.</li>
         <li>Connection to hidden networks is not supported on Android devices.</li>
         <li>The WiFi Policies feature supports only one WiFi policy on a device at one time. <br/>See <a href="#Okta_Mobile_WiFi_Profiles">Configure a WiFi profile</a> to configure multiple WiFi profiles on a device.</li>
      </ul>
      <h3>Procedure</h3>
      <h4>Create a WiFi policy<br/>
      </h4>
      <ol>
         <li MadCap:conditions="Primary.do-not-publish">These instructions do not seem correct?</li>
         <li>Go to <span class="menucascade">
               <span class="uicontrol">Security</span>
               <span class="uicontrol">Policies</span>
            </span>, and then click the <span class="uicontrol">Wifi Config</span> tab.</li>
         <li>Click <span class="uicontrol">Add New Policy</span>, and then enter the following information:</li>
         <p>For new policies
            </p>
         <ul>
            <li>
               <span class="uicontrol">Policy Name</span>: Enter a unique name.</li>
            <li>
               <span class="uicontrol">Policy Description</span>: Enter a description.</li>
            <li>
               <span class="uicontrol">Assign to groups</span>: Type in the name of the group this policy applies to.</li>
         </ul>
         <p>For all policies
            </p>
         <ul>
            <li>
               <span class="uicontrol">SSID</span>: Enter the WiFi network name.</li>
            <li>
               <span class="uicontrol">Encryption Type</span>: Enter <span class="uicontrol">None</span>, <span class="uicontrol">WPA/WP2</span>, or <span class="uicontrol">WEP</span>.</li>
            <li>
               <span class="uicontrol">Shared Key</span>: Enter the shared key (password) for this WiFi network.</li>
         </ul>
         <li>Click <span class="uicontrol">Update</span>, or <span class="uicontrol">Create Policy</span>.</li>
      </ol>
      <h4>Add a rule to a WiFi policy</h4>
      <p>WiFi rules determine whether users can access a WiFi connection. For orgs in which a Default Policy is present (legacy orgs), WiFi Access is set to Disabled. For new WiFi policies, you need to create at least one active rule where access is enabled. The Default Rule cannot be edited.</p>
      <ol>
         <li>Either click the pencil icon to edit an existing rule (for the non-default policy only), or click <span class="uicontrol">Add Rule</span> to create a new rule that gives users WiFi access.
									</li>
         <li>Use the <span class="uicontrol">Access is</span> drop-down menu to specify that WiFi access is enabled.
									</li>
         <li>Click <span class="uicontrol">Update Rule</span>, or <span class="uicontrol">Create Rule</span>.
									</li>
         <li>Once you have created a rule, select <span class="uicontrol">Status</span> from the drop-down menu to <span class="uicontrol">Activate</span> it.
									</li>
      </ol>
   </body>
</html>
