<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-topic-status.Ready for Review,Tags/okta-authors.Kimli Welsh"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Use Okta Mobility Management (OMM) to configure VPN Profiles. Native VPN capabilities on mobile devices provision VPN configurations with minimal help from IT."/>
   </head>
   <body>
      <h1>Configure VPN Profiles</h1>
      <p class="earlyaccess">
         <MadCap:variable name="okta-variables.EarlyAccess"/>
      </p>
      <p>Okta Mobility Management (OMM) can provision password-based, device-wide, VPN configurations directly to devices without requiring IT to duplicate infrastructures or implement application proxies and gateways. Okta uses the native VPN capabilities that are built into the mobile operating system to leverage existing VPN solutions and enable easy access to on-premises resources.</p>
      <MadCap:snippetBlock src="../Mobile/mobile-snippets/OMM-new-sales-not-supported.flsnp"/>
      <div class="noteOkta">
         <p class="noteContent">
               Currently, this feature is only available for iOS devices.
            </p>
      </div>
      <ol>
         <li>In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">OMM</span>
               <span class="uicontrol">VPN</span>
            </span>.</li>
         <li>Click <span class="uicontrol">Add Device VPN</span>.</li>
         <li>Select a VPN client.<br/>Note: Apple no longer supports PPTP or Juniper VPN options. This is an Apple limitation.</li>
      </ol>
      <h2>Configure your VPN client</h2>
      <h3>Configure a Cisco AnyConnect VPN client</h3>
      <ol style="list-style-type: lower-alpha;">
         <li>Set up the following General Settings for the VPN client:
								<ul>
               <li>
                  <span class="uicontrol">Application label</span>: Enter a name to display under the app on your home page. By default this is <span class="uicontrol">Cisco AnyConnect VPN</span>.</li>
               <li>
                  <span class="uicontrol">VPN Server</span>: Enter the IP address or hostname of your VPN server. If you are using ipsec, you must specify the corresponding protocol. For example: <span class="code">ipsec://asa-gateway.example.com</span>.</li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Next</span>.</li>
         <li>Set up the following Sign-On Options for the VPN client:
								<ul>
               <li>
                  <span class="uicontrol">VPN Password</span>: Select one of the following options:
										<ul>
                     <li>
                        <span class="uicontrol">Delegated Authentication</span>: Select this option if your company VPN is configured to authenticate with Active Directory and your Okta users are authenticated using AD Delegated Authentication. Choosing this setting specifies that you are using your AD credentials for VPN as well. This way Okta never persists your AD credentials in Okta, but allows you to update VPN profiles with those credentials on your end users' devices.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, password is same as user's Okta Password</span>
                        </span>: Select this option if you want the VPN profiles to remain synced on the device with their Okta Password whether or not you are using Delegated Authentication.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, user sets password</span>
                        </span>: Select this option if you do not want to tie the VPN password with the Okta or AD password. Okta pushes the VPN profiles/configs to the device without including a password, and the user can enter it on their device.</li>
                  </ul>
               </li>
               <li>Advanced Sign-on Settings: Optional. For <span class="wintitle">Group for authenticating connection</span>, specify the group policy name.
										<ul>
                     <li>Make sure you add a Group URL in Cisco AnyConnect settings that corresponds to the ASA server and group you use.</li>
                     <li>If you are using Cisco ASDM utility, you can do this under <span class="menucascade">
                           <span class="uicontrol">Connection Profiles</span>
                           <span class="uicontrol">Your group</span>
                           <span class="uicontrol">Advanced settings</span>
                           <span class="uicontrol">Group Alias/Group URL</span>
                        </span>. For example: ipsec://asa-gateway.example/com/group1.</li>
                  </ul>
               </li>
               <li>
                  <span class="wintitle">VPN Username</span>: Set the username to use in the VPN profile. This functions the same way as username mappings in other non-VPN applications:
										<ul>
                     <li>
                        <span class="uicontrol">VPN username format</span>: Select a format from the drop-down menu.</li>
                     <li>
                        <span class="uicontrol">Password reveal</span>: Select this checkbox if you want your users to securely see their password.</li>
                  </ul>
               </li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Done</span>.</li>
         <li>In the <span class="wintitle">People</span> tab, assign your app to users and groups. Make sure the app is available to your end users from the Okta Mobile App Store (Android and iOS):
								<ol style="list-style-type: lower-roman;">
               <li>Click the <span class="uicontrol">Mobile</span> tab.</li>
               <li>Click <span class="uicontrol">Edit</span> (pencil) and select the following:
										<ul>
                     <ul>
                        <li>
                           <span class="uicontrol">Prompt users to install the app on enrollment (iOS 7+)</span>
                        </li>
                        <li>
                           <span class="uicontrol">If a user already has the app, enable them to make it a managed app from the company app store (iOS 9+)</span>
                        </li>
                        <li>
                           <span class="uicontrol">Make this app available to users</span>
                        </li>
                     </ul>
                  </ul>
               </li>
            </ol>
         </li>
      </ol>
      <h3>Configure a Juniper SSL VPN client</h3>
      <ol style="list-style-type: lower-alpha;">
         <li>Select the <span class="uicontrol">Juniper SSL VPN</span> option.<br/>Note: Apple no longer supports Juniper VPN options on macOS Sierra. This is an Apple limitation. Okta will maintain this option, but will not support it with bug fixes.</li>
         <li>Set up the following <span class="wintitle">General Settings</span> for the VPN client:
								<ul>
               <li>
                  <span class="uicontrol">Application Label</span>: Enter the name to display under the app on your home page. By default this is populated by Juniper SSL VPN.</li>
               <li>
                  <span class="uicontrol">Server</span>: Enter the IP address of the Juniper VPN server.</li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Next</span>.</li>
         <li>Set up the following <span class="uicontrol">Sign-On Options</span> options for the VPN client:
								<ul>
               <li>
                  <span class="uicontrol">VPN Password</span>: Select one of the following:
										<ul>
                     <li>
                        <span class="uicontrol">Delegated Authentication</span>: Select this option if your company VPN is configured to authenticate with Active Directory (AD) and your Okta users are authenticated using AD Delegated Authentication. It specifies that you are using your AD credentials for VPN. This way Okta never persists your AD credentials in Okta, but allows you to update VPN profiles with those credentials on your end users devices.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, password is same as user's Okta Password</span>
                        </span>: Select this option if you want the VPN profiles to remain synced on the device with their Okta Password whether or not you are using Delegated Authentication.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, user sets password</span>
                        </span>: Select this option if you don't want to tie the VPN password with Okta or AD password. Okta pushes the VPN profiles/configs to the device without including a password, and the user can enter it on their device.</li>
                     <li>
                        <span class="wintitle">Advanced Sign-On Settings</span>: Optional.</li>
                  </ul>
                  <li>
                     <span class="uicontrol">Realm</span>: Specify a realm for authenticating the connection.</li>
                  <li>
                     <span class="uicontrol">Role</span>: Specify a role for authenticating the connection.</li>
                  <li>
                     <span class="uicontrol">RADIUS Authentication Behavior</span>: Retaining this default button allows Okta to perform primary authentication.</li>
                  <li>
                     <span class="uicontrol">RADIUS Client</span>: Enter the following:
											<ul>
                        <li>
                           <span class="uicontrol">UDP Port</span>: Enter the unique number of the  RADIUS app.</li>
                        <li>
                           <span class="uicontrol">Secret Key</span>: Enter the secret key to use to encrypt and decrypt the user password. This key must be identical to the key that configured on the VPN server.</li>
                     </ul>
                  </li>
                  <li>
                     <span class="uicontrol">VPN Username</span>: Set the username to use in the VPN profile. This functions the same way as the username mappings in other non-VPN applications.
											<ul>
                        <li>
                           <span class="uicontrol">VPN username format</span>: Select a format from the drop-down menu.</li>
                        <li>
                           <span class="uicontrol">Password reveal</span>: Select this checkbox if you want your users to securely see their password.</li>
                     </ul>
                  </li>
               </li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Done</span>.
            <p>The new configured Juniper SSL VPN client appears on the <span class="wintitle">Device VPN</span> page. It is activated automatically.</p></li>
      </ol>
      <h3>Configure an L2TP VPN client</h3>
      <ol style="list-style-type: lower-alpha;">
         <li>Select the <span class="uicontrol">L2TP VPN</span> option.
            <p>Note: Apple no longer supports PPTP. This is an Apple limitation.</p></li>
         <li>Set up the following <span class="wintitle">General Settings</span> for the VPN client:
								<ul>
               <li>
                  <span class="uicontrol">Application Label</span>: Enter the name to display under the app on your home page.</li>
               <li>
                  <span class="uicontrol">Server</span>: Enter the IP address or hostname of your VPN server. If you are using ipsec, the corresponding protocol must be specified, for example: ipsec://asa-gateway.example.com.</li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Next</span>.</li>
         <li>Set up the <span class="wintitle">Sign-On Options</span> to specify how users will sign in to the VPN. They can use a password or they can sign in using Delegated Authentication if it is configured:
								<ul>
               <li>
                  <span class="uicontrol">Advanced Sign On Settings</span>:
                  <ul>
                     <li>
                        <span class="uicontrol">Shared Secret (L2TP only)</span>: Enter a shared secret key for VPN login.</li>
                  </ul>
               </li>
               <li>
                  <span class="uicontrol">VPN Password</span>: Select one of the following:
										<ul>
                     <li>
                        <span class="uicontrol">Delegated Authentication</span>: Select this setting  if your company VPN is set up to authenticate with Active Directory, and your Okta users are authenticated using AD Delegated Authentication.  Choosing this setting specifies that you are using your active directory credentials for VPN as well.  This way Okta never persists your AD credentials in Okta, but allows you to update VPN profiles with those credentials on your end users devices.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, password is same as user's Okta Password</span>
                        </span>. Select this option if you want the VPN profiles to remain synced on the device with their Okta Password whether or not you are using Delegated Authentication.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, user sets password</span>
                        </span>. Select this option if you do not want to tie the VPN password with Okta or AD password. Okta pushes the VPN profiles/configs to the device without including a password, and the user can enter it on their device.</li>
                  </ul>
               </li>
               <li>
                  <span class="uicontrol">VPN Username</span>: Select one of the following:
										<ul>
                     <li>
                        <span class="uicontrol">VPN username format</span>: Select a format from the drop-down menu. Specifies the username format to use in the VPN profile,  this function the same way as the username mappings in other non-VPN applications.</li>
                     <li>
                        <span class="uicontrol">Password Reveal</span>: Select this if you want your users to securely see their password.</li>
                  </ul>
               </li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Done</span>.</li>
      </ol>
      <h3>Configure a Pulse Secure VPN client</h3>
      <ol style="list-style-type: lower-alpha;">
         <li>Select the <span class="uicontrol">Pulse Secure VPN</span> option. The <span class="uicontrol">Pulse Secure VPN</span> configuration page opens.</li>
         <li>Under <span class="wintitle">General Settings</span>:
								<ul>
               <li>
                  <span class="uicontrol">Application Label</span>: This is the label displayed under the app on your home page. By default this is populated by Pulse Secure VPN, but you can edit it if you wish.</li>
               <li>
                  <span class="uicontrol">Server</span>: Enter the IP address of the Pulse Secure VPN server.</li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Next</span>.</li>
         <li>Under <span class="wintitle">Sign-On Options</span>:
								<ul>
               <li>
                  <span class="uicontrol">VPN Password</span>: Select one of the following:
										<ul>
                     <li>
                        <span class="uicontrol">Delegated Authentication</span>: This setting is to be used if your company VPN is set up to authenticate with Active Directory, and your Okta users are authenticated using AD Delegated Authentication.  Choosing this setting specifies that you are using your AD credentials for VPN as well. This way Okta never persists your AD credentials in Okta, but allows you to update VPN profiles with those credentials on your end users devices.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, password is same as user's Okta Password</span>
                        </span>. Select this option if you want the VPN profiles to remain synced on the device with their Okta Password whether or not you are using Delegated Authentication.</li>
                     <li>
                        <span class="menucascade">
                           <span class="uicontrol">Password Required</span>
                           <span class="uicontrol">Administrator sets username, user sets password</span>
                        </span>. Select this option if you do not want to tie the VPN password with Okta or AD password. Okta pushes the VPN profiles/configs to the device without including a password, and the user can enter it on their device.</li>
                  </ul>
               </li>
               <li>
                  <span class="wintitle">Advanced Sign-On Settings</span>. Optional.
										<ul>
                     <li>
                        <span class="uicontrol">Realm</span>: Specify a realm for authenticating the connection.</li>
                     <li>
                        <span class="uicontrol">Role</span>: Specify a role for authenticating the connection. </li>
                  </ul>
               </li>
               <li>
                  <span class="uicontrol">VPN Username</span>: Set the username to use in the VPN profile. This functions the same way as username mappings in other non-VPN applications.
										<ul>
                     <li>
                        <span class="uicontrol">VPN username format</span>: Select a format from the drop-down menu.</li>
                     <li>
                        <span class="uicontrol">Password Reveal</span>: Select this if you want your users to securely see their password.</li>
                  </ul>
               </li>
            </ul>
            <li>Click <span class="uicontrol">Done</span>.</li>
            <li>In the <span class="wintitle">People</span> tab, assign your app to users and groups.</li>
            <li>You will also need to make the app available to your end users via the Okta Mobile App Store (Android and iOS). To do so</li>
            <ol style="list-style-type: lower-roman;">
               <li>Click the <span class="uicontrol">Mobile</span> tab.</li>
               <li>Click <span class="uicontrol">Edit</span> and complete the following:</li>
               <ul>
                  <li>Prompt end users who have already installed an iOS mobile app on their own to allow their admin to manage the app. (iOS only)</li>
                  <li>Prompt users to install the app on enrollment. (iOS only)</li>
                  <li>
                     <span class="uicontrol">Deploy</span>: Select the <span class="uicontrol">Make this app available to users</span> check box.</li>
               </ul>
            </ol>
         </li>
      </ol>
      <p>​Once VPN configurations (profiles) and the respective VPN mobile apps are pushed to OMM-enrolled devices, users can sign in to VPN and work remotely.</p>
      <p>Your VPN password configuration affects how the VPN profiles are pushed:</p>
      <ul>
         <li>Delegated Authentication: VPN profiles are pushed when users are enrolled.</li>
         <li>User sets password: VPN profiles are pushed when users are enrolled, an app user is assigned, or a VPN app instance setting changes.</li>
         <li>Password is same as Okta: VPN profiles are pushed when the user logs on.</li>
      </ul>
   </body>
</html>
