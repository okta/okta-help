<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-toc-path="Authentication|Sign-on policies|[%=System.LinkedHeader%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="OIE Admins" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, height=device-height" /><title>Add an authentication policy rule</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link rel="shortcut icon" href="../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/stylesheets/print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../resources/stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <link href="../../../resources/tablestyles/standard.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
        function openSurvey() {
            window.open('https://surveys.okta.com/jfe/form/SV_e4L0iW8a3tz8Yol?source=' + encodeURIComponent(document.location.href), '_blank');
        }
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://help.okta.com/okta_help.htm?id=csh-index" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <div id="coveo_dev_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.DevOrgId variable">oktanonproduction1il1gtac7</span>
                                    </div>
                                    <div id="coveo_dev_token" style="Display:None"><span class="mc-variable okta-coveo-config.DevSearchToken variable">xxf1de37f5-c8aa-42db-a8ef-0cbf06dfa5e3</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************** Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPublish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <div class="navbar" data-mc-conditions="Primary.live-site-only">
                                            <div class="dropdown" data-test="menuBarCategory" id="documentationMenu" data-mc-conditions="MultiProdPublish.DocMenu">
                                                <button class="dropbtn">Documentation <em class="fa fa-caret-down"></em></button>
                                                <div class="dropdown-content" data-test="menuBarItems">
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=oie-index" data-test="menuBarLink">Identity Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?id=index-admin" data-test="menuBarLink">Classic Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oag&amp;id=ext_oag_main" data-test="menuBarLink">Access Gateway</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=asa&amp;id=csh-asa-overview" data-test="menuBarLink">Advanced Server Access</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=wf&amp;id=ext-Okta-workflows" data-test="menuBarLink">Workflows</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="relnotesMenu" data-mc-conditions="MultiProdPublish.DocMenu">
                                                <button class="dropbtn">Release notes <em class="fa fa-caret-down"></em></button>
                                                <div class="dropdown-content" data-test="menuBarItems">
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=csh-oie-release-notes" data-test="menuBarLink">Identity Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?id=ext_okta_relnotes" data-test="menuBarLink">Classic Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oag&amp;id=ext_oag_releasenotes" data-test="menuBarLink">Access Gateway</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=asa&amp;id=ext-asa-releasenotes" data-test="menuBarLink">Advanced Server Access</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=wf&amp;id=ext-workflows-releasenotes" data-test="menuBarLink">Workflows</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="oktaDevDocsMenu"><a href="https://developer.okta.com/" target="_blank" data-test="menuBarLink">Okta Developer</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="auth0Menu"><a href="https://auth0.com/docs" target="_blank" data-test="menuBarLink">Auth0</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="trainingMenu"><a href="https://www.okta.com/services/training/" target="_blank" data-test="menuBarLink">Training</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="supportMenu"><a href="https://support.okta.com/help/s/?language=en_US" target="_blank" data-test="menuBarLink">Support</a>
                                            </div>
                                        </div>
                                        <div class="logo_container" id="OktaBanner" data-mc-conditions="Primary.live-site-only"><a class="logo" href="https://help.okta.com/okta_help.htm?id=csh-index" data-test="OktaBanner"><img src="../../../resources/images/okta-assets/logo.png" alt="Okta Docs" title="Okta Docs" data-test="OktaBannerImg" /></a>
                                        </div>
                                        <div class="toolbar-main" data-test="toolBar" data-mc-conditions="Primary.live-site-only">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie select-language-button" title="Change language">
                                                        <div>
                                                            <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                                <div class="button-icon"> </div>
                                                            </div>
                                                        </div>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics" data-test="bodyWrapper">
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="oie-label" data-mc-conditions="MultiProdPublish.OIE">
                                                <img class="oie-label" title="Label: Okta Identity Engine content" src="../../../resources/images/okta-assets/identity_engine.svg" />
                                            </div>
                                            <div class="body-main" data-test="bodyContent">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>Add an <span class="mc-variable okta-feature-names.app_sign-on_policy variable">authentication policy</span> rule</h1>
                                                    <p><span class="mc-variable okta-feature-names.App_sign-on_policies variable">Authentication policies</span> are built on rules. When you create an <span class="mc-variable okta-feature-names.app_sign-on_policy variable">authentication policy</span>, it starts with a single catch-all rule that allows access to all requests with any two factor types. Configure your  authenticator requirements by adding  rules and prioritizing them over the catch-all. </p>
                                                    <p>For example, you can add one rule that prompts all users for a password. Then you can add a second rule that prompts users in a specific group for email and password authenticators.</p>
                                                    <h2>Before you begin</h2>
                                                    <p><a href="../authenticators/about-authenticators.htm">Set up authenticators</a>
                                                    </p>
                                                    <p><a href="create-auth-policy.htm" class="MCXref xref">Create an authentication policy</a>
                                                    </p>
                                                    <h2>Add a rule to a policy</h2>
                                                    <ol start="1">
                                                        <li value="1">
                                                            <p>In the <span class="mc-variable okta-feature-names.Admin_Console variable">Admin Console</span>, go to <span class="menucascade"><span class="uicontrol">Security</span><span class="uicontrol"><span class="mc-variable okta-feature-names.App_Sign-On_Policies variable">Authentication Policies</span></span></span>.</p>
                                                        </li>
                                                        <li value="2">Select the policy where you want to add a rule.</li>
                                                        <li value="3">On the <span class="wintitle">Rules</span> tab, click <span class="uicontrol">Add Rule</span>.</li>
                                                        <li value="4">Enter a <span class="uicontrol">Rule Name</span>.</li>
                                                    </ol>
                                                    <ol data-mc-continue="true">
                                                        <li value="5">Configure <span class="code">IF</span> conditions. These conditions specify when the rule is applied. 
        <table style="width: 100%;mc-table-style: url('../../../resources/tablestyles/standard.css');" class="TableStyle-standard" cellspacing="0"><col style="width: 37%;" class="TableStyle-standard-Column-Column1" /><col class="TableStyle-standard-Column-Column1" /><thead><tr class="TableStyle-standard-Head-Header1"><th class="TableStyle-standard-HeadF-Column1-Header1">IF</th><th class="TableStyle-standard-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">IF</span> User's user type is</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">Accept the default or specify user types to include and exclude.</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol"><span class="code">AND</span> User's group membership includes</span></td><td class="TableStyle-standard-BodyD-Column1-Body2">Accept the default or specify user groups to include and exclude.</td></tr><tr class="TableStyle-standard-Body-Body1" data-mc-conditions=""><td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">AND</span> User is</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">Accept the default or specify users to include and exclude.</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol"><span class="code">AND</span> Device state is</span></td><td class="TableStyle-standard-BodyD-Column1-Body2">Accept the default or select <span class="uicontrol">Registered</span> to apply this rule only to devices enrolled in <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span>. See <a href="../devices/device-registration.htm" class="MCXref xref">Device registration</a>.</td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">AND</span> Device management is</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">If you selected a <span class="uicontrol">Registered</span> device state, indicate whether the rule is applied to only devices managed by a third-party device management solution.</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol"><span class="code">AND</span> Device assurance policy is</span></td><td class="TableStyle-standard-BodyD-Column1-Body2">If you selected a <span class="uicontrol">Registered</span> device state, you can specify device assurance policies to be satisfied. See <a href="../devices/device-assurance-add.htm" class="MCXref xref">Add a device assurance policy</a>.</td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">AND</span> Device platform is</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">Accept the default or select specific platforms.</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol"><span class="code">AND</span> User's IP is</span></td><td class="TableStyle-standard-BodyD-Column1-Body2">Accept the default or specify network zones that you want to include or exclude. You can sort by zones defined or not defined in <span class="mc-variable okta-variables.ProductName variable">Okta</span>, or by <a href="../../security/network/about-dynamic-zones.htm" target="_self">dynamic zones</a>.</td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">AND</span> Risk is</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">By default, this rule applies to authentication attempts of any risk level. Selecting a level limits the rule to only the specified risk level. See <a href="../../security/security_risk_scoring.htm" class="MCXref xref">Risk scoring</a>.</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyC-Column1-Body2"><span class="uicontrol"><span class="code">AND</span> The following custom expression is true</span></td><td class="TableStyle-standard-BodyA-Column1-Body2">Optional. Specify additional conditions with Expression Language (EL). See <a href="../../security/behavior-detection/about-behavior-policy-rule.htm" class="MCXref xref">About behavior and sign-on policies</a> and <a href="https://developer.okta.com/docs/reference/okta-expression-language/" target="_blank">Okta Expression Language.</a></td></tr></tbody></table></li>
                                                    </ol>
                                                    <ol data-mc-continue="true">
                                                        <li value="6">
                                                            <p>Configure THEN conditions. These conditions specify how authentication is enforced.	</p>
                                                            <table style="width: 100%;mc-table-style: url('../../../resources/tablestyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                                                                <col style="width: 37%;" class="TableStyle-standard-Column-Column1" />
                                                                <col class="TableStyle-standard-Column-Column1" />
                                                                <col class="TableStyle-standard-Column-Column1" />
                                                                <thead>
                                                                    <tr class="TableStyle-standard-Head-Header1">
                                                                        <th class="TableStyle-standard-HeadF-Column1-Header1">THEN</th>
                                                                        <th class="TableStyle-standard-HeadF-Column1-Header1">Description</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr class="TableStyle-standard-Body-Body1">
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">THEN</span> Access is</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body1">
                                                                            <p>Deny the user's access or allow it after successful authentication. If you deny access, skip to the last step to save your rule.</p>
                                                                            <ul>
                                                                                <li><span class="uicontrol">Denied</span>: If the user satisfies the conditions that you configured, deny access. If you choose to deny access, skip to the last step to save your rule.</li>
                                                                                <li><span class="uicontrol">Allowed after successful authentication</span>: If the user satisfies the conditions that you configured, allow access.</li>
                                                                            </ul>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body2" data-mc-conditions="">
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body2">
                                                                            <p><span class="uicontrol"><span class="code">AND</span> User must provide</span>
                                                                            </p>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body2">
                                                                            <p>This item displays the rule's settings in JSON code. It appears when you've selected these options:</p>
                                                                            <ul>
                                                                                <li><span class="uicontrol">Allowed after successful authentication</span> for <span class="uicontrol"><span class="code">THEN</span> Access is</span></li>
                                                                                <li><span class="uicontrol">Any 1 factor type</span> or <span class="uicontrol">Any 1 factor type / IdP</span> for <span class="uicontrol"><span class="code">AND</span> User must authenticate with</span></li>
                                                                                <li>Any possession constraint for <span class="uicontrol"><span class="code">AND</span> Factor restraints are</span></li>
                                                                            </ul>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body2">
                                                                            <p> </p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body1">
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol"><span class="code">AND</span> User must authenticate with</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body1">
                                                                            <p>Choose the authentication requirements that you want to enforce for app access. For a description of factor types, see <a href="../authenticators/about-authenticators.htm" class="MCXref xref">Multifactor authentication</a>.</p>
                                                                            <div class="noteOkta">
                                                                                <p class="noteContent">If <span class="uicontrol">IdP</span> appears next to these authentication options, your <span class="mc-variable okta-feature-names.Okta_sign-on_policy variable">Global Session Policy</span> has specified an Identity Provider (IdP) that can satisfy the password requirement. Users who authenticate through the specified IdP don't need to also provide a password.</p>
                                                                            </div>
                                                                            <p><span class="uicontrol">1 factor type</span>: To enable one-factor authentication, choose one of these options.</p>
                                                                            <ul>
                                                                                <li><span class="uicontrol">Password</span> or <span class="uicontrol">Password / IdP</span> requires users to enter their password every time the rule requires re-authentication. If you select this option, the <span class="wintitle">Factor restraints are</span> options aren't available.</li>
                                                                                <li><span class="uicontrol">Possession factor</span> requires users to provide a possession factor such as <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span> or email to access the app.</li>
                                                                                <li><span class="uicontrol">Any 1 factor type</span> or <span class="uicontrol">Any 1 factor type / IdP</span> allows users to provide any single factor to access the app. If you select this option, the <span class="wintitle">Factor restraints are</span> options aren't available.</li>
                                                                            </ul>
                                                                            <p>For one-factor passwordless authentication options, see <a href="../password-optional/password-optional-disabled.htm" class="MCXref xref">Set up passwordless sign-in experience</a>.</p>
                                                                            <p><span class="uicontrol">2 factor types</span>: To require users to provide two distinct factor types, choose one of these options.</p>
                                                                            <ul>
                                                                                <li><span class="uicontrol">Password + Another factor</span> or <span class="uicontrol">Password / IdP + Another factor</span></li>
                                                                                <li><span class="uicontrol">Any 2 factor types</span>
                                                                                </li>
                                                                            </ul>
                                                                            <p>For two-factor passwordless authentication options, see <a href="../authenticators/about-passwordless.htm" class="MCXref xref">Passwordless authentication</a>.</p>
                                                                            <p class="featureBanner">Early Access release. See <a href="../../security/manage-ea-and-beta-features.htm" class="MCXref xref">Enable self-service features</a>.</p>
                                                                            <p><span class="uicontrol">Authentication method chain</span>: Require users to verify with multiple authentication methods in a specified sequence. See <a href="authentication-method-chain.htm" class="MCXref xref">Authentication method chain</a>.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body2">
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol"><span class="code">AND</span> Possession factor constraints are</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body2">These options aren't available if you selected <span class="uicontrol">Password</span>, <span class="uicontrol">Any 1 factor type</span>, or <span class="uicontrol">Any 1 factor type / IdP</span>. Use these settings to specify possession factor characteristics.<ul><li><span class="uicontrol">Phishing-resistant</span>: Requires users to provide possession factors  that cryptographically verify the sign-in server (the origin). FIDO 2 (WebAuthn) and the <span class="mc-variable okta-feature-names.Okta_FastPass variable">Okta FastPass</span> option in <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span> satisfy this requirement. For details, see <a href="../authenticators/about-authenticators.htm" class="MCXref xref">Multifactor authentication</a>. </li><li><span class="uicontrol">Hardware protection</span>: Requires that keys  used to authenticate are stored in secure hardware (TPM, Secure Enclave) on the device. <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span> meets this constraint. 
                                <div class="noteOkta"><p class="noteContent">If Okta Verify can't store keys on the secure hardware of the device, it uses software storage. On Windows and Android devices it uses TPM. On macOS and iOS devices it uses Secure Enclave. In these cases, Okta Verify doesn't satisfy the <span class="uicontrol">Hardware protection</span> requirement.</p></div><p>To identify how <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span> keys are stored for a device, view the <code>secureHardwarePresent</code> device attribute in the <span class="mc-variable okta-feature-names.Admin_Console variable">Admin Console</span>. You can also use an <span class="mc-variable okta-variables.ProductName variable">Okta</span> Expression Language (EL) expression to determine the value of <code>device.profile.secureHardwarePresentview</code>. If this value is <span class="code">true</span>, secure hardware is used.</p><p>See <a href="../devices/view-device-state.htm.">View device state</a>.</p><p>Some <span class="mc-variable _3rd_Party_Integrations.WebAuthn variable">WebAuthn</span> authenticators are hardware protected. Okta uses the FIDO Alliance Metadata Service (MDS) to determine whether a <span class="mc-variable _3rd_Party_Integrations.WebAuthn variable">WebAuthn</span> authenticator is hardware protected. An authenticator is considered hardware protected when one of its <span class="code">keyProtection</span> values is <span class="code">hardware</span>.</p><p>Hardware-protected <span class="mc-variable _3rd_Party_Integrations.WebAuthn variable">WebAuthn</span> authenticators have several limitations:</p><ul><li>Enrollments done before Nov 30, 2022 aren't supported.</li><li>Enrollments using FIDO U2F aren't supported.</li><li>Enrollments on <span class="mc-variable _3rd_Party_Integrations.MozillaFF-short variable">Firefox</span> aren't currently supported.</li><li>Enrollments on <span class="mc-variable _3rd_Party_Integrations.GOOG-Chrome-short variable">Chrome</span> aren't currently supported if <span class="uicontrol">User Verification</span> is set to <span class="uicontrol">Discouraged</span> and a PIN is set on the security key.</li><li>If prompted during enrollment, users must allow <span class="mc-variable okta-variables.ProductName variable">Okta</span> to see the make and model of the security key.</li></ul></li><li><span class="uicontrol">Require user interaction</span>: This option allows you to choose whether to require end users to prove that they're physically present to authenticate. <p>If you don't select this option, and the authentication policy requires a possession factor, Okta Verify may perform certificate-based authentication. This allows users to access the resource without proving that they're physically present.</p><p>You can't use a security question as an additional factor if this option isn't selected.</p></li><li><span class="uicontrol">Require PIN or biometric user verification</span>: This option appears when you click <span class="uicontrol">Require user interaction</span>. Require users to enter a PIN or use biometrics to verify their identity.
								
								
		<p>When you select this option, users must verify their identity with an authenticator that proves user presence: Okta Verify with Push, FIDO2 (WebAuthn), Okta FastPass, Custom Authenticator, or Smart Card (with PIN). Configure each of these user presence authenticators to require user verification. This helps prevent users from being locked out and ensures that new enrollments in these authenticators satisfy the user verification requirement.</p><p>Configure the authenticators to require user verification: </p><ol><li value="1">Go to <span class="menucascade"><span class="uicontrol">Security</span><span class="uicontrol">Authenticators</span></span>. </li><li value="2">Click the <span class="wintitle">Setup</span> tab.</li><li value="3">Click <span class="menucascade"><span class="uicontrol">Actions</span><span class="uicontrol">Edit</span></span> for the authenticator that you want to configure.</li><li value="4">For Okta Verify with Push, FIDO2 (WebAuthn), Custom Authenticator, and Okta FastPass, select <span class="uicontrol">Required</span> from the dropdown menu in the <span class="wintitle">User verification</span> section. For Smart Card, select <span class="uicontrol">PIN</span>.</li></ol><p>Okta also recommends that you require user enrollment in the authenticators that satisfy user verification. See <a href="create-mfa-policy.htm" class="MCXref xref">Create an authenticator enrollment policy</a>. In the <span class="wintitle">Authenticators</span> section, set each of your user presence authenticators to <span class="uicontrol">Required</span>.</p><div class="noteOkta"><p class="noteContent">If a user is already enrolled in an authenticator but didn't activate a user verification option in it, such as enabling facial or fingerprint scanning in <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span>, they can't authenticate. Users must reset these enrollments and replace them with new ones, or activate push notifications and biometric verification in Okta Verify.</p></div></li></ul></td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body1">
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body1">
                                                                            <p><span class="uicontrol"><span class="code">AND</span> Authentication methods</span>
                                                                            </p>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body1">
                                                                            <p>These options aren't available if you select <span class="uicontrol">Password</span> as the authentication method.</p>
                                                                            <ul>
                                                                                <li>
                                                                                    <p><span class="uicontrol">Allow any method that can be used to meet the requirement</span>: Users can be authenticated using any of the available methods that meet the requirement. </p>
                                                                                </li>
                                                                                <li>
                                                                                    <p><span class="uicontrol">Disallow specific authentication methods</span>: Select methods to exclude them from use in authentication. When this option is selected, all available methods are allowed unless added to the disallow list.</p>
                                                                                </li>
                                                                                <li>
                                                                                    <p><span class="uicontrol">Allow specific authentication methods</span>: Select methods to allow them to be used in authentication. When this option is selected, all available methods  are disallowed unless added to the allow list.</p>
                                                                                </li>
                                                                            </ul>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body1">
                                                                            <p> </p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body2">
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol">Prompt for authentication</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyF-Column1-Body2">This option appears if you require <span class="uicontrol">1 factor type</span> or <span class="uicontrol">Any 2 factor types</span> for authentication. Indicate how frequently a user must authenticate.<ul><li><span class="uicontrol">Every time user signs in to resource</span>: Users must authenticate every time they try to access the app. This is the most secure option.</li><li><span class="uicontrol">When it's been over a specified length of time since the user signed in to any resource protected by the active Okta global session</span>: Users are prompted to authenticate when they exceed the time interval you specify.</li><li><span class="uicontrol">When an Okta global session doesn't exist</span>: Users are prompted to authenticate if they never established an active Okta global session.</li></ul><div class="noteOkta"><p class="noteContent">A 10-second grace period applies after a user authenticates. During this grace period, users aren't prompted to authenticate again if you selected <span class="uicontrol">Every time user signs in to resource</span>.</p></div></td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body1">
                                                                        <td class="TableStyle-standard-BodyC-Column1-Body1"><span class="uicontrol">Prompt for password authentication</span> <p>and </p><p><span class="uicontrol">Prompt for all other factors of authentication</span></p></td>
                                                                        <td class="TableStyle-standard-BodyC-Column1-Body1">These options appear if you require  <span class="uicontrol">Password + Another Factor</span> or <span class="uicontrol">Password / IdP + Another factor</span> for authentication. Select frequency intervals for the password and  the other factors. </td>
                                                                        <td class="TableStyle-standard-BodyA-Column1-Body1">
                                                                            <p> </p>
                                                                        </td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </li>
                                                        <li value="7">Click <span class="uicontrol">Save</span>.
</li>
                                                    </ol>
                                                    <p>The next step after you add rules to a policy is to apply that policy to one or more apps. There's no limit to the number of apps that can share a policy. </p>
                                                    <h2><a name="Security"></a>Security questions in an <span class="mc-variable okta-feature-names.app_sign-on_policy variable">authentication policy</span></h2>
                                                    <p>The <span class="mc-variable okta-feature-names.Security_Question variable">Security Question</span> authenticator  prompts end users to enter a correct response to a  question that they've selected from a list of possible questions.</p>
                                                    <ul>
                                                        <li>
                The <span class="mc-variable okta-feature-names.Security_Question variable">Security Question</span> authenticator supports  authentication (MFA/SSO) and password recovery scenarios. If disabled for MFA/SSO, it's included as part of <span class="mc-variable okta-feature-names.app_sign-on_policy variable">authentication policy</span> or global session policy evaluation.
            </li>
                                                        <li>
                You can use the <span class="mc-variable okta-feature-names.Security_Question variable">Security Question</span> authenticator as step-up or additional verification when a password is used as the primary factor, specifically, if the primary factor in the user's  global session policy is <span class="uicontrol">A password</span>. <span class="mc-variable okta-variables.ProductName variable">Okta</span> recommends against using security questions in any authentication flow.
            </li>
                                                    </ul>
                                                    <p>You can configure <span class="mc-variable okta-variables.ProductName variable">Okta</span> to use this authenticator for just account recovery, or for both authentication and account recovery. If you choose only the recovery option, <span class="mc-variable okta-variables.ProductName variable">Okta</span> doesn't request authentication during the evaluation of your <span class="mc-variable okta-feature-names.Okta_sign-on_policy variable">Global Session Policy</span>.</p>
                                                    <p>For example, if you want to enable <span class="mc-variable okta-feature-names.Okta_FastPass variable">Okta FastPass</span> for your users so that they can access the resource  without proving that they're physically present, you can't use a Security Question as an additional factor. If you want end users to use Security Questions, you must use the <span class="uicontrol">A password</span>  option in the <span class="mc-variable okta-feature-names.Okta_sign-on_policy variable">Global Session Policy</span>.</p>
                                                    <h2>Limitations</h2>
                                                    <ul>
                                                        <li>
                                                            <p>Authentication rules don't recognize ChromeBook as a ChromeOS platform if users access their resources in a Firefox or Opera browser. </p>
                                                        </li>
                                                        <li>
                                                            <p>Because <span class="mc-variable okta-feature-names.Okta_Verify variable">Okta Verify</span> isn't available for ChromeOS,  <span class="mc-variable okta-feature-names.Okta_FastPass variable">Okta FastPass</span> isn't supported on this operating system. The <span class="uicontrol">Access with Okta FastPass is granted</span> condition has no effect in the rules that check for ChromeOS. 
                </p>
                                                        </li>
                                                        <li>
                                                            <p>If users sign in from a ChromeOS device, a device record isn't created.
</p>
                                                        </li>
                                                        <li>
                                                            <p>You can't use ChromeOS in custom expressions.
</p>
                                                        </li>
                                                    </ul>
                                                    <h2>Next steps</h2>
                                                    <p><a href="share-auth-policies.htm" class="MCXref xref">Add apps to an authentication policy</a>
                                                    </p>
                                                    <p><a href="manage-auth-policies.htm" class="MCXref xref">Update an authentication policy</a>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- div class="toolbar-main">
            <MadCap:topicToolbarProxy data-mc-skin="/Project/Skins/okta-toolbar-no-expand.flskn" style="mc-topic-toolbar-items: ;" />
                </div -->
                                    <!-- *********************** Footer rows ********************************* -->
                                    <div class="footer2" data-test="footer">
                                        <div>
                                            <p class="copyright" data-test="copyrightNotice">©  <span class="mc-variable okta-variables.Year variable">2024</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span>. All Rights Reserved. Various trademarks held by their respective owners.
	</p>
                                        </div>
                                    </div>
                                    <!-- ********************** Scripts ************************************* -->
                                    <script src="../../../resources/scripts/js/ignore-dompurify.js">
                                    </script>
                                    <script src="../../../resources/scripts/js/app.js">
                                    </script>
                                    <script src="../../../resources/scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../resources/scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../resources/scripts/coveo-resources/js/coveo.madcapflare.requirejs.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../resources/scripts/coveo-resources/js/coveo.madcapflare.okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                    <!-- Feedback tab for Qualtrics survey -->
                                    <div id="feedback-tab" data-mc-conditions="Primary.live-site-only"><a id="feedback-link" href="#" onclick="openSurvey();  return false" target="_blank" title="Submit feedback"><div id="feedback-container"><p id="feedback-text" translate="no">Feedback</p></div></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
