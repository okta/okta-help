<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-toc-path="Get started|Deployment guides|Device Context|Use cases" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="Okta Identity Engine Admins" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Configure Device Trust on desktop devices | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Resources/Stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <div id="coveo_dev_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.DevOrgId variable">oktanonproduction1il1gtac7</span>
                                    </div>
                                    <div id="coveo_dev_token" style="Display:None"><span class="mc-variable okta-coveo-config.DevSearchToken variable">xxb48840fe-d60d-4e40-b1d3-522d5a35c384</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************** Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPubish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <div class="navbar">
                                            <div class="dropdown" data-mc-conditions="MultiProdPubish.DocMenu">
                                                <button class="dropbtn">Documentation <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://help.okta.com/en-us/Content/Topics/ReleaseNotes/okta-relnotes.htm">Release notes</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/en-us/Content/index.htm">Product documentation</a>
                                                    </div>
                                                    <div><a href="https://developer.okta.com/documentation" target="_blank">Developer documentation<img src="../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://support.okta.com/help/s/knowledge">Knowledge base</a>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Community <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/questions?language=en_US">Questions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/group/CollaborationGroup/Recent?language=en_US">Discussions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/events?language=en_US">Webinars</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Product <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/ideas" target="_blank">Ideas<img src="../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/productroadmap?language=en_US">Roadmap</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/product-hub?language=en_US">Product hub</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://www.okta.com/services/education-services/" target="_blank">Training<span><img src="../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></span></a>
                                            </div>
                                        </div>
                                        <div class="logo_container"><a class="logo" href="https://support.okta.com/help/s/"><img src="../../../../Resources/Images/okta-assets/Logo.png" alt="Okta Support" title="Okta Support" /></a>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie select-language-button" title="Change language">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        <button class="button needs-pie previous-topic-button" title="Previous topic" disabled="true">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Next topic" disabled="true">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="oie-label" data-mc-conditions="MultiProdPubish.OIE">
                                                <img class="oie-label" title="Label: Okta Identity Engine content" src="../../../../Resources/Images/okta-assets/Identity_Engine.svg" />
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>Configure Device Trust on desktop devices</h1>
                                                    <p>Learn how to deploy Device Trust on macOS and Windows computers. </p>
                                                    <p>Okta and your EMM solution must be conﬁgured before you create app-level policies that leverage Device Trust. </p>
                                                    <p><span class="uicontrol">Note: </span>If you use Device Trust to enable a password experience (Okta FastPass) for macOS users, Apple Extensible SSO must be conﬁgured in your EMM solution. See <a href="../../devices/config-credential-sso-ext-macos.htm">Conﬁgure Extensible SSO for Safari and native apps on managed macOS devices</a>.</p>
                                                    <h2>Choose a certiﬁcate authority
        </h2>
                                                    <p>Windows and macOS device management requires a certiﬁcate authority (CA) that can issue client certiﬁcates to targeted devices. Device Trust uses these client certiﬁcates to determine whether devices are managed or not. Application sign-on policies grant or deny access to an application or prompt for more authentication factors based on the device state.</p>
                                                    <p>You can use Okta as a CA or use your own existing CA if you already have one in place.</p>
                                                    <h2>Provide your own certiﬁcate authority for Device Context</h2>
                                                    <p>If you use your own certiﬁcate authority (CA), your environment requires a PKI infrastructure integrated with your EMM solution to distribute Okta-provided client certiﬁcates to targeted devices. In addition to distributing certiﬁcates, your EMM software renews certiﬁcates before they expire and revokes certiﬁcates from your EMM server and managed devices when devices are no longer managed.</p>
                                                    <p>In addition to devices managed by your existing EMM solution, Okta can manage devices that have a certiﬁcate deployed by an existing Active Directory Certiﬁcate Services (ADCS) infrastructure. In this case, the device must have a certiﬁcate deployed from the same CA that is set up in Okta.</p>
                                                    <h2>Start this procedure</h2>
                                                    <p><a href="#Task" class="MCXref xref">Task 1: Conﬁgure the SCEP Payload</a>
                                                    </p>
                                                    <p><a href="#Task2" class="MCXref xref">Task 2: In Okta, conﬁgure management attestation and upload your certiﬁcate</a>
                                                    </p>
                                                    <h3><a name="Task"></a>Task 1: Conﬁgure the SCEP Payload</h3>
                                                    <p>Make sure SCEP proﬁles are targeted at the <span class="uicontrol">USER </span>level, not the <span class="uicontrol">DEVICE </span>level. This ensures that the certiﬁcate is deployed to the login keychain and accessible to Okta Verify. Your SCEP policy requires a user context. Multiple users can use the same device, but only if each user is from a separate org. The enrolled user must be managed by your EMM solution and possess a certiﬁcate.</p>
                                                    <p>Conﬁgure the SCEP payload using these settings:</p>
                                                    <table style="mc-table-style: url('../../../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                                                        <tbody>
                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><span class="uicontrol">Key</span>
                                                                </td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><span class="uicontrol">Type</span>
                                                                </td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><span class="uicontrol">Value</span>
                                                                </td>
                                                            </tr>
                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><span class="uicontrol">KeyUsage</span>
                                                                </td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Integer</td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Set to <span class="uicontrol">signing </span>so Okta Verify can sign the nonce sent from the Okta server.</td>
                                                            </tr>
                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><span class="uicontrol">AllowAllAppAccess</span>
                                                                </td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Boolean</td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Set to <span class="uicontrol">true </span>so Okta Verify can sign requests without prompting users to sign in. Otherwise, users are prompted to allow Okta Verify to access the key.</td>
                                                            </tr>
                                                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                                                <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2"><span class="uicontrol">KeysExtractable</span>
                                                                </td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Boolean</td>
                                                                <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">Set to <span class="uicontrol">false </span>so that it cannot be copied to another device easily.</td>
                                                            </tr>
                                                        </tbody>
                                                    </table>
                                                    <h3><a name="Task2"></a>Task 2: In Okta, conﬁgure management attestation and upload your certiﬁcate</h3>
                                                    <ol>
                                                        <li value="1">In the Admin Console, go to <span class="uicontrol">Security &gt; Device integrations</span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Endpoint Management </span>page, click <span class="uicontrol">Add platform</span>.</li>
                                                        <li value="3">
                Select <span class="uicontrol">Desktop (Windows and macOS only)</span> and click <span class="uicontrol">Next</span>.
            </li>
                                                        <li value="4">Select <span class="uicontrol">Use my own certiﬁcate authority </span>for the Certiﬁcate authority and click <span class="uicontrol">Save</span>.</li>
                                                        <li value="5">Click <span class="uicontrol">Save</span>.</li>
                                                        <li value="6">On the <span class="uicontrol">Certiﬁcate authority </span>page, click <span class="uicontrol">Add certiﬁcate authority</span>.</li>
                                                        <li value="7">In the <span class="uicontrol">Add certiﬁcate authority </span>dialog box, browse to the Intermediate CA that will be used to issue the client certiﬁcate. If you have multiple such issuers, upload all of them one at a time.</li>
                                                        <ul>
                                                            <li>Note: Okta doesn't support PKCS#7, PKCS#12, or PFX certiﬁcate formats.</li>
                                                            <li>Certiﬁcates are uploaded automatically. A message appears if uploads are successful. To view details, click <span class="uicontrol">View root certiﬁcate chain details</span>.</li>
                                                        </ul>
                                                        <li value="8">Click <span class="uicontrol">Close</span>.</li>
                                                    </ol>
                                                    <h2>Use Okta as a CA</h2>
                                                    <p>EMM solutions use the Simple Certiﬁcate Enrollment Protocol (SCEP) to issue certiﬁcates to managed devices. When conﬁguring Okta as a CA, you can set the SCEP challenge type to Static, Dynamic, or Delegated. Some EMM solutions (such as Jamf Pro) support multiple challenge types, while others support only one. Before you conﬁgure Okta as a CA, determine what challenge type your EMM app supports or recommends.</p>
                                                    <h3>Use static SCEP challenge with Jamf Pro on macOS devices</h3>
                                                    <ol>
                                                        <li value="1"><a href="#Con%EF%AC%81gure2" class="MCXref xref">Conﬁgure management attestation and generate a SCEP URL</a>
                                                        </li>
                                                        <li value="2"><a href="#Create" class="MCXref xref">Create a static SCEP proﬁle
        </a>
                                                        </li>
                                                    </ol>
                                                    <h4><a name="Conﬁgure"></a>Conﬁgure management attestation and generate a SCEP URL and Secret Key
        </h4>
                                                    <p>Note: This procedure applies to any EMM solution that supports pushing the Apple SCEP EMM payload.</p>
                                                    <ol>
                                                        <li value="1">In the Okta Admin Console, go to <span class="uicontrol">Security &gt; Device integrations</span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Endpoint management</span> page, click <span class="uicontrol">Add platform</span>.
				<p>Note: If you add more than one conﬁguration for the same type of platform, see this <a href="../../devices/known-issues.htm#MultConfigSamePlatKI" class="MCXref xref">Devices known issues</a>.</p></li>
                                                        <li value="3">Select <span class="uicontrol">Desktop (Windows and macOS only)</span> and click <span class="uicontrol">Next.</span></li>
                                                        <li value="4">On the <span class="uicontrol">Add device management platform </span>page, configure these settings:<ul><li><span class="uicontrol">Certiﬁcate authority</span>: Select <span class="uicontrol">Use Okta as certiﬁcate authority</span>.</li><li><span class="uicontrol">SCEP URL challenge type</span>: Select <span class="uicontrol">Static SCEP URL</span>.</li><li>Click <span class="uicontrol">Generate</span>.</li><li><span class="uicontrol">SCEP URL: </span>Copy and save the value. You will need this value later.</li><li><span class="uicontrol">Secret key: </span>Copy and save the value. You will need this value later</li><p>Note: Save the <span class="uicontrol">SCEP URL </span>and <span class="uicontrol">Secret key </span>in a safe place. This is the only time they appear in the Okta Admin Console.</p></ul></li>
                                                        <li value="5">Click <span class="uicontrol">Save</span>.</li>
                                                    </ol>
                                                    <h4><a name="Create"></a>Create a static SCEP proﬁle
        </h4>
                                                    <ol>
                                                        <li value="1">In Jamf Pro, go to <span class="uicontrol">Computers &gt; Conﬁguration Proﬁle</span>s.</li>
                                                        <li value="2">Click <span class="uicontrol">+ New</span>.</li>
                                                        <li value="3">Go to <span class="uicontrol">Options </span>&gt; <span class="uicontrol">General</span>.</li>
                                                        <li value="4">On the General proﬁle page, enter these values:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the proﬁle.</li>
                                                            <li><span class="uicontrol">Description</span>: Optional. Enter a description of the proﬁle.</li>
                                                            <li><span class="uicontrol">Level</span>: Select User Level.</li>
                                                        </ul>
                                                        <li value="5">Go to <span class="uicontrol">Options &gt; SCEP</span>.</li>
                                                        <li value="6">Click <span class="uicontrol">Conﬁgure</span>.</li>
                                                        <li value="7">On the SCEP proﬁle page, enter the following values and click <span class="uicontrol">Save</span>:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">URL</span>: Enter the <span class="uicontrol">SCEP URL </span>you saved in step 6b above.</li>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the SCEP proﬁle.</li>
                                                            <li><span class="uicontrol">Subject</span>: Enter a subject.
					<p>Choose a name that indicates that the certiﬁcate is used as the device management signal to Okta. As a best practice, you can also include proﬁle variables provided by Jamf Pro to include the device ID (UDID). For a list of supported variables, see Jamf Pro document <a href="https://docs.jamf.com/10.21.0/jamf-pro/administrator-guide/Computer_Configuration_Profiles.html" target="_blank" rel="noopener">Payload Variables for Computer</a><a href="https://docs.jamf.com/10.21.0/jamf-pro/administrator-guide/Computer_Configuration_Profiles.html" target="_blank" rel="noopener">Conﬁguration Proﬁles</a>.</p></li>
                                                            <li><span class="uicontrol">Challenge type</span>: Static.</li>
                                                            <li><span class="uicontrol">Challenge</span>: Copy and paste the secret key you generated in step 6e.</li>
                                                            <li><span class="uicontrol">Verify Challenge</span>: Copy and paste the Secret key again.</li>
                                                            <li><span class="uicontrol">Key Size</span>: select 2048.</li>
                                                            <li><span class="uicontrol">Use as digital signature</span>: Select this option.</li>
                                                            <li><span class="uicontrol">Allow export from keychain</span>: Leave this option clear.</li>
                                                            <li><span class="uicontrol">Allow all apps access</span>: Select this option.</li>
                                                        </ul>
                                                    </ol>
                                                    <h3>Use dynamic SCEP challenge with Jamf Pro on macOS devices</h3>
                                                    <ol>
                                                        <li value="1"><a href="#Con%EF%AC%81gure2" class="MCXref xref">Conﬁgure management attestation and generate a SCEP URL</a>
                                                        </li>
                                                        <li value="2"><a href="#Create2" class="MCXref xref">Create a dynamic SCEP proﬁle in Jamf Pro
        </a>
                                                        </li>
                                                        <li value="3"><a href="#Verify" class="MCXref xref">Verify that the Okta CA was installed on your devices
        </a>
                                                        </li>
                                                    </ol>
                                                    <h4><a name="Conﬁgure2"></a>Conﬁgure management attestation and generate a SCEP URL</h4>
                                                    <p>Note: This procedure applies to any EMM solution that supports pushing the Apple SCEP EMM payload.</p>
                                                    <ol>
                                                        <li value="1">In the Okta Admin Console, go to <span class="uicontrol">Security &gt; Device integrations</span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Endpoint management</span> page, click <span class="uicontrol">Add platform</span>.
				</li>
                                                        <li value="3">Select <span class="uicontrol">Desktop (Windows and macOS only)</span> and click <span class="uicontrol">Next.</span></li>
                                                        <li value="4">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="5">On the Add device management platform page, configure these settings:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Certiﬁcate authority</span>: Select <span class="uicontrol">Use Okta as certiﬁcate authority</span>.</li>
                                                            <li><span class="uicontrol">SCEP URL challenge type</span>: Select <span class="uicontrol">Dynamic SCEP URL</span> and click <span class="uicontrol">Generic</span>.</li>
                                                            <li>Click <span class="uicontrol">Generate</span>.</li>
                                                            <li><span class="uicontrol">SCEP URL</span>: Copy and save the value. You will need this value later.</li>
                                                            <li><span class="uicontrol">Challenge URL</span>: Copy and save the value. You will need this value later.</li>
                                                            <li><span class="uicontrol">Username</span>: Copy and save the value. You will need this value later.</li>
                                                            <li><span class="uicontrol">Password</span>: To reveal the password, click <span class="uicontrol">Show password</span>.Copy and save the value. You will need this value later.					<p><span class="uicontrol">Note: </span>Save the Password in a safe place. This is the only time it appears in the Okta Admin Console.</p></li>
                                                        </ul>
                                                        <li value="6">Click <span class="uicontrol">Save</span>.</li>
                                                        <ol> </ol>
                                                    </ol>
                                                    <h4><a name="Create2"></a>Create a dynamic SCEP proﬁle in Jamf Pro
        </h4>
                                                    <ol>
                                                        <li value="1">In Jamf Pro, go to <span class="uicontrol">Computers &gt; Conﬁguration Proﬁles</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">+ New</span>.</li>
                                                        <li value="3">Go to <span class="uicontrol">Options </span>&gt; <span class="uicontrol">General</span>.</li>
                                                        <li value="4">On the General proﬁle page, enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the proﬁle.</li>
                                                            <li><span class="uicontrol">Description</span>: Optional. Enter a description of the proﬁle.</li>
                                                            <li><span class="uicontrol">Level</span>: Select <span class="uicontrol">User Level</span>.</li>
                                                        </ul>
                                                        <li value="5">Go to <span class="uicontrol">Options &gt; SCEP</span>.</li>
                                                        <li value="6">Click <span class="uicontrol">Conﬁgure</span>.</li>
                                                        <li value="7">On the SCEP proﬁle page, enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">URL</span>: Enter the <span class="uicontrol">SCEP URL </span>you saved in step 5 above.</li>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the SCEP proﬁle.</li>
                                                            <li><span class="uicontrol">Subject</span>: Enter a subject.<p>Okta recommends choosing a name that indicates that the certiﬁcate is used as the device management signal to Okta. As a best practice, you can also include proﬁle variables provided by Jamf Pro to include the device ID (UDID). For a list of supported variables, see Jamf Pro document <a href="https://docs.jamf.com/10.21.0/jamf-pro/administrator-guide/Computer_Configuration_Profiles.html" target="_blank" rel="noopener">Payload Variables for</a><a href="https://docs.jamf.com/10.21.0/jamf-pro/administrator-guide/Computer_Configuration_Profiles.html" target="_blank" rel="noopener"> Computer Conﬁguration Proﬁles.</a></p></li>
                                                            <li><span class="uicontrol">Challenge type: </span>Select <span class="uicontrol">Dynamic-Microsoft CA.</span><ul><li><span class="uicontrol">URL To SCEP Admin</span>: Enter the <span class="uicontrol">Challenge URL </span>you saved in step 5 above.</li><li><span class="uicontrol">Username</span>: Enter the <span class="uicontrol">UserName </span>you saved in step 5 above.</li><li><span class="uicontrol">Password</span>: Enter the passwordyou saved in step 5 above.</li><li><span class="uicontrol">Verify Password</span>: Re-enter the <span class="uicontrol">Password </span>you saved.</li></ul></li>
                                                            <li><span class="uicontrol">Key Size</span>: Select <span class="uicontrol">2048</span> and select <span class="uicontrol">Use as digital signature</span>.</li>
                                                            <li><span class="uicontrol">Allow export from keychain</span>: Leave this unselected. It is good security practice to mark the certiﬁcate as non-exportable.</li>
                                                            <li><span class="uicontrol">Allow all apps access</span>: Select this option.</li>
                                                        </ul>
                                                        <li value="8">Click <span class="uicontrol">Save</span>.</li>
                                                        <li value="9">Conﬁgure the targets that the proﬁle will be deployed to:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Click <span class="uicontrol">Conﬁguration Proﬁles</span>.</li>
                                                            <li value="2">Click the applicable conﬁguration proﬁle name.</li>
                                                            <li value="3">Click the <span class="uicontrol">Scope </span>tab.</li>
                                                            <li value="4">Click <span class="uicontrol">Edit</span>.</li>
                                                            <li value="5">Click <span class="uicontrol">+ Add</span>.</li>
                                                            <li value="6">Locate the required deployment targets, and then click <span class="uicontrol">Add</span>.</li>
                                                        </ol>
                                                        <li value="10">Click <span class="uicontrol">Save</span>.</li>
                                                    </ol>
                                                    <h4><a name="Verify"></a>Verify that the Okta CA was installed on your devices
        </h4>
                                                    <p>On a macOS device managed by Jamf Pro, make sure the SCEP proﬁle is installed.</p>
                                                    <ol>
                                                        <li value="1">Go to <span class="uicontrol">System Preference &gt; Proﬁles</span>.</li>
                                                        <li value="2">Verify that your dynamic SCEP proﬁle is installed.</li>
                                                        <li value="3">Open <span class="uicontrol">Keychain &gt; Login</span>.</li>
                                                        <li value="4">Verify that a client certiﬁcate and associated private key exists.</li>
                                                    </ol>
                                                    <h3>Configure Okta as a CA for Windows using Workspace ONE</h3>
                                                    <ol>
                                                        <li value="1"><a href="#In" class="MCXref xref">In Okta, download the x509 certiﬁcate </a>
                                                        </li>
                                                        <li value="2"><a href="#In2" class="MCXref xref">In Okta, conﬁgure management attestation, generate a SCEP URL and a Secret Key
        </a>
                                                        </li>
                                                        <li value="3"><a href="#In3" class="MCXref xref">In Workspace ONE, create a static SCEP proﬁle </a>
                                                        </li>
                                                        <li value="4"><a href="#In4" class="MCXref xref">In Workspace ONE, Add/Edit a Certiﬁcate Template</a>
                                                        </li>
                                                        <li value="5"><a href="#In5" class="MCXref xref">In Workspace ONE, deﬁne a device proﬁle to deploy the Okta Intermediate CA to the Intermediate Store on devices
        </a>
                                                        </li>
                                                        <li value="6"><a href="#In6" class="MCXref xref">In Workspace ONE, deﬁne a user proﬁle to deploy the Okta CA-issued client certiﬁcate to the Personal Store on devices for management attestation
        </a>
                                                        </li>
                                                        <li value="7"><a href="#On" class="MCXref xref">On a Windows computer, verify the certiﬁcate installation</a>
                                                        </li>
                                                    </ol>
                                                    <h4><a name="In"></a>In Okta, download the x509 certiﬁcate </h4>
                                                    <p>The x509 certiﬁcate you download from Okta is the Organization Intermediate certiﬁcate.</p>
                                                    <ol>
                                                        <li value="1">In the Okta Admin Console, go to <span class="uicontrol">Security &gt; Device integrations &gt; Certificate authority.</span></li>
                                                        <li value="2">For the <span class="uicontrol">Okta CA </span>Certiﬁcate Authority, click the <span class="uicontrol">Download x509 certiﬁcate </span>icon in the Actions column.</li>
                                                    </ol>
                                                    <p>You will upload the certiﬁcate to Workspace ONE later.</p>
                                                    <h4><a name="In2"></a>In Okta, conﬁgure management attestation, generate a SCEP URL and a Secret Key
        </h4>
                                                    <ol>
                                                        <li value="1">In the Okta Admin Console, go to <span class="uicontrol">Security &gt; Device integrations</span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Endpoint management</span> page, click <span class="uicontrol">Add platform</span>.
				<p>Note: If you add more than one conﬁguration for the same type of platform, see this <a href="../../devices/known-issues.htm#MultConfigSamePlatKI" class="MCXref xref">Devices known issues</a>.</p></li>
                                                        <li value="3">Select <span class="uicontrol">Desktop (Windows and macOS only)</span> and click <span class="uicontrol">Next.</span></li>
                                                        <li value="4">On the <span class="uicontrol">Add device management platform </span>page, configure these settings:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Select <span class="uicontrol">Use Okta as certiﬁcate authority </span>as the Certiﬁcate authority.</li>
                                                            <li value="2">Select <span class="uicontrol">Static SCEP URL </span>as the SCEP challenge type.</li>
                                                            <li value="3">Click <span class="uicontrol">Generate</span>.</li>
                                                            <li value="4">Copy and save the Okta SCEP URL and the Secret key. You will paste these in Workspace ONE in the Create a static SCEP proﬁlephase.Note: Save the <span class="uicontrol">SCEP URL </span>and <span class="uicontrol">Secret Key </span>in a safe place. This is the only time they appear in the Okta Admin Console.</li>
                                                        </ol>
                                                        <li value="5">Click <span class="uicontrol">Save</span>.</li>
                                                    </ol>
                                                    <h4><a name="In3"></a>In Workspace ONE, create a static SCEP proﬁle </h4>
                                                    <ol>
                                                        <li value="1">Sign in to Workspace ONE as an administrator.</li>
                                                        <li value="2">In Workspace ONE, click <span class="uicontrol">DEVICES </span>(left ribbon bar).</li>
                                                        <li value="3">Click <span class="uicontrol">Certiﬁcates &gt; Certiﬁcate Authorities</span>.</li>
                                                        <li value="4">Click <span class="uicontrol">+ ADD</span>.</li>
                                                        <li value="5">On the Certiﬁcate Authority -Add/Edit page, enter the following values:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the CA.</li>
                                                            <li><span class="uicontrol">Description</span>: Optional. Enter a description for the CA.</li>
                                                            <li><span class="uicontrol">Authority type</span>: Select Generic SCEP.</li>
                                                            <li><span class="uicontrol">SCEP Provider</span>: Basic is entered automatically and can't be changed.</li>
                                                            <li><span class="uicontrol">SCEP URL</span>: Copy and paste the SCEP URL you generated in step 4b above.</li>
                                                            <li><span class="uicontrol">Challenge Type</span>: Click <span class="uicontrol">STATIC</span>.</li>
                                                            <li><span class="uicontrol">Static Challenge</span>: Copy and paste the Secret Key you generated in step 4d above.</li>
                                                            <li><span class="uicontrol">Conﬁrm Challenge Phrase</span>: Copy and paste the Secret Key you generated in step 4d above.</li>
                                                            <li><span class="uicontrol">Retry Timeout</span>: Accept the default value of 30.</li>
                                                            <li><span class="uicontrol">Max Retries When Pending</span>: Accept the default value of <span class="uicontrol">5</span>, or specify a different number of retries the system allows while the authority is pending.</li>
                                                            <li><span class="uicontrol">Enable Proxy</span>: Accept the default value of <span class="uicontrol">DISABLED </span>or select <span class="uicontrol">ENABLED </span>if appropriate for your environment. If you select Enabled, Workspace ONE UEM acts as a proxy between the device and the SCEP endpoint deﬁned in the CA conﬁguration.</li>
                                                        </ul>
                                                        <li value="6">Click <span class="uicontrol">TEST CONNECTION</span>. If you select <span class="uicontrol">SAVE </span>before <span class="uicontrol">TEST CONNECTION</span>, the <span class="uicontrol">Test is unsuccessful </span> error appears.</li>
                                                        <li value="7">After the <span class="uicontrol">Test is successful </span>message appears, click <span class="uicontrol">SAVE AND ADD TEMPLATE</span>. If the test doesn't succeed, ensure that you can access the Okta SCEP URL generated in step 4b above from Workspace ONE UEM.</li>
                                                    </ol>
                                                    <h4><a name="In4"></a>In Workspace ONE, Add/Edit a Certiﬁcate Template</h4>
                                                    <ol>
                                                        <li value="1">In Workspace ONE, click the <span class="uicontrol">Request Templates </span>tab.</li>
                                                        <li value="2">Click <span class="uicontrol">+ ADD</span>.</li>
                                                        <li value="3">On the Certiﬁcate Template -Add/Edit page, enter the following values:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the template.</li>
                                                            <li><span class="uicontrol">Description</span>: Optional. Enter a description for the template.</li>
                                                            <li><span class="uicontrol">Certiﬁcate Authority</span>: Select the CA you created in Step 3.</li>
                                                            <li><span class="uicontrol">Issuing Template</span>: Leave blank or conﬁgure as appropriate for your implementation.</li>
                                                            <li><span class="uicontrol">Subject Name</span>: Enter <span class="uicontrol">CN = {EmailUserName} managementAttestation</span><span class="uicontrol">{DeviceUid}.</span></li>
                                                            <li><span class="uicontrol">Private Key Length</span>: Select <span class="uicontrol">2048</span>.</li>
                                                            <li><span class="uicontrol">Private Key Type</span>: Select <span class="uicontrol">Signing</span>.</li>
                                                            <li><span class="uicontrol">SAN Type</span>: N/A.</li>
                                                            <li><span class="uicontrol">Automatic Certiﬁcate Renewal</span>: Click <span class="uicontrol">DISABLED</span></li>
                                                            <li><span class="uicontrol">Publish Private Key</span>: Click <span class="uicontrol">DISABLED</span>.</li>
                                                        </ul>
                                                    </ol>
                                                    <h4><a name="In5"></a>In Workspace ONE, deﬁne a device proﬁle to deploy the Okta Intermediate CA to the Intermediate Store on devices
        </h4>
                                                    <ol>
                                                        <li value="1">In Workspace ONE, click <span class="uicontrol">RESOURCES </span>(left ribbon bar).</li>
                                                        <li value="2">Click <span class="uicontrol">Proﬁles &amp; Baselines &gt; Proﬁles</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">ADD</span>, and then select <span class="uicontrol">Add Proﬁle</span>.</li>
                                                        <li value="4">Select <span class="uicontrol">Windows &gt; Windows Desktop &gt; Device Proﬁle</span>.</li>
                                                        <li value="5">On the General page, enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the device proﬁle.</li>
                                                            <li><span class="uicontrol">Description</span>: Optional. Enter a description for the device proﬁle.</li>
                                                            <li><span class="uicontrol">Deployment</span>: Select <span class="uicontrol">Managed</span>.</li>
                                                            <li><span class="uicontrol">Assignment Type</span>: Accept the default or conﬁgure as appropriate for your implementation.</li>
                                                            <li><span class="uicontrol">Allow Removal</span>: Accept the default or conﬁgure as appropriate for your implementation.</li>
                                                            <li><span class="uicontrol">Managed By</span>: Enter the person or group with administrative access to the proﬁle.</li>
                                                            <li><span class="uicontrol">Smart Groups</span>: Begin typing the name of the group and then select it from the list.</li>
                                                            <li><span class="uicontrol">Exclusions</span>: You can exclude groups from the proﬁle. Accept the default or conﬁgure as appropriate for your implementation.</li>
                                                            <li><span class="uicontrol">Additional Assignment Criteria</span>: You can schedule a deployment schedule.</li>
                                                            <li><span class="uicontrol">Removal Date</span>: You can specify when the proﬁle is removed from the device.</li>
                                                        </ul>
                                                        <li value="6">Click <span class="uicontrol">Credentials </span>in the left pane.</li>
                                                        <li value="7">Click <span class="uicontrol">CONFIGURE</span>.</li>
                                                        <li value="8">On the Credentials page, enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Credential Source</span>: Select <span class="uicontrol">Upload</span>.</li>
                                                            <li><span class="uicontrol">Certiﬁcate</span>: Click <span class="uicontrol">Upload </span>and browse to the certiﬁcate you downloaded in Step 1.</li>
                                                            <li><span class="uicontrol">Key Location</span>: Accept the default or conﬁgure as appropriate for your implementation.</li>
                                                            <li><span class="uicontrol">Certiﬁcate Store</span>: Select <span class="uicontrol">Intermediate</span>.</li>
                                                        </ul>
                                                        <li value="9">Click <span class="uicontrol">SAVE AND PUBLISH</span>.</li>
                                                    </ol>
                                                    <h4><a name="In6"></a>In Workspace ONE, deﬁne a user proﬁle to deploy the Okta CA-issued client certiﬁcate to the Personal Store on devices for management attestation
        </h4>
                                                    <p>This step creates the management payload that pushes the client certiﬁcate information and credential to the client, allowing the client to connect to Okta and request a new client certiﬁcate. The client certiﬁcate is used for management attestation in Okta Verify-enabled ﬂows.</p>
                                                    <ol>
                                                        <li value="1">In Workspace ONE, click <span class="uicontrol">RESOURCES </span>(left ribbon bar).</li>
                                                        <li value="2">Click <span class="uicontrol">Proﬁles &amp; Baselines &gt; Proﬁles</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">ADD</span>, and then select <span class="uicontrol">Add Proﬁle</span>.</li>
                                                        <li value="4">Select <span class="uicontrol">Windows &gt; Windows Desktop &gt; User Proﬁle</span>.</li>
                                                        <li value="5">On the General page, enter the following:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name</span>: Enter a name for the user proﬁle.</li>
                                                            <li><span class="uicontrol">Description</span>: Optional. Enter a description for the user proﬁle.</li>
                                                            <li><span class="uicontrol">Deployment</span>: Select <span class="uicontrol">Managed</span>.</li>
                                                            <li><span class="uicontrol">Assignment Type</span>: Select <span class="uicontrol">Auto</span>.</li>
                                                            <li><span class="uicontrol">Allow Removal</span>: Select <span class="uicontrol">Always</span>.</li>
                                                            <li><span class="uicontrol">Managed By</span>: Optional. Enter additional admin names.</li>
                                                            <li><span class="uicontrol">Smart Groups</span>: Enter the same group(s) you speciﬁed in step 5g above.</li>
                                                            <li><span class="uicontrol">Exclusions</span>: You can exclude groups from the proﬁle. Accept the default or conﬁgure as appropriate for your implementation.</li>
                                                            <li><span class="uicontrol">Additional Assignment Criteria</span>: You can schedule a deployment.</li>
                                                            <li><span class="uicontrol">Removal Date</span>: You can specify when the proﬁle is removed from the device.</li>
                                                        </ul>
                                                        <li value="6">Click <span class="uicontrol">Credentials </span>in the left pane.</li>
                                                        <li value="7">Click <span class="uicontrol">CONFIGURE</span>.</li>
                                                        <li value="8">On the Credentials page, enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Credential Source</span>: Select <span class="uicontrol">Deﬁned Certiﬁcate Authority</span>.</li>
                                                            <li><span class="uicontrol">Certiﬁcate Authority</span>: Select the same Certiﬁcate Authority that you conﬁgured previously.</li>
                                                            <li><span class="uicontrol">Key Location</span>: Select <span class="uicontrol">TPM If Present </span>to support devices with or without TPM.</li>
                                                            <li><span class="uicontrol">Certiﬁcate Store</span>: Select <span class="uicontrol">Personal</span>.</li>
                                                        </ul>
                                                        <li value="9">Click <span class="uicontrol">SAVE AND PUBLISH</span>.</li>
                                                    </ol>
                                                    <h4><a name="On"></a>On a Windows computer, verify the certiﬁcate installation</h4>
                                                    <ol>
                                                        <li value="1">Verify that the client certiﬁcate was installed:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">On the Windows computer, click <span class="uicontrol">Start</span>, and then type <span class="uicontrol">cert</span>.</li>
                                                            <li value="2">Click <span class="uicontrol">Manage user certiﬁcates</span>.</li>
                                                            <li value="3">
                   In <span class="uicontrol">Certiﬁcates - Current User</span>, click <span class="uicontrol">Personal &gt; Certiﬁcates</span>.
                </li>
                                                            <li value="4">Make sure the client certiﬁcate exists.</li>
                                                        </ol>
                                                        <li value="2">Verify the certiﬁcate authority (CA):</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">In <span class="uicontrol">Certiﬁcates - Local Computer</span>, click <span class="uicontrol">Intermediate Certiﬁcate Authority &gt; Certiﬁcates</span>.</li>
                                                            <li value="2">In the <span class="uicontrol">Issued To </span>column, ﬁnd <span class="uicontrol">Organization Intermediate Authority</span>.</li>
                                                            <li value="3">Make sure the <span class="uicontrol">Issued By </span>column speciﬁes <span class="uicontrol">Organization Root Authority </span>for</li>
                                                        </ol>
                                                    </ol>
                                                    <p><span class="uicontrol">Organization Intermediate Authority</span>.</p>
                                                    <h3>Configure Okta as a CA for Windows using Microsoft Intune</h3>
                                                    <h4>Download the x509 certiﬁcate from Okta</h4>
                                                    <ol>
                                                        <li value="1">In the Okta Admin Console, go to <span class="uicontrol">Security &gt; Device Integrations &gt; Certificate Authority</span>.</li>
                                                        <li value="2">In the <span class="uicontrol">Actions </span>column, click the <span class="uicontrol">Download x509 certiﬁcate </span>icon.
				<p>You will upload the certiﬁcate to Microsoft Endpoint Conﬁguration Manager (MECM) later.</p></li>
                                                    </ol>
                                                    <h4>Create a Trusted Certiﬁcate proﬁle in MECM</h4>
                                                    <ol>
                                                        <li value="1">In Microsoft Endpoint Conﬁguration Manager (MECM), go to <span class="uicontrol">Devices</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">Conﬁguration proﬁles</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">+ Create proﬁle</span>.</li>
                                                        <li value="4">In Create a proﬁle, select these values:<ul><li><span class="uicontrol">Platform</span>: Select <span class="uicontrol">Windows 10 and later</span>.</li><li><span class="uicontrol">Proﬁle</span>: Select <span class="uicontrol">Trusted certiﬁcate</span>.</li></ul></li>
                                                        <li value="5">Click <span class="uicontrol">Create</span>.</li>
                                                        <li value="6">Follow the steps in the Trusted CertiﬁcateWizard:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Enter a name and (optionally) a description.</li>
                                                            <li value="2">Click <span class="uicontrol">Next</span>.</li>
                                                            <li value="3">Select the x509 certiﬁcate that you downloaded from Okta in step 3.</li>
                                                            <li value="4">
                    In the <span class="uicontrol">Destination store</span>, select <span class="uicontrol">Computer certiﬁcate store - Intermediate</span>.
                </li>
                                                            <li value="5">Click <span class="uicontrol">Next</span>.</li>
                                                            <li value="6">Assign the trusted certiﬁcate proﬁle to one or more user groups.
				<p>Note: the user group(s) must be the same as the group(s) you will assign the SCEP proﬁle to in Create a SCEP proﬁle in MECM.</p></li>
                                                            <li value="7">Click <span class="uicontrol">Next</span>.</li>
                                                            <li value="8">Set Applicability Rules.</li>
                                                            <li value="9">Click <span class="uicontrol">Next</span>.</li>
                                                            <li value="10">Review the conﬁguration, and then click <span class="uicontrol">Create</span>.</li>
                                                        </ol>
                                                    </ol>
                                                    <h4>Register the AAD app credentials for Okta in Microsoft Azure</h4>
                                                    <ol>
                                                        <li value="1">In Microsoft Azure, click <span class="uicontrol">App registrations</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">+ New </span>registration.</li>
                                                        <li value="3">On the <span class="uicontrol">Register an application </span>page, enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Name: </span>Enter a meaningful name for the application. Make a note of this for later use.</li>
                                                            <li><span class="uicontrol">Supported account types</span>: Select the appropriate, supported account type. Okta tested with <span class="uicontrol">Accounts in this organizational directory only ([Your_Tenant_Name] only - Single tenant) </span>selected.</li>
                                                            <li><span class="uicontrol">Redirect URI (optional)</span>: Leave blank or select <span class="uicontrol">Web</span>. Then enter a redirect URI.</li>
                                                        </ul>
                                                        <li value="4">Click <span class="uicontrol">Register</span>.</li>
                                                        <li value="5">On the app page under <span class="uicontrol">Essentials</span>, copy and make a note of the <span class="uicontrol">Application (client) ID</span>.
			<p>You will paste this value in the Okta Admin Console later.</p></li>
                                                        <li value="6">Add a client secret:<ol style="list-style-type: lower-alpha;"><li value="1">In the left pane, click <span class="uicontrol">Certiﬁcates &amp; secrets</span>.</li><li value="2">Under <span class="uicontrol">Client secrets</span>, click <span class="uicontrol">+ New client secret</span>.</li><li value="3">In the <span class="uicontrol">Add a client secret </span>section, enter the following information:</li><ul><li><span class="uicontrol">Description</span>: Optional. Enter a description of the client secret.</li><li><span class="uicontrol">Expires</span>: Select an expiration time.</li></ul><li value="4">Click <span class="uicontrol">Add</span>.
		<p>The secret appears under <span class="uicontrol">Client secrets</span>.</p></li><li value="5">In the <span class="uicontrol">Client secrets </span>section, copy and make a note of the <span class="uicontrol">Value</span>.</li></ol></li>
                                                        <li value="7">Set Intune scep_challenge_provider permissions:<ol style="list-style-type: lower-alpha;"><li value="1">In the left pane, click <span class="uicontrol">API permissions</span>.</li><li value="2">Click <span class="uicontrol">+ Add a permission</span>.</li><li value="3">In the <span class="uicontrol">Request API permissions </span>section, scroll down and then click <span class="uicontrol">Intune</span>.</li><li value="4">Under <span class="uicontrol">What type of permissions does your application require? </span>click <span class="uicontrol">Application permissions</span>.</li><li value="5">In the <span class="uicontrol">Select permissions </span>search ﬁeld, enter scep, and select the <span class="uicontrol">scep_challenge_provider </span>checkbox.</li><li value="6">Click <span class="uicontrol">Add permissions</span>.</li><li value="7">In the <span class="uicontrol">Conﬁgured permissions </span>section, click G<span class="uicontrol">rant admin consent for [Your_Tenant_Name]</span>.</li><li value="8">Click <span class="uicontrol">Yes </span>in the message that appears.</li></ol></li>
                                                        <li value="8">Set Microsoft Graph Application.Read.All permissions:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Click <span class="uicontrol">+ Add a permission</span>.</li>
                                                            <li value="2">In the <span class="uicontrol">Request API permissions </span>section, click <span class="uicontrol">Microsoft Graph</span>.</li>
                                                            <li value="3">Under <span class="uicontrol">What type of permissions does your application require? </span>click <span class="uicontrol">Application permissions</span>.</li>
                                                            <li value="4">In the <span class="uicontrol">Select permissions </span>search ﬁeld, enter <code>application</code>, expand <span class="uicontrol">Application</span>, and then select the <span class="uicontrol">Application.Read.All </span>checkbox.</li>
                                                            <li value="5">Click <span class="uicontrol">Add permissions</span>.</li>
                                                            <li value="6">In the <span class="uicontrol">Conﬁgured permissions </span>section, click <span class="uicontrol">Grant admin consent for [Your_Tenant_Name]</span>.</li>
                                                            <li value="7">Click <span class="uicontrol">Yes </span>in the message that appears.</li>
                                                        </ol>
                                                        <li value="9">Set Azure Active Directory Graph Application.Read.All permissions:
				<p>Note: Microsoft Azure portal no longer supports Azure Active Directory Graph. As a workaround, use a PowerShell script to set the Azure Active Directory Graph Application.Read.All permissions.</p><ol style="list-style-type: lower-alpha;"><li value="1">Create and run a PowerShell script that sets the <span class="uicontrol">Azure Active Directory Graph </span>Application.Read.All permissions. See the PowerShell resources: <ul><li><a href="https://docs.microsoft.com/en-us/powershell/module/azuread/set-azureadapplication?view=azureadps-2.0" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/powershell/module/azuread/set-azu</a><a href="https://docs.microsoft.com/en-us/powershell/module/azuread/set-azureadapplication?view=azureadps-2.0" target="_blank" rel="noopener">readapplication?view=azureadps-2.0</a> for information about using</li><li><a href="https://docs.microsoft.com/en-us/powershell/module/azuread/new-azureadserviceapproleassignment?view=azureadps-2.0" target="_blank" rel="noopener">https://docs.microsoft.com/en-us/powershell/module/azuread/new-az</a><a href="https://docs.microsoft.com/en-us/powershell/module/azuread/new-azureadserviceapproleassignment?view=azureadps-2.0" target="_blank" rel="noopener">ureadserviceapproleassignment?view=azureadps-2.0</a> for information about using New-AzureADServiceAppRoleAssignment</li></ul></li><li value="2">Go to the Microsoft Azure portal and verify the <span class="uicontrol">Azure Active Directory Graph </span>Application.Read.All permission is assigned to the application in the API permission blade.</li></ol></li>
                                                    </ol>
                                                    <h4>Conﬁgure management attestation and generate a SCEP URL in Okta
        </h4>
                                                    <ol>
                                                        <li value="1">In the Admin Console, go to <span class="uicontrol">Security &gt; Device Integrations</span>.</li>
                                                        <li value="2">On the <span class="uicontrol">Endpoint Management</span> page, click <span class="uicontrol">Add Platform</span>.
				<p>Note: If you add more than one conﬁguration for the same type of platform, see this <a href="../../devices/known-issues.htm#MultConfigSamePlatKI" class="MCXref xref">Devices known issues</a>.</p></li>
                                                        <li value="3">Select <span class="uicontrol">Desktop (Windows and macOS only)</span> and click <span class="uicontrol">Next</span>.</li>
                                                        <li value="4">Conﬁgure the following settings:<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Certiﬁcate authority: </span>Select <span class="uicontrol">Use Okta as certiﬁcate authority</span>.</li><li value="2"><span class="uicontrol">SCEP URL challenge type</span>: Select <span class="uicontrol">Delegated SCEP URL (Microsoft Intune only)</span>.</li><li value="3">Enter the values that you copied from Microsoft Azure into the following ﬁelds:<ul><li><span class="uicontrol">AAD client ID: </span>Enter the value you copied from step 5 above.</li><li><span class="uicontrol">AAD tenant: </span>Enter your AAD tenant name followed by .onMicrosoft.com.</li><li><span class="uicontrol">AAD secret: </span>Enter the value you copied from step 6e of above.</li></ul></li></ol></li>
                                                        <li value="5">Click <span class="uicontrol">Generate</span>.</li>
                                                        <li value="6">Copy and save the Okta SCEP URL. You will paste the URL in Microsoft Endpoint Conﬁguration Manager later.</li>
                                                    </ol>
                                                    <h4>Create a SCEP proﬁle in MECM
        </h4>
                                                    <ol>
                                                        <li value="1">In Microsoft Endpoint Conﬁguration Manager (MECM), go to <span class="uicontrol">Devices</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">Conﬁguration proﬁles</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">+ Create proﬁle</span>.</li>
                                                        <li value="4">In Create a proﬁle, enter the following:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1"><span class="uicontrol">Platform</span>: Windows 10 or later</li>
                                                            <li value="2"><span class="uicontrol">Proﬁle</span>: SCEP certiﬁcate</li>
                                                            <li value="3">Click <span class="uicontrol">Create</span>.</li>
                                                        </ol>
                                                        <li value="5">In the SCEP Certiﬁcate Wizard, enter a name and (optionally) a description.</li>
                                                        <li value="6">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="7">Enter the following information:</li>
                                                        <ul>
                                                            <li><span class="uicontrol">Certiﬁcate type</span>: User</li>
                                                            <li><span class="uicontrol">Subject name format </span>(recommended; other formats will also work): CN={{UserPrincipalName}} ManagementAttestation {{AAD_Device_ID}}</li>
                                                            <li><span class="uicontrol">Key storage provider</span>: Enroll to Trusted Platform Module (TPM) KSP if present, otherwise Software KSP</li>
                                                            <li><span class="uicontrol">Key usage</span>: Digital signature.</li>
                                                            <li><span class="uicontrol">Key length</span>: 2048.</li>
                                                            <li><span class="uicontrol">Hash algorithm</span>: Select <span class="uicontrol">SHA-2</span>.</li>
                                                        </ul>
                                                        <li value="8">Click <span class="uicontrol">+ Root Certiﬁcate</span>.</li>
                                                        <li value="9">In the <span class="uicontrol">Root Certiﬁcate </span>pane, select the trusted certiﬁcate that you created earlier in Step 2, and then click <span class="uicontrol">OK</span>.</li>
                                                        <li value="10">Under <span class="uicontrol">Extended key </span>usage, set <span class="uicontrol">Predeﬁned values </span>to <span class="uicontrol">Client Authentication</span>.</li>
                                                        <li value="11">Copy the SCEP URL you generated in Step 8 above and paste it into the SCEP Server URLs ﬁeld.</li>
                                                        <li value="12">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="13">Assign the SCEP certiﬁcate to the same user group(s) to which you assigned the <span class="uicontrol">Trusted certiﬁcate proﬁle </span>in step 5f  above.</li>
                                                        <li value="14">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="15">Set Applicability Rules.</li>
                                                        <li value="16">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="17">Review the conﬁguration, and then click <span class="uicontrol">Create</span>.</li>
                                                    </ol>
                                                    <h4>Verify the certiﬁcate installation on a Windows computer
        </h4>
                                                    <ol>
                                                        <li value="1">Verify the client certiﬁcate installation:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">On the Windows computer, click <span class="uicontrol">Start </span>and type cert and then click <span class="uicontrol">Manage user certiﬁcates</span>.</li>
                                                            <li value="2">Look in <span class="uicontrol">Personal &gt; Certiﬁcates</span>.</li>
                                                        </ol>
                                                        <li value="2">Verify the certiﬁcate authority:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">On the Windows computer, click <span class="uicontrol">Start </span>and type cert and then click <span class="uicontrol">Manage user certiﬁcates</span>.</li>
                                                            <li value="2">Look in Intermediate <span class="uicontrol">Certiﬁcate Authority &gt; Certiﬁcates</span>.</li>
                                                            <li value="3">In <span class="uicontrol">Issued To</span>, ﬁnd and double-click <span class="uicontrol">Organization Intermediate Authority</span>.</li>
                                                            <li value="4">See Issuer: Organization Root Authority.</li>
                                                        </ol>
                                                        <li value="3">Verify successful SCEP certiﬁcate installation and ﬂow:</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">On the Windows computer, click <span class="uicontrol">Start</span>, type <span class="uicontrol">Event</span>, and then click <span class="uicontrol">Event Viewer</span>.</li>
                                                            <li value="2">Look in <span class="uicontrol">Applications and Service Logs &gt; Microsoft &gt; Windows &gt; DeviceManagement-Enterprise &gt; Admin</span>.</li>
                                                            <li value="3">In the <span class="uicontrol">General </span>tab, ﬁnd:</li>
                                                            <ul>
                                                                <li><span class="uicontrol">SCEP: Certiﬁcate installed successfully.</span>
                                                                </li>
                                                                <li><span class="uicontrol">SCEP: Certiﬁcate request generated successfully</span>
                                                                </li>
                                                            </ul>
                                                        </ol>
                                                    </ol>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- div class="toolbar-main">
            <MadCap:topicToolbarProxy data-mc-skin="/Project/Skins/okta-toolbar-no-expand.flskn" style="mc-topic-toolbar-items: ;" />
                </div -->
                                    <!-- *********************** Footer rows ********************************* -->
                                    <div class="footer2">
                                        <div>
                                            <p class="copyright" data-mc-conditions="MultiProdPubish.OIE">Okta Identity Engine is currently available to a selected audience.
	</p>
                                            <p class="copyright">©  <span class="mc-variable okta-variables.Year variable">2022</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span>. All Rights Reserved. Various trademarks held by their respective owners.
	</p>
                                        </div>
                                    </div>
                                    <!-- Qualtrics setup to use with script below, replacing getfeedback -->
                                    <div id="ZN_6fGBJ8J3VcIBymN">
                                        <!--DO NOT REMOVE-CONTENTS PLACED HERE-->
                                    </div>
                                    <!-- ********************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../../../Resources/Scripts/js/ignore-dompurify.js">
                                    </script>
                                    <script src="../../../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <script type="text/javascript" src="../../../../Resources/Scripts/js/vendor/qualtrics.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
