<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-toc-path="[%=System.LinkedHeader%]|[%=System.LinkedHeader%]|[%=System.LinkedHeader%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="Okta Identity Engine Admins" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Configure Okta as a CA with delegated SCEP challenge for Windows using MEM (formally Intune) | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Resources/Stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <script src="../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <div id="coveo_dev_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.DevOrgId variable">oktanonproduction1il1gtac7</span>
                                    </div>
                                    <div id="coveo_dev_token" style="Display:None"><span class="mc-variable okta-coveo-config.DevSearchToken variable">xxb48840fe-d60d-4e40-b1d3-522d5a35c384</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************** Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPubish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <div class="navbar">
                                            <div class="dropdown" data-mc-conditions="MultiProdPubish.DocMenu">
                                                <button class="dropbtn">Documentation <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://help.okta.com/en-us/Content/Topics/ReleaseNotes/okta-relnotes.htm">Release notes</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/en-us/Content/index.htm">Product documentation</a>
                                                    </div>
                                                    <div><a href="https://developer.okta.com/documentation" target="_blank">Developer documentation<img src="../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://support.okta.com/help/s/knowledge">Knowledge base</a>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Community <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/questions?language=en_US">Questions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/group/CollaborationGroup/Recent?language=en_US">Discussions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/events?language=en_US">Webinars</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Product <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/ideas" target="_blank">Ideas<img src="../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/productroadmap?language=en_US">Roadmap</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/product-hub?language=en_US">Product hub</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://www.okta.com/services/education-services/" target="_blank">Training<span><img src="../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></span></a>
                                            </div>
                                        </div>
                                        <div class="logo_container"><a class="logo" href="https://support.okta.com/help/s/"><img src="../../../Resources/Images/okta-assets/Logo.png" alt="Okta Support" title="Okta Support" /></a>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie select-language-button" title="Change language">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        <button class="button needs-pie previous-topic-button" title="Previous topic" disabled="true">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Next topic" disabled="true">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="oie-label" data-mc-conditions="MultiProdPubish.OIE">
                                                <img class="oie-label" title="Label: Okta Identity Engine content" src="../../../Resources/Images/okta-assets/Identity_Engine.svg" />
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>Configure Okta as a CA with delegated SCEP challenge for Windows using MEM (formally Intune)</h1>
                                                    <p>Configure  a certificate authority (CA) to issue client certificates to your targeted Windows devices. This procedure describes how to create a Simple Certificate Enrollment Protocol (SCEP) profile using Microsoft Endpoint Manager (MEM) and generate a SCEP URL in <span class="mc-variable okta-variables.ProductName variable">Okta</span>.</p>
                                                    <h2>Prerequisites</h2>
                                                    <ul>
                                                        <li>Certificates deployed for digital signature, but not for other purposes (for example, encryption)</li>
                                                        <li><span class="mc-variable okta-variables.ProductName variable">Okta</span> <span class="mc-variable okta-feature-names.Administrator_dashboard variable">Admin Console</span></li>
                                                        <li>Microsoft Endpoint Manager (MEM)</li>
                                                        <p>
                                                            <div class="noteOkta">
                                                                <p class="noteContent">Microsoft Endpoint Manager (MEM) is a solution platform that unifies several services. It includes <span class="mc-variable _3rd_Party_Integrations.Microsoft_Intune variable">Microsoft Intune</span> for cloud-based device management, Configuration Manager for on premises device management, Co-management, Desktop Analytics, Windows Autopilot, <span class="mc-variable _3rd_Party_Integrations.AAD variable">Azure Active Directory</span>, Windows Autopilot, and Endpoint Manager admin center. You can use this procedure if you are using any of these services. For example, you can use this procedure if you are using <span class="mc-variable _3rd_Party_Integrations.Microsoft_Intune variable">Microsoft Intune</span>.</p>
                                                            </div>
                                                        </p>
                                                        <li>Microsoft Azure</li>
                                                    </ul>
                                                    <h2>Start this Procedure</h2>
                                                    <ul>
                                                        <li><a href="#Task1" class="MCXref xref">Task 1: Download the x509 certificate from Okta</a>
                                                        </li>
                                                        <li><a href="#Task2" class="MCXref xref">Task 2: Create a Trusted Certificate profile in MEM</a>
                                                        </li>
                                                        <li><a href="#Task3" class="MCXref xref">Task 3: Register the AAD app credentials for Okta in Microsoft Azure</a>
                                                        </li>
                                                        <li><a href="#Task4" class="MCXref xref">Task 4: Configure management attestation and generate a SCEP URL in Okta</a>
                                                        </li>
                                                        <li><a href="#Task5" class="MCXref xref">Task 5: Create a SCEP profile in MEM</a>
                                                        </li>
                                                        <li><a href="#Task6" class="MCXref xref">Task 6: Verify the certificate installation on a Windows computer</a>
                                                        </li>
                                                    </ul>
                                                    <h3><a name="Task1"></a>Task 1: Download the x509 certificate from <span class="mc-variable okta-variables.ProductName variable">Okta</span></h3>
                                                    <ol>
                                                        <li value="1">In the <span class="mc-variable okta-feature-names.Administrator_dashboard variable">Admin Console</span>, go to <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Device integrations</span>.</li>
                                                        <li value="2">Click the <span class="uicontrol">Certificate authority</span> tab.</li>
                                                        <li value="3">In the <span class="uicontrol">Actions</span> column for <span class="mc-variable okta-variables.ProductName variable">Okta</span> CA, click the <span class="uicontrol">Download x509 certificate</span> icon.</li>
                                                        <li value="4">Rename the downloaded file, so that it includes a .cer extension.</li>
                                                        <p>You will upload the certificate (CER file) to Microsoft Endpoint Manager (MEM) in Task 2.</p>
                                                    </ol>
                                                    <h3><a name="Task2"></a>Task 2: Create a Trusted Certificate profile in MEM</h3>
                                                    <ol>
                                                        <li value="1">In the Microsoft Endpoint Manager (MEM) admin center, go to <span class="uicontrol">Devices</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">Configuration profiles</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">+ Create profile</span>.</li>
                                                        <li value="4">In Create a profile, do the following:
				<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Platform</span>: Select <span class="uicontrol">Windows 10 and later</span>.</li><li value="2"><span class="uicontrol">Profile type</span>: Select <span class="uicontrol">Templates</span>.</li><li value="3">In the <span class="uicontrol">Template name</span> section, click <span class="uicontrol">Trusted certificate</span>.</li><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-mecm-create_a_profile_win_1.png" data-mc-popup-alt="The image shows the Microsoft Endpoint Configuration Manager Create a profile screen."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1047" data-mc-height="1196" src="images/devices-mecm-create_a_profile_win_1_thumb_220_220.png" alt="The image shows the Microsoft Endpoint Configuration Manager Create a profile screen." tabindex="" /></a></p><li value="4">Click <span class="uicontrol">Create</span>.</li></ol></li>
                                                        <li value="5">On the <span class="uicontrol">Trusted certificate</span> page <span class="uicontrol">Basics</span> tab, do the following:
				<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Name</span>: Enter a name for the certificate.</li><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-mecm-add_trusted_cert_win.png" data-mc-popup-alt="The image shows the Microsoft Endpoint Configuration Manager Trusted certificate screen."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="807" data-mc-height="459" src="images/devices-mecm-add_trusted_cert_win_thumb_220_220.png" alt="The image shows the Microsoft Endpoint Configuration Manager Trusted certificate screen." tabindex="" /></a></p><li value="2"><span class="uicontrol">Description</span>: Optional. Enter a description for the certificate.</li><li value="3">Click <span class="uicontrol">Next</span>.</li></ol></li>
                                                        <li value="6">On the <span class="uicontrol">Trusted certificate</span> page <span class="uicontrol">Configuration settings</span> tab, do the following:
<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Certificate file</span>: Select the x509 certificate (CER file) that you downloaded from Okta in <a href="#Task1">Task 1</a>.</li><li value="2"><span class="uicontrol">Destination store</span>: Select <span class="uicontrol">Computer certificate store - Intermediate</span>.</li><li value="3">Click <span class="uicontrol">Next</span>.</li></ol></li>
                                                        <li value="7">On the <span class="uicontrol">Trusted certificate</span> page <span class="uicontrol">Assignments</span> tab, do the following:
<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Included groups</span>: Assign the trusted certificate profile to one or more user groups. The user group(s) must be the same as the group(s) you will assign the <span class="uicontrol">SCEP profile</span> to in <a href="#Task5">Task 5</a>.</li><div class="noteOkta"><p class="noteContent">Make sure the user groups specified in both profiles are the same.</p></div><li value="2">Click <span class="uicontrol">Next</span>.</li></ol></li>
                                                        <li value="8">On the <span class="uicontrol">Trusted certificate</span> page <span class="uicontrol">Applicability Rules</span> tab, do the following: <ol style="list-style-type: lower-alpha;"><li value="1">Configure any required rules.</li><li value="2">Click <span class="uicontrol">Next</span>.</li></ol></li>
                                                        <li value="9">On the <span class="uicontrol">Trusted certificate</span> page <span class="uicontrol">Review + create</span> tab, review the configuration, and then click <span class="uicontrol">Create</span>.</li>
                                                    </ol>
                                                    <h3><a name="Task3"></a>Task 3: Register the AAD app credentials for <span class="mc-variable okta-variables.ProductName variable">Okta</span> in Microsoft Azure</h3>
                                                    <ol>
                                                        <li value="1">In Microsoft Azure, click <span class="uicontrol">App registrations</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">+ New registration</span>.</li>
                                                        <li value="3">On the <span class="uicontrol">Register an application</span> page, enter the following:<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Name</span>: Enter a meaningful name for the application.</li><li value="2"><span class="uicontrol">Supported account types</span>: Select the appropriate supported account type. Okta tested with <span class="uicontrol">Accounts in this organizational directory only ([Your_Tenant_Name] only - Single tenant)</span> selected.</li><li value="3"><span class="uicontrol">Redirect URI (optional)</span>: Leave blank, or select <span class="uicontrol">Web</span>, and then enter a redirect URI.</li><li value="4">Click <span class="uicontrol">Register</span>.</li></ol></li>
                                                        <li value="4">On the app page under <span class="uicontrol">Essentials</span>, copy and make a note of the <span class="uicontrol">Application (client) ID</span>.  </li>
                                                        <p>You will paste this value in the Okta Admin Console in <a href="#Task4">Task 4</a>.</p>
                                                        <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-azure-copy_application_id.png" data-mc-popup-alt="The image indicates where to find the Application (client) ID."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1030" data-mc-height="610" src="images/devices-azure-copy_application_id_thumb_220_220.png" alt="The image indicates where to find the Application (client) ID." tabindex="" /></a>
                                                        </p>
                                                        <li value="5">Add a client secret:
				<ol style="list-style-type: lower-alpha;"><li value="1">In the left pane, click <span class="uicontrol">Certificates &amp; secrets</span>.</li><li value="2">Under <span class="uicontrol">Client secrets</span>, click <span class="uicontrol">+ New client secret</span>.</li><li value="3">In the <span class="uicontrol">Add a client secret</span> section, enter the following:
							<ul><li><span class="uicontrol">Description</span>: Optional. Enter a description for the client secret.</li><li><span class="uicontrol">Expires</span>: Select an expiration time period.</li></ul></li><li value="4">Click <span class="uicontrol">Add</span>.</li><p>The secret appears under <span class="uicontrol">Client secrets</span>.</p><li value="5">In the <span class="uicontrol">Client secrets</span> section, copy and make a note of the <span class="uicontrol">Value</span>.</li><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-azure-copy_client_secret_value.png" data-mc-popup-alt="The image indicates where to find the client secret value."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1008" data-mc-height="576" src="images/devices-azure-copy_client_secret_value_thumb_220_220.png" alt="The image indicates where to find the client secret value." tabindex="" /></a></p></ol></li>
                                                        <li value="6">Set the Intune scep_challenge_provider permissions:
				<ol style="list-style-type: lower-alpha;"><li value="1">In the left pane, click <span class="uicontrol">API permissions</span>.</li><li value="2">Click  <span class="uicontrol">+ Add a permission</span>.</li><li value="3">In the <span class="uicontrol">Request API permissions</span> section, scroll down, and then click <span class="uicontrol">Intune</span>.</li><li value="4">Under <span class="uicontrol">What type of permissions does your application require?</span>, click <span class="uicontrol">Application permissions</span>.</li><li value="5">In the <span class="uicontrol">Select permissions</span> search field, enter <span class="uicontrol">scep</span>, and then select the <span class="uicontrol">scep_challenge_provider</span> checkbox.</li><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-azure-add_intune_permissions.png" data-mc-popup-alt="The image shows the Request API permissions settings."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1037" data-mc-height="652" src="images/devices-azure-add_intune_permissions_thumb_220_220.png" alt="The image shows the Request API permissions settings." tabindex="" /></a></p><li value="6">Click <span class="uicontrol">Add permissions</span>.</li><li value="7">In the <span class="uicontrol">Configured permissions</span> section, click <span class="uicontrol"><span class="uicontrol"><span style="font-family: 'Wingdings 2'">P</span></span> Grant admin consent for [Your_Tenant_Name]</span>.</li><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-azure-grant_admin_consent.png" data-mc-popup-alt="The image indicates the location of the Grant admin consent button."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1036" data-mc-height="613" src="images/devices-azure-grant_admin_consent_thumb_220_220.png" alt="The image indicates the location of the Grant admin consent button." tabindex="" /></a></p><li value="8">Click <span class="uicontrol">Yes</span> in the message that appears.</li></ol></li>
                                                        <li value="7">
                                                            <p>Set the Microsoft Graph Application.Read.All permissions:
				</p>
                                                        </li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">Click  <span class="uicontrol">+ Add a permission</span>.</li>
                                                            <li value="2">In the <span class="uicontrol">Request API permissions</span> section, click <span class="uicontrol">Microsoft Graph</span>.</li>
                                                            <li value="3">Under <span class="uicontrol">What type of permissions does your application require?</span> click <span class="uicontrol">Application permissions</span>.</li>
                                                            <li value="4">In the <span class="uicontrol">Select permissions</span> search field, enter <span class="uicontrol">application</span>, expand <span class="uicontrol">Application</span>, and then select the <span class="uicontrol">Application.Read.All</span> checkbox.</li>
                                                            <li value="5">Click <span class="uicontrol">Add permissions</span>.</li>
                                                            <li value="6">In the <span class="uicontrol">Configured permissions</span> section, click <span class="uicontrol"><span style="font-family: 'Wingdings 2'">P</span></span> <span class="uicontrol">Grant admin consent for [Your_Tenant_Name]</span>.</li>
                                                            <li value="7">Click <span class="uicontrol">Yes</span> in the message that appears.</li>
                                                        </ol>
                                                    </ol>
                                                    <h3><a name="Task4"></a>Task 4: Configure management attestation and generate a SCEP URL in <span class="mc-variable okta-variables.ProductName variable">Okta</span></h3>
                                                    <ol>
                                                        <li value="1">In the <span class="mc-variable okta-feature-names.Administrator_dashboard variable">Admin Console</span>, go to <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Device integrations</span>.</li>
                                                        <li value="2">Click the <span class="uicontrol">Endpoint management</span> tab.</li>
                                                        <li value="3">Click <span class="uicontrol">Add platform</span>.
				</li>
                                                        <li value="4">Select <span class="uicontrol">Desktop (Windows and macOS only)</span>.</li>
                                                        <li value="5">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="6">Configure the following:
				<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Certificate authority</span>: Select <span class="uicontrol">Use Okta as certificate authority</span>.</li><li value="2"><span class="uicontrol">SCEP URL challenge type</span>: Select <span class="uicontrol">Dynamic SCEP URL</span>, and then select <span class="uicontrol">Microsoft Intune (delegated SCEP)</span>.</li><li value="3">Enter the values that you copied from Microsoft Azure into the following fields:
						<ul><li><span class="uicontrol">AAD client ID</span>: Enter the value you copied from <a href="#Task3">Task 3</a>.</li><li><span class="uicontrol">AAD tenant</span>: Enter your AAD tenant name followed by <span class="uicontrol">.onMicrosoft.com</span>.</li><li><span class="uicontrol">AAD secret</span>: Enter the secret <span class="uicontrol">Value</span> you copied from <a href="#Task3">Task 3</a>.</li></ul></li><p>For example:</p><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../Resources/Images/admin-console_security-devman_addplatform.png" data-mc-popup-alt="The screenshot provides an example of the management attestation."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="718" data-mc-height="319" src="../../../Resources/Images/admin-console_security-devman_addplatform_thumb_220_220.png" alt="The screenshot provides an example of the management attestation." title="The screenshot provides an example of the management attestation." tabindex="" /></a></p></ol></li>
                                                        <li value="7">Click <span class="uicontrol">Generate</span>.</li>
                                                        <li value="8">Copy and save the Okta SCEP URL. You will paste the URL in Microsoft Endpoint Manager in <a href="#Task5">Task 5</a>.</li>
                                                    </ol>
                                                    <h3><a name="Task5"></a>Task 5: Create a SCEP profile in MEM</h3>
                                                    <ol>
                                                        <li value="1">In the Microsoft Endpoint Manager (MEM) admin center, go to <span class="uicontrol">Devices</span>.</li>
                                                        <li value="2">Click <span class="uicontrol">Configuration profiles</span>.</li>
                                                        <li value="3">Click <span class="uicontrol">+ Create profile</span>.</li>
                                                        <li value="4">In <span class="uicontrol">Create a profile</span>, enter the following:
				<ol style="list-style-type: lower-alpha;"><li value="1"><span class="uicontrol">Platform</span>: Select <span class="uicontrol">Windows 10 or later</span>.</li><li value="2"><span class="uicontrol">Profile type</span>: Select <span class="uicontrol">Templates.</span></li><li value="3">Under <span class="uicontrol">Template name</span>, click <span class="uicontrol">SCEP certificate</span>.</li><p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-mecm-create_a_scep_profile_win_1.png" data-mc-popup-alt="The image shows the Microsoft Endpoint Configuration Manager Create a profile screen."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1047" data-mc-height="1196" src="images/devices-mecm-create_a_scep_profile_win_1_thumb_220_220.png" alt="The image shows the Microsoft Endpoint Configuration Manager Create a profile screen." tabindex="" /></a></p><li value="4">Click <span class="uicontrol">Create</span>.</li></ol></li>
                                                        <li value="5">On the <span class="uicontrol">SCEP certificate</span> page <span class="uicontrol">Basics</span> tab, do the following:
				</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1"><span class="uicontrol">Name</span>: Enter a name for the certificate.</li>
                                                            <li value="2"><span class="uicontrol">Description</span>: Optional. Enter a description for the certificate.</li>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-mecm-add_scep_cert_win.png" data-mc-popup-alt="The image shows the Microsoft Endpoint Configuration Manager SCEP certificate screen."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="809" data-mc-height="462" src="images/devices-mecm-add_scep_cert_win_thumb_220_220.png" alt="The image shows the Microsoft Endpoint Configuration Manager SCEP certificate screen." tabindex="" /></a>
                                                            </p>
                                                            <li value="3">
                                                                <p>Click <span class="uicontrol">Next</span>.</p>
                                                            </li>
                                                        </ol>
                                                        <li value="6">On the <span class="uicontrol">SCEP certificate</span> page <span class="uicontrol">Configuration settings</span> tab, do the following:
				</li>
                                                        <ol style="list-style-type: lower-alpha;">
                                                            <li value="1">
                                                                <p><span class="uicontrol">Certificate type</span>: Select <span class="uicontrol">User</span>.</p>
                                                            </li>
                                                            <li value="2">
                                                                <p><span class="uicontrol">Subject name format</span>: Enter a subject name. For example, <span class="uicontrol">CN={{UserPrincipalName}} managementAttestation {{DeviceId}}.</span></p>
                                                            </li>
                                                            <p>
                                                                <div class="noteOkta">
                                                                    <p class="noteContent">Okta does not require the subject name to be in any particular format. Choose a name that indicates that the certificate is used as the  device management signal to Okta. As a best practice, you can also include profile variables provided by MEM to include the device ID (UDID) and user identifier. For a list of supported variables, see MEM document <a href="https://docs.jamf.com/10.21.0/jamf-pro/administrator-guide/Computer_Configuration_Profiles.html" target="_blank"><a href="https://docs.microsoft.com/en-us/mem/intune/protect/certificates-profile-scep" target="_blank" title="https://docs.microsoft.com/en-us/mem/intune/protect/certificates-profile-scep" alt="https://docs.microsoft.com/en-us/mem/intune/protect/certificates-profile-scep">Use SCEP certificate profiles with Microsoft Intune</a></a>.</p>
                                                                </div>
                                                            </p>
                                                            <li value="3">
                                                                <p><span class="uicontrol">Key storage provider (KSP)</span>: Select <span class="uicontrol">Enroll to Trusted Platform Module (TPM) KSP if present, otherwise Software KSP</span>.</p>
                                                            </li>
                                                            <li value="4">
                                                                <p><span class="uicontrol">Key usage</span>: Select <span class="uicontrol">Digital signature</span>.</p>
                                                            </li>
                                                            <li value="5">
                                                                <p><span class="uicontrol">Key length</span>: Select <span class="uicontrol">2048</span>.</p>
                                                            </li>
                                                            <li value="6">
                                                                <p><span class="uicontrol">Hash algorithm</span>: Select <span class="uicontrol">SHA-2</span>.</p>
                                                            </li>
                                                            <li value="7">
                                                                <p>Click <span class="uicontrol">+ Root Certificate</span>.</p>
                                                            </li>
                                                            <li value="8">
                                                                <p>On the <span class="uicontrol">Root Certificate</span> page, select the trusted certificate that you created earlier in <a href="#Task2">Task 2</a>.</p>
                                                            </li>
                                                            <li value="9">Click <span class="uicontrol">OK</span>.</li>
                                                            <li value="10">
                                                                <p>Under <span class="uicontrol">Extended key usage</span>, set <span class="uicontrol">Predefined values</span> to <span class="uicontrol">Client Authentication</span>.</p>
                                                            </li>
                                                            <li value="11">
                                                                <p><span class="uicontrol">SCEP Server URLs</span>: Enter the SCEP URL you generated in <a href="#Task4">Task 4</a>.</p>
                                                            </li>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="images/devices-mecm-create_a_scep_profile_win_2.png" data-mc-popup-alt="The image shows the Microsoft Endpoint Configuration Manager SCEP certificate screen."><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="1076" data-mc-height="1299" src="images/devices-mecm-create_a_scep_profile_win_2_thumb_220_220.png" alt="The image shows the Microsoft Endpoint Configuration Manager SCEP certificate screen." tabindex="" /></a>
                                                            </p>
                                                            <li value="12">
                                                                <p>Click <span class="uicontrol">Next</span>.</p>
                                                            </li>
                                                        </ol>
                                                        <li value="7">On the <span class="uicontrol">SCEP certificate</span> page <span class="uicontrol">Assignments</span> tab, do the following: 
			<ol style="list-style-type: lower-alpha;"><li value="1">Assign the SCEP certificate to the same user group(s) to which you assigned the <span class="uicontrol">Trusted certificate profile</span> in <a href="#Task2">Task 2</a>.</li><div class="noteOkta"><p class="noteContent">Make sure the user group(s) specified in both profiles are the same.</p></div><li value="2">Click <span class="uicontrol">Next</span>.</li></ol></li>
                                                        <li value="8">On the <span class="uicontrol">SCEP certificate</span> page <span class="uicontrol">Applicability Rules</span> tab, do the following: <ol style="list-style-type: lower-alpha;"><li value="1">Configure any required rules.</li><li value="2">Click <span class="uicontrol">Next</span>.</li></ol></li>
                                                        <li value="9">On the <span class="uicontrol">SCEP certificate</span> page <span class="uicontrol">Review + create</span> tab, review the configuration, and then click <span class="uicontrol">Create</span>.</li>
                                                    </ol>
                                                    <h3><a name="Task6"></a>Task 6: Verify the certificate installation on a Windows computer</h3>
                                                    <ol>
                                                        <li value="1">Verify the client certificate installation:
            	<ol style="list-style-type: lower-alpha;"><li value="1">On the Windows computer, click <span class="uicontrol">Start</span> and type <span class="uicontrol">cert</span> and then click <span class="uicontrol">Manage user certificates</span>.</li><li value="2">Look in <span class="uicontrol">Personal</span> &gt; <span class="uicontrol">Certificates</span>.</li></ol></li>
                                                        <li value="2">Verify the Certificate Authority:
            	<ol style="list-style-type: lower-alpha;"><li value="1">On the Windows computer, click <span class="uicontrol">Start</span> and type <span class="uicontrol">cert</span> and then click <span class="uicontrol">Manage user certificates</span>.</li><li value="2">Look in <span class="uicontrol">Intermediate Certificate Authority</span> &gt; <span class="uicontrol">Certificates</span>.</li><li value="3">In <span class="uicontrol">Issued To</span>, find and double-click <span class="uicontrol">Organization Intermediate Authority</span>.</li><li value="4">See Issuer: Organization Root Authority.</li></ol></li>
                                                        <p>If you don't find the certificate, check the logs as described in step 3.</p>
                                                        <li value="3"><a name="Verify"></a>Verify successful SCEP certificate installation and flow:
            	<ol style="list-style-type: lower-alpha;"><li value="1">On the Windows computer, click <span class="uicontrol">Start</span>, type <span class="uicontrol">Event</span>, and then click <span class="uicontrol">Event Viewer</span>.</li><li value="2">Look in <span class="uicontrol">Applications and Service Logs</span> &gt; <span class="uicontrol">Microsoft</span> &gt; <span class="uicontrol">Windows</span> &gt; <span class="uicontrol">DeviceManagement-Enterprise</span> &gt; <span class="uicontrol">Admin</span>.</li><li value="3">In the <span class="uicontrol">General</span> tab, find:
						<ul><li><span class="uicontrol">SCEP: Certificate installed successfully</span>.</li><li><span class="uicontrol">SCEP: Certificate request generated successfully</span></li></ul></li></ol></li>
                                                    </ol>
                                                    <h2>Next steps</h2>
                                                    <ul>
                                                        <li><a href="add-app-signon-policy-desktop.htm" class="MCXref xref">Add an authentication policy rule for desktop</a>
                                                        </li>
                                                    </ul>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- div class="toolbar-main">
            <MadCap:topicToolbarProxy data-mc-skin="/Project/Skins/okta-toolbar-no-expand.flskn" style="mc-topic-toolbar-items: ;" />
                </div -->
                                    <!-- *********************** Footer rows ********************************* -->
                                    <div class="footer2">
                                        <div>
                                            <p class="copyright" data-mc-conditions="MultiProdPubish.OIE">Okta Identity Engine is currently available to a selected audience.
	</p>
                                            <p class="copyright">©  <span class="mc-variable okta-variables.Year variable">2022</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span>. All Rights Reserved. Various trademarks held by their respective owners.
	</p>
                                        </div>
                                    </div>
                                    <!-- Qualtrics setup to use with script below, replacing getfeedback -->
                                    <div id="ZN_6fGBJ8J3VcIBymN">
                                        <!--DO NOT REMOVE-CONTENTS PLACED HERE-->
                                    </div>
                                    <!-- ********************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../../Resources/Scripts/js/ignore-dompurify.js">
                                    </script>
                                    <script src="../../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <script type="text/javascript" src="../../../Resources/Scripts/js/vendor/qualtrics.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
