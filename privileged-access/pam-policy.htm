<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>Security policy</h1>
        <p>A security policy controls which principals are granted privileged access to one or more resources. Security admins create a policy, assign principals to the policy, and add one or more rules. </p>
        <p>When creating a rule, security admins can establish specific conditions that users must meet to access a resource that's safeguarded by <MadCap:variable name="okta-feature-names.Okta Privileged Access" />. These rules can be customized for different resources by stacking or adding them until they cover all the privileged access needed for the set of principals. By doing this, admins can set different controls over different resources to ensure that only authorized users can access them.</p>
        <p>After a policy is created, it must be published. A policy doesn't have any effect until it's published.</p>
        <h2>Security policy configuration options</h2>
        <p>When creating a security policy the following access control features can be configured:</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
            <col class="TableStyle-standard-Column-Column1">
            </col>
            <col class="TableStyle-standard-Column-Column1">
            </col>
            <thead>
                <tr class="TableStyle-standard-Head-Header1">
                    <th class="TableStyle-standard-HeadF-Column1-Header1">Features</th>
                    <th class="TableStyle-standard-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">Principal</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">Users and groups that are associated with the policy and are granted access to the matched resources. See <MadCap:xref href="pam-overview.htm#Componen">Components</MadCap:xref> for more information. </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">Rules</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">
                        <p>A rule is used to define the scope of resources and how privileged access is granted to the resources. Each security policy contains a rule that defines the resources and privileges available to each principal.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">Session type</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">This is how users access resources. Session type can be <a href="tool-setup/pam-ssh.htm">SSH</a> or <a href="tool-setup/pam-rdp.htm">RDP</a>. </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">Resources</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">
                        <p>Privileged access to resources are based on the policy created by the security admin. Security admins can configure the scope of access to resources using the following methods.</p>
                        <ul>
                            <li>
                                <p><span class="wintitle">Resources by system-generated labels</span>
                                </p>
                                <p>When a server is added to <MadCap:variable name="okta-feature-names.Okta Privileged Access" />, several system-generated labels are automatically created based on characteristics such as hostname, server type, operating system, AWS, Azure, or Google Cloud Platform account ID. Security administrators select which labels to use and include the servers that match the label when creating a rule.</p>
                                <p>After the scope of the servers is defined using labels, security admins can configure how principals access resources. Principals can access resources by logging in to servers with either an on-demand individual account, a vaulted local account, or both.</p>
                            </li>
                        </ul>
                        <ul>
                            <li>
                                <p><span class="wintitle">Resources by name</span>
                                </p>
                                <p>Security admins can apply the policy to a specific resource; for example, <span class="filepath">apiserver-prod / pamadmin</span>.</p>
                            </li>
                        </ul>
                        <div class="noteOkta">
                            <p class="noteContent">Root SSH login is disabled by default on most Linux installations.</p>
                        </div>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">Session recording</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">See <MadCap:xref href="gateways/pam-session-capture.htm">Session recording</MadCap:xref>.</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">Approval request</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">See <MadCap:xref href="pam-access-request.htm">[%=okta-feature-names.Okta Privileged Access%] with Access Request.</MadCap:xref></td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyC-Column1-Body1">Multifactor authentication</td>
                    <td class="TableStyle-standard-BodyA-Column1-Body1">See <MadCap:xref href="pam-mfa.htm">Multifactor authentication</MadCap:xref>.</td>
                </tr>
            </tbody>
        </table>
        <h2>Prerequisites</h2>
        <ul>
            <li>Ensure that you're signed in to <MadCap:variable name="okta-feature-names.Okta Privileged Access"></MadCap:variable>.</li>
            <li>You must have the <MadCap:variable name="okta-feature-names.Okta Privileged Access"></MadCap:variable> security admin role.</li>
        </ul>
        <h2><a name="Create"></a>Create or update a security policy</h2>
        <p>To create a policy, you need to add a policy name, assign principals, and create rules that apply to the principals.</p>
        <ol>
            <li>
                <MadCap:snippetText src="snippets/task-security-administrator-policy.flsnp">
                </MadCap:snippetText>.</li>
            <li> Click <span class="uicontrol">Create Policy</span>.</li>
            <li>Enter a policy  name and description. </li>
            <li>Click <span class="menucascade"><span class="uicontrol">Select Principals</span><span class="uicontrol">Add or modify</span></span></li>
            <li>Select one or more groups that you want to add or modify, and then click <span class="uicontrol">Save</span>.</li>
            <li>Click <span class="uicontrol">Add rule </span>and do the following:
                <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0"><col class="TableStyle-standard-Column-Column1"></col><col class="TableStyle-standard-Column-Column1"></col><thead><tr class="TableStyle-standard-Head-Header1"><th class="TableStyle-standard-HeadF-Column1-Header1">Task</th><th class="TableStyle-standard-HeadD-Column1-Header1">Action</th></tr></thead><tbody><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">Rule name</td><td class="TableStyle-standard-BodyD-Column1-Body1">Enter a rule name</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">Choose a session type</td><td class="TableStyle-standard-BodyD-Column1-Body2">Use the dropdown menu and choose a session type.</td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">Select the resources that you want to protect with this rule</td><td class="TableStyle-standard-BodyD-Column1-Body1"><p>You can select resources by system general label or by name. Based on your selection, you need to perform other configuration.</p><p><span class="uicontrol">Select resources by system generated label</span></p><ol style="list-style-type: lower-alpha;"><li>Toggle the button.</li><li>In the <span class="uicontrol">Add resources</span> field, search for and select a resource label. You can select multiple resource labels.</li><li><p>Select either one or both options on <span class="wintitle">How you want principals to access the resources</span>.</p><ul><li><p><span class="uicontrol">Access resources by individual account</span></p></li><li><p><span class="uicontrol">Access resources by vaulted account</span></p></li></ul></li><li><p>Optional. Click <span class="uicontrol">Access resources by vaulted account</span>. Adding a local account, for example, <span class="userinput">#pamadmin</span>, means that the <span class="userinput">#pamadmin</span> account will be available on every server selected based on the labels.</p></li></ol><p><span class="uicontrol">Select resources by name</span></p><ol style="list-style-type: lower-alpha;"><li>Toggle the button.</li><li>Select one or more accounts individually.</li></ol></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">Optional. Enable session recording</td><td class="TableStyle-standard-BodyD-Column1-Body2"><p>Okta resource admins must enroll and install a gateway before enabling session recording.</p><ol style="list-style-type: lower-alpha;"><li>Select <span class="uicontrol">Enable traffic forwarding through gateways</span>.</li><li>Select <span class="uicontrol">Record session through gateways</span></li></ol></td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">Optional. Configure approval requests</td><td class="TableStyle-standard-BodyD-Column1-Body1">You must create a Request Type in <MadCap:variable name="okta-feature-names.Access Requests" /> first for the access request workflow to be visible in the  security policy. See <MadCap:xref href="pam-access-request.htm">[%=okta-feature-names.Okta Privileged Access%] with Access Request</MadCap:xref>.<ol style="list-style-type: lower-alpha;"><li>Select a workflow from the dropdown menu.</li><li>Choose how long you want the approval to last.</li><li>Optional. Select the setting to rotate the password after the approval duration ends.</li></ol><div class="noteOkta"><p class="noteContent">For <MadCap:variable name="okta-variables.ProductName" /> to take control of managing local account passwords on Windows servers, users must disable any password age restrictions that might prevent them <MadCap:variable name="okta-variables.ProductName" /> from changing or rotating the password.</p></div></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyC-Column1-Body2">Optional. Enable MFA</td><td class="TableStyle-standard-BodyA-Column1-Body2"><p>Enable <a href="pam-mfa.htm">MFA</a> to add a granular level of  authentication and control within a policy.</p><ol style="list-style-type: lower-alpha;"><li><p>Toggle <span class="uicontrol">Enable MFA</span>.</p></li><li><p>For <MadCap:variable name="okta-feature-names.Okta Identity Engine" />, select one of the following options:</p><ul><li><p><span class="uicontrol">Any two-factor types</span></p></li><li><p><span class="uicontrol">Phishing resistant</span></p></li></ul></li><li><p>For Okta <MadCap:variable name="okta-feature-names.Classic Engine" />, select <span class="uicontrol">Any two factor types</span>.</p></li><li><p>Select one of the following re-authentication frequencies:</p><ul><li><p><span class="uicontrol">Every SSH or RDP connection attempt</span></p><p>A security admin can choose to enforce MFA for each attempt to access the resource.</p></li><li><p><span class="uicontrol">After the specified duration</span></p><p>By default, the specified duration is set to 30 minutes. Security admins can specify a time duration ranging from 5 minutes to 12 hours.</p></li></ul></li></ol><p>After the policy is implemented, when a user tries to connect with a resource, they'll need to complete the necessary MFA steps.</p></td></tr></tbody></table></li>
            <li>Click <span class="uicontrol">Save policy</span>.You can now publish this policy.</li>
        </ol>
        <h2><a name="Publish"></a>Publish a policy</h2>
        <p>After a policy is created it must be published.</p>
        <div class="noteOkta">
            <p class="noteContent">When a published policy is changed, the changes are applied immediately without  the need to publish the policy again.</p>
        </div>
        <ol>
            <li>
                <MadCap:snippetText src="snippets/task-resource-administration-system-confguration.flsnp">
                </MadCap:snippetText>.</li>
            <li>Click <span class="uicontrol">Publish Policy</span>.</li>
            <li>Click the <span class="uicontrol">Actions</span> menu. </li>
            <li>Click <span class="uicontrol">Publish Policy</span> to grant access to the policy.</li>
        </ol>
        <h2>Clone a policy</h2>
        <p>Security admins can clone an existing policy instead of creating an entirely new policy from scratch.</p>
        <ol>
            <li>
                <MadCap:snippetText src="snippets/task-resource-administration-system-confguration.flsnp">
                </MadCap:snippetText>
            </li>
            <li>Click the <span class="uicontrol">Actions</span> menu. </li>
            <li>Select <span class="uicontrol">Clone</span>.</li>
            <li>Click <span class="uicontrol">Save Policy</span>.</li>
        </ol>
        <h2>Related topics</h2>
        <ul>
            <li>
                <MadCap:xref href="pam-access-request.htm">[%=okta-feature-names.Okta Privileged Access%] with Access Request</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="pam-mfa.htm">Multifactor authentication</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="pam-overview.htm">[%=okta-feature-names.Okta Privileged Access%]</MadCap:xref>
            </li>
        </ul>
    </body>
</html>