<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Arshabhi Rai">
    <head>
        <link rel="canonical" href="https://help.okta.com/asa/en-us/Content/Topics/Adv_Server_Access/docs/gateway-capacity-planning.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Learn about capacity planning for Advanced Server Access gateways, including processing, memory, and storage." />
    </head>
    <body>
        <h1><MadCap:variable name="okta-feature-names.Okta Privileged Access" /> gateway capacity planning</h1>
        <p>The processing and storage requirements for your gateways depends on your expected workload. You can use the guidelines in the following sections to plan the resources to allocate to your gateways </p>
        <h2>Topics</h2>
        <ul>
            <li>
                <MadCap:xref href="#Processi">Processing&#160;and memory</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Storage">Storage</MadCap:xref>
            </li>
        </ul>
        <h2><a name="Processi"></a>Processing&#160;and memory</h2>
        <p>The type of server or instance that you use to host an <MadCap:variable name="okta-feature-names.Okta Privileged Access" /> gateway depends on which provider you use. </p>
        <p>A&#160;set of benchmark tests were created and run on a single gateway with 120 concurrent SSH&#160;sessions. These tests found that  an <MadCap:variable name="3rd Party Integrations.Amazon Web Services" /> (AWS)&#160;t2.medium instance (2 vCPU, 4 GB&#160;RAM, EBS volume)&#160;had the sufficient resources necessary to handle this workload. The server had an approximate average CPU utilization of roughly 40%, with spikes of up to 50%, which scaled up and down with the number of sessions. Memory utilization never exceeded seven percent of available memory.</p>
        <p MadCap:conditions="Primary.review-only">The <a href="../../Adv_Server_Access/docs/rdp-transcoder.htm">RDP transcdoer</a> requires a minimum of 2GM RAM to transcode .asa format RDP&#160;sessions log files to .mkv video format.</p>
        <h2><a name="Storage"></a>Storage</h2>
        <p>You must carefully consider both the type and amount of storage you'll need  when deploying SSH session capture with <MadCap:variable name="okta-feature-names.Okta Privileged Access" /> gateways.</p>
        <p>The best type of storage to use is Solid State Drives (SSDs), whether a dedicated SSD that's attached to the gateway or an SSD-based storage solution like Amazon Elastic Block Stores.</p>
        <p>How much storage you require depends on the workloads of your users. For example, a 30 minute interactive session that consists of performing a directory listing every 5 seconds is captured and stored in a binary file about 150 kilobytes in size. </p>
        <div class="noteOkta">
            <p class="noteContent">If users copy files with the <span class="code">scp</span> command during their session, the copied files are also included with the Session Capture recording. See <MadCap:xref href="../../Adv_Server_Access/docs/session-capture.htm">Session capture</MadCap:xref>.</p>
        </div>
        <p>If session recording is enabled and a gateway has insufficient storage available to store session logs, the gateway will prevent connections for security reasons. To avoid this situation, it's recommended that you monitor the storage utilization of your gateways to ensure that they have sufficient available storage for logs.</p>
        <p>One method you can use to ensure sufficient storage capacity for session logs is to use an available cloud storage destination. To use this method, ensure that the temporary directory where in progress sessions are temporarily stored, which is usually /tmp on most systems, has sufficient space to store logs for your expected in-flight sessions.</p>
        <h2><a name="Related"></a>Related topics</h2>
        <ul>
            <li>
                <MadCap:xref href="../tool-setup/pam-install-gateway.htm">Install the [%=okta-feature-names.ScaleFT%] gateway</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="pam-session-capture.htm">Session capture</MadCap:xref>
            </li>
        </ul>
    </body>
</html>