<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Mark Cowan"
      MadCap:conditions="Primary.review-only">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
   </head>
   <body>
      <h1>Add an inline hook </h1>
      <p>After creating your external service, you need to connect the external service with <MadCap:variable name="okta-variables.ProductName"/>  and enable it for a particular process flow by adding an inline hook.</p>
      <ol>
         <li>In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">Workflow</span>
               <span class="uicontrol">Inline Hooks</span>
            </span>.</li>
         <li>Click <span class="uicontrol">Add Inline Hook</span>, and then select the type of inline hook:<ul>
               <li>
                  <p>
                     <span class="uicontrol">
                        <MadCap:annotation MadCap:createDate="2023-01-26T13:07:03.4889810-05:00"
                                           MadCap:creator="Tim Howie"
                                           MadCap:initials="TI"
                                           MadCap:comment="See OKTA_525076"
                                           MadCap:editor="Tim Howie"
                                           MadCap:editDate="2023-01-26T13:07:07.7093970-05:00">Registration</MadCap:annotation>
                     </span>: customizes the handling of user registration requests in <MadCap:annotation MadCap:createDate="2022-07-03T15:39:46.7513708-04:00"
                                        MadCap:creator="Ian Hakes"
                                        MadCap:initials="IDMH"
                                        MadCap:comment="SSR is OIE-only beginning in 2022.08.0"
                                        MadCap:editor="Ian Hakes"
                                        MadCap:editDate="2022-07-03T15:39:50.8615229-04:00">Self-Service Registration</MadCap:annotation>. <MadCap:snippetText src="../../Resources/Snippets/deprecation-banner-classic.flsnp"
                                         MadCap:conditions="MultiProdPublish.Classic"/>
                  </p>
               </li>
               <li>
                  <span class="uicontrol">SAML</span>: Customizes SAML assertions returned by Okta.</li>
               <li>
                  <span class="uicontrol">Token</span>: Customizes tokens returned by Okta API Access Management.</li>
               <li>
                  <span class="uicontrol">Password Import</span>: Verifies a user-supplied password to support migration of users to Okta.</li>
               <li>
                  <span class="uicontrol">User Import</span>: Customizes handling of new users who are imported into Okta from an application.</li>
               <li MadCap:conditions="Primary.review-only">
                  <span class="uicontrol">Custom Source</span>: Assigns user authentication and profile management to an external service.</li>
               <li>
                  <span class="uicontrol">Telephony</span>: Use a telephony service provider to send SMS text messages or voice calls. See <MadCap:xref href="../telephony/telephony-inline-hook.htm">Customize your telephony service provider</MadCap:xref>.</li>
            </ul>
         </li>
         <li>Define the following attributes:
			<ul>
               <li>
                  <span class="uicontrol">Name</span>: A descriptive name for the inline hook.</li>
               <li>
                  <span class="uicontrol">URL</span>: The external service's endpoint URL, to which the inline hook  sends the request.</li>
            </ul>
         </li>
         <li>Optional. Select the type of Authentication:
			<ol style="list-style-type: lower-alpha;">
               <li>HTTP Headers<ol style="list-style-type: lower-roman;">
                     <li>
                        <span class="uicontrol">Authentication field</span>: Optional  name of the authorization header. </li>
                     <li>
                        <span class="uicontrol">Authentication secret</span>: Optional value string that corresponds to the field name. </li>
                  </ol>
               </li>
               <li>OAuth 2.0</li>
            </ol>
         </li>
         <ol style="list-style-type: lower-alpha;">
            <ol style="list-style-type: lower-roman;">
               <li>
                  <span class="uicontrol">Client Authentication</span>: For enhanced security and to secure  the communication channel between Okta and your external service, select the authentication method for the token endpoint:<ul>
                     <li>
                        <p><span class="uicontrol">Send as Basic Auth Header (client_secret_basic)</span>: Use client ID and secret in Basic Authentication scheme.</p>
                     </li>
                     <li>
                        <p><span class="uicontrol">Send in Request Body (client_secret_post)</span>: Use client ID and secret as parameters in the request body.</p>
                     </li>
                     <li MadCap:conditions="Primary.do-not-publish">
                        <p MadCap:conditions="Primary.do-not-publish"><span class="uicontrol">Send using public/private keys (prviate_key_jwt)</span>: Use Private and Public keys to digitally sign the token request.</p>
                     </li>
                  </ul>
               </li>
               <li>
                  <span class="uicontrol">Client ID</span>: A publicly exposed string provided by the service that is used to identify the OAuth application and build authorization URLs.</li>
               <li>
                  <span class="uicontrol">Client Secret</span>: A private value provided by the service used to authenticate the identity of the application to the service. </li>
               <li>
                  <span class="uicontrol">Token URL</span>: The URI where inline hooks can exchange an authorization code for access and refresh tokens. For example, <span class="codeph">/authorize</span>.</li>
               <li>Optional. <span class="uicontrol">Scope</span>: Include the scopes that allow you to perform the actions on the hook endpoint that you want to access.</li>
            </ol>
         </ol>
         <li>Optional. <span class="uicontrol">Custom header fields</span>: Add a filed name and value  to send with the request. </li>
         <li>Click <span class="uicontrol">Save</span>. The inline hook is now active. </li>
         <li>Associate the endpoint with an <MadCap:variable name="okta-variables.ProductName"/> process flow. How to do this varies by <a href="https://developer.okta.com/use_cases/inline_hooks/#multiple-types-of-okta-inline-hooks"
               target="_blank">inline hook type</a>.</li>
      </ol>
      <h2> Related topics</h2>
      <p>
         <MadCap:xref href="preview-inline-hooks.htm">Preview an inline hook </MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="metrics-inline-hooks.htm">View usage metrics for your inline hooks </MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="delete-inline-hooks.htm">Delete an inline hook </MadCap:xref>
      </p>
   </body>
</html>
