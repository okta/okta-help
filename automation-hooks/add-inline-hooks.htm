<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Mark Cowan"
      MadCap:conditions="MultiProdPublish.Classic+OIE">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
   </head>
   <body>
      <h1>Add an inline hook </h1>
      <p>After creating your external service, you need to connect the external service with <MadCap:variable name="okta-variables.ProductName"/>  and enable it for a particular process flow by adding an inline hook.</p>
      <ol>
         <li>In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">Workflow</span>
               <span class="uicontrol">Inline Hooks</span>
            </span>.</li>
         <li>Click <span class="uicontrol">Add Inline Hook</span>, and then select the type of inline hook:<ul>
               <li>
                  <p>
                     <span class="uicontrol">
                        <MadCap:annotation MadCap:createDate="2023-01-26T13:05:47.0803306-05:00"
                                           MadCap:creator="Tim Howie"
                                           MadCap:initials="TI"
                                           MadCap:comment="See OKTA-525076"
                                           MadCap:editor="Tim Howie"
                                           MadCap:editDate="2023-01-26T13:06:25.1424011-05:00">Registration</MadCap:annotation>
                     </span>: customizes the handling of user registration requests in <MadCap:annotation MadCap:createDate="2022-07-03T15:39:46.7513708-04:00"
                                        MadCap:creator="Ian Hakes"
                                        MadCap:initials="IDMH"
                                        MadCap:comment="SSR is OIE-only beginning in 2022.08.0"
                                        MadCap:editor="Ian Hakes"
                                        MadCap:editDate="2022-07-03T15:39:50.8615229-04:00">Self-Service Registration</MadCap:annotation>
                  </p>
                  <ul>
                     <li>
                        <MadCap:snippetText src="../../Resources/Snippets/deprecation-banner-classic.flsnp"
                                            MadCap:conditions="MultiProdPublish.Classic"/>
                     </li>
                  </ul>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">SAML</span>: customizes SAML assertions returned by Okta.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">Token</span>: customizes tokens returned by Okta API Access Management.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">Password Import</span>: verifies a user-supplied password to support migration of users to Okta.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">User Import</span>: customizes handling of new users who are imported into Okta from an application.</p>
               </li>
               <li MadCap:conditions="Primary.review-only">
                  <p>
                     <span class="uicontrol">Custom Source</span>: assigns user authentication and profile management to an external service.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">Telephony</span>: use a telephony service provider to send SMS text messages or voice calls. See <MadCap:xref href="../telephony/telephony-inline-hook.htm">Customize your telephony service provider</MadCap:xref>.</p>
               </li>
            </ul>
         </li>
         <li>Define the following attributes:
			<ul>
               <li>
                  <p>
                     <span class="uicontrol">Name</span>: a descriptive name for the inline hook.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">URL</span>: the external service's endpoint URL, to which the inline hook  sends the request.</p>
               </li>
            </ul>
         </li>
         <li>
            <p>Select the authentication type, and define the associated fields:</p>
            <ul>
               <li>
                  <p>HTTP Headers</p>
                  <ul>
                     <li>
                        <p>
                           <span class="uicontrol">Authentication field</span>: name of the authorization header.</p>
                     </li>
                     <li>
                        <p>
                           <span class="uicontrol">Authentication secret</span>: value string that corresponds to the Authentication field name.</p>
                     </li>
                  </ul>
               </li>
               <li>
                  <p>OAuth 2.0 - Use client secret</p>
                  <ul>
                     <li>
                        <p>
                           <span class="uicontrol">Client Authentication</span>. Select: <span class="uicontrol">Use client secret</span> (<span class="code">client_secret_post</span>). Uses the client ID and secret as parameters in the request body for authentication.</p>
                     </li>
                     <li>
                        <p>
                           <span class="uicontrol">Client ID</span>: a publicly exposed string provided by the service that is used to identify the OAuth application and build authorization URLs.</p>
                     </li>
                     <li>
                        <p>
                           <span class="uicontrol">Client Secret</span>: a private value provided by the service used to authenticate the identity of the application to the service. </p>
                     </li>
                     <MadCap:snippetBlock src="../../Resources/Snippets/inline-hooks-add-bullets.flsnp"/>
                  </ul>
               </li>
               <li>
                  <p>OAuth 2.0 - Use private key</p>
                  <ul>
                     <li>
                        <p>
                           <span class="uicontrol">Client Authentication</span>. Select: <span class="uicontrol">Use private key</span> (<span class="code">private_key_jwt</span>). Uses the private key to sign the JSON Web Token (JWT) and the public key to verify the client assertion for authentication.</p>
                     </li>
                     <li>
                        <p>
                           <span class="uicontrol">Client ID</span>: a publicly exposed string provided by the service that is used to identify the OAuth application and build authorization URLs.</p>
                     </li>
                     <li>
                        <p>
                           <span class="uicontrol">Key</span>: the public/private key pair used to verify token requests. See <MadCap:xref href="manage-keys.htm">Manage keys</MadCap:xref>. </p>
                     </li>
                     <MadCap:snippetBlock src="../../Resources/Snippets/inline-hooks-add-bullets.flsnp">
                            </MadCap:snippetBlock>
                  </ul>
               </li>
            </ul>
         </li>
         <li>
            <p>Optional. <span class="uicontrol">Custom Header</span> fields: add a field name and value to send with the request.</p>
         </li>
         <li>Click <span class="uicontrol">Save</span>. The inline hook is now active. </li>
         <li>Associate the endpoint with an <MadCap:variable name="okta-variables.ProductName"/> process flow. This process varies by <a href="https://developer.okta.com/use_cases/inline_hooks/#multiple-types-of-okta-inline-hooks"
               target="_blank">Inline Hook type</a>.</li>
      </ol>
      <h2> Related topics</h2>
      <p>
         <MadCap:xref href="preview-inline-hooks.htm">Preview an Inline Hook </MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="metrics-inline-hooks.htm">View usage metrics for your Inline Hooks </MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="delete-inline-hooks.htm">Delete an inline hook </MadCap:xref>
      </p>
   </body>
</html>
