<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Mark Cowan" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head><title>[%=Heading.Level1%] | Okta</title>
    </head>
    <body>
        <h1> Preview an inline hook </h1>
        <p>Preview a new inline hook before you enable it to see how it will interact with your custom code. You can  configure the inline hook request and then troubleshoot how your code responds.</p>
        <p>Currently, SAML, registration, telephony, and token inline hooks are available for preview. </p>
        <p>
            <MadCap:xref href="#General">General procedure</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="#telephony">Preview a telephony inline hook</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="#Preview">Preview a token inline hook</MadCap:xref>
        </p>
        <h2><a name="General"></a>General procedure</h2>
        <ol>
            <li>
                <MadCap:snippetText src="../../Resources/Snippets/task steps/Workflow_InlineHooks.flsnp" />
            </li>
            <li>Locate the inline hook that you want to preview, and then click its <span class="uicontrol">Actions</span> menu. By default, active inline hooks are listed first, but you can sort the  table by  type or name.</li>
            <li>Select <span class="uicontrol">Preview</span>. </li>
            <li>Complete these  tasks on the <span class="wintitle">Preview</span> tab:<ul><li>In the <span class="uicontrol">Configure</span> section, select a user from the user profile dropdown menu.</li></ul><ul><li>In the <span class="uicontrol">Preview example Inline Hook request</span>  section, click <span class="uicontrol">Generate Request</span>. Verify that the example <a href="https://developer.okta.com/use_cases/inline_hooks/registration_hook/registration_hook/#sample-json-payload-of-request">JSON&#160;payload of the request</a> is populated with the user profile objects you configured.</li><li>Optional. Click <span class="uicontrol">Edit</span> to customize the JSON payload of the request. </li></ul><ul><li>In the <span class="uicontrol">View Service Response</span> section, click <span class="uicontrol">View Response</span>. </li></ul></li>
        </ol>
        <p>Generated hook preview data can contain placeholder values and may differ from the preview request. </p>
        <h2><a name="telephony"></a>Preview a telephony inline hook</h2>
        <p>After you configure the telephony hook for your service provider, you can test its operation using the <span class="uicontrol">Preview</span> action.
</p>
        <p>To test your connection to the telephony service provider:</p>
        <ol>
            <li>
                <p>
                    <MadCap:snippetText src="../../Resources/Snippets/task steps/Workflow_InlineHooks.flsnp" />
                </p>
            </li>
            <li>
                <p>Identify the telephony inline hook that is currently <span class="uicontrol">Active</span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Actions</span>, and then select <span class="uicontrol">Preview</span>.</p>
            </li>
            <li>
                <p>Select a user profile for a user with a phone as a valid authenticator.</p>
            </li>
            <li>
                <p>Select the event that results in an SMS text message or voice call you want to test.</p>
                <p>For example, select one of the following event actions:</p>
                <ul>
                    <li>
                        <p>MFA enrollment</p>
                    </li>
                    <li>
                        <p>MFA verification</p>
                    </li>
                    <li>
                        <p>Account unlock</p>
                    </li>
                    <li>
                        <p>Password reset</p>
                    </li>
                </ul>
            </li>
            <li>
                <p>Click <span class="uicontrol">Generate Request</span> to generate the HTTP request to send to your telephony provider.</p>
            </li>
            <li>Optional. Click <span class="uicontrol">Edit</span> to make changes to the generated request.<p>For example, you might want to edit the profile to send a text message to a phone number that you use for testing purposes.</p></li>
            <li>
                <p>Click <span class="uicontrol">View</span> <span class="uicontrol">Response</span> to view the response from your service provider.</p>
            </li>
        </ol>
        <h2><a name="Preview"></a>Preview a token inline hook</h2>
        <p>After you configure the token inline hook, you can test its operation using the Preview action.</p>
        <ol>
            <li>
                <p>
                    <MadCap:snippetText src="../../Resources/Snippets/task steps/Workflow_InlineHooks.flsnp" />
                </p>
            </li>
            <li>
                <p>Identify the token inline hook name that is currently <span class="state">Active</span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Actions</span>, and then select <span class="uicontrol">Preview</span>.</p>
            </li>
            <li>
                <p>From the <span class="wintitle">Configure Inline Hook request</span> block, complete the following fields:</p>
                <ul>
                    <li>
                        <p><span class="uicontrol">Select a user</span>: A user in your org associated with your application.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Select an application</span>: Your OIDC sample application name.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Select an authorization server</span>: Your authorization server name.</p>
                    </li>
                    <li>
                        <p><span class="uicontrol">Select a grant type</span>: Your application's grant type.</p>
                        <div class="noteOkta">
                            <p class="noteContent">For the implicit grant type, select a response type: <span class="boolean">token</span>, <span class="boolean">id_token</span>, or both.</p>
                        </div>
                    </li>
                    <li>
                        <p><span class="uicontrol">Select scopes</span>: The granted scopes.</p>
                    </li>
                </ul>
            </li>
        </ol>
        <ol MadCap:continue="true">
            <li>
                <p>Click <span class="uicontrol">Generate Request</span> to generate the HTTP request to send to your external service.</p>
            </li>
            <li>
                <p>Optional. Click <span class="uicontrol">Edit</span> to make changes to the generated request.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">View Response</span> to view the response body sent from your external service.</p>
            </li>
        </ol>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="add-inline-hooks.htm">Add an inline hook </MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="metrics-inline-hooks.htm">View usage metrics for your inline hooks </MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="delete-inline-hooks.htm">Delete an inline hook </MadCap:xref>
        </p>
    </body>
</html>