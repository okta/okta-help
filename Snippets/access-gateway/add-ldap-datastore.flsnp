<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="../../TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <div>
            <h3>Steps</h3>
            <ul>
                <li>
                    <MadCap:xref href="#Adding_Data_Stores">Add a data store</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#Adding_an_LDAP_Database">Configure an LDAP data store</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#Test_using_Simulations">Test a data store</MadCap:xref>
                </li>
            </ul>
            <MadCap:snippetBlock src="add-datastore.flsnp" />
            <div>
                <h2><a name="Adding_an_LDAP_Database"></a>Configure an LDAP data store<br /></h2>
                <ol>
                    <li>When you create a data store for an LDAP database, provide the following information in the <span class="wintitle">Create New DataStore</span> wizard: <br /><table style="mc-table-style: url('../../TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0"><col class="TableStyle-standard-Column-Column1" style="width: 13pt;" /><col class="TableStyle-standard-Column-Column1" /><thead><tr class="TableStyle-standard-Head-Header1"><th class="TableStyle-standard-HeadF-Column1-Header1">Field</th><th class="TableStyle-standard-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol">Name</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">Name used to identify the data store (for example, <span class="userinput">My SQL&#160;Datastore</span>).</td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2" style="font-weight: normal;"><span class="uicontrol">LDAP&#160;Connection String</span></td><td class="TableStyle-standard-BodyD-Column1-Body2">URL&#160;to LDAP&#160;server and port (for example, <span class="url">ldap://myldap.example.com:10362</span>).</td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1" style="font-weight: normal;"><span class="uicontrol">Bind User</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">Username used to perform reads and writes. For example:<p><span class="userinput">CN=Administrator,CN=Users,DC=example,DC=com</span></p></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2" style="font-weight: normal;"><span class="uicontrol">Bind User Password</span></td><td class="TableStyle-standard-BodyD-Column1-Body2">Bind user password.</td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1" style="font-weight: normal;"><span class="uicontrol">Search DN</span></td><td class="TableStyle-standard-BodyD-Column1-Body1">The base DN from which to perform the search. For example:<p><span class="userinput">CN=Users,DC=CN=Users,DC=example,DC=com=com</span></p></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyC-Column1-Body2" style="font-weight: normal;"><span class="uicontrol">Matching Filter</span></td><td class="TableStyle-standard-BodyA-Column1-Body2">The filter used to match records returned from the <span class="uicontrol">Search DN</span>. For example:<p><span class="userinput">(mail=${email@idp})</span><br /></p></td></tr></tbody></table><div class="note_cautionOkta"><p class="noteContent">Fields used in the <span class="uicontrol">Matching Filter</span> clause&#160;must&#160;be defined as attributes for the application. If the field isn't listed as an application attribute, a runtime error occurs. Attributes used exclusively in Where clauses should be marked as don't send. See <MadCap:xref href="../../../Topics/Access-Gateway/managing-application-attributes.htm">Manage application attributes</MadCap:xref>. </p></div></li>
                    <li>
                    
                    Click <span class="uicontrol">Not Validated</span>. <MadCap:variable name="okta-feature-names.Access Gateway Full" /> attempts to validate the connection. If successful, the label changes to <span class="uicontrol">Valid</span>.</li>
                </ol>
                <h3>Manage available fields</h3>
                <p>After validation, <MadCap:variable name="okta-feature-names.Access Gateway Full" /> add all fields from a data store to the <span class="uicontrol">Available Fields</span> list.</p>
                <p>To remove a field from the data store:</p>
                <ol>
                    <li>Place the cursor directly before the field to be removed.</li>
                    <li>Delete the field.</li>
                </ol>
                <p>To add a field to the data store:</p>
                <ol>
                    <li>Place the cursor anywhere in the list of fields.</li>
                    <li>From the list of unused fields, click the name of a field to add it to the list of available fields.</li>
                </ol>
                <h3>Activate the data store</h3>
                <p>Turn on the <span class="uicontrol">Active</span> toggle to activate the data store.</p>
            </div>
            <div>
                <h2><a name="Test_using_Simulations"></a>Test a data store</h2>
            </div>
            <ol>
                <li>Click <span class="uicontrol">Simulate</span> (<img src="../../Images/access-gateway/datastore-simulate.png" alt="Data store simulate button." />) in the row of the data store. </li>
                <li>For each field in the <span class="uicontrol">Matching Filter</span>, enter a value. </li>
                <li>Click <span class="uicontrol">Test</span> to run the simulation. Click <span class="uicontrol">Close</span> to end.</li>
                <li>Check that the test returns the expected data from the data store for the given values.<br /><br /></li>
            </ol>
        </div>
    </body>
</html>