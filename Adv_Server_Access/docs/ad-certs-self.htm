<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:fileTags="Tags/okta-authors.Arshabhi Rai">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Explains how to create a self-signed certificate and import it to an AD domain."/>
   </head>
   <body>
      <div MadCap:conditions="MultiProdPublish.PYPContent">
         <h1>Create a self-signed certificate</h1>
         <p>
            <MadCap:variable name="okta-feature-names.ScaleFT"/> can generate self-signed certificates that contain information needed connect to an <MadCap:variable name="3rd Party Integrations.AD"/> domain. Teams must publish these certificates and add them to an <MadCap:variable name="3rd Party Integrations.AD"/> auth store. Some of the following steps may differ depending on the specific <MadCap:variable name="3rd Party Integrations.AD"/> environment.</p>
         <p>Self-signed certificates are viewed as insecure. <MadCap:variable name="okta-variables.ProductName"/> doesn't recommend using self-signed certificates outside of testing environments.</p>
         <ol>
            <li>Create a self-signed certificate in <MadCap:variable name="okta-feature-names.ScaleFT"/>.<ol style="list-style-type: lower-alpha;">
                  <li>Open the <MadCap:variable name="okta-feature-names.ScaleFT"/> dashboard.</li>
                  <li>From the user menu, click <span class="uicontrol">Team Settings</span>.</li>
                  <li>Go to the <span class="uicontrol">Passwordless Certificates</span> tab. </li>
                  <li>Click <span class="menucascade">
                        <span class="uicontrol">Create</span>
                        <span class="uicontrol">Self-Signed Certificate</span>
                     </span>.</li>
                  <li>In the <span class="wintitle">Create Self-Signed Certificate</span> window, configure the certificate settings.</li>
                  <li>Click <span class="uicontrol">Create Certificate</span>.<p>The certificate is downloaded to your local device. You must move this file to an <MadCap:variable name="3rd Party Integrations.AD"/> domain controller.</p>
                  </li>
               </ol>
            </li>
            <li>Import the certificate into the <MadCap:variable name="3rd Party Integrations.AD"/> auth store. <ol style="list-style-type: lower-alpha;">
                  <li>In a command prompt, go to the directory where you stored the self-signed certificate.</li>
                  <li>Publish the certificate with the following command: <p>
                        <span class="codeblock">certutil -dspublish -f YOUR_SELF_SIGNED_CERT NTAuthCA</span>
                     </p>
                  </li>
                  <li>Add the certificate into the registry with the following command:<p>
                        <span class="codeblock">certutil -enterprise -addstore NTAuth YOUR_SELF_SIGNED_CERT</span>
                     </p>
                  </li>
               </ol>
            </li>
            <li MadCap:conditions="Primary.review-only">
               <p>Optional. This step is for troubleshooting purposes only.</p>
               <ul>
                  <li>
                     <p>View the NTAuth store.</p>
                     <p>
                        <span class="codeblock">certutil -enterprise -viewstore NTAuth</span>
                     </p>
                  </li>
                  <li>
                     <p>Remove a certificate from the NTAuth store.</p>
                     <p>
                        <span class="codeblock">certutil -enterprise -viewdelstore NTAuth</span>
                     </p>
                  </li>
               </ul>
            </li>
         </ol>
         <p>After the certificate is imported into <MadCap:variable name="3rd Party Integrations.AD"/>, teams must still distribute the certificate to domain controllers and member servers using a group policy.</p>
         <h3>Next Steps</h3>
         <ul>
            <li>
               <MadCap:xref href="ad-certs-policy.htm">Configure group policies for Active Directory servers</MadCap:xref>
            </li>
            <li>
               <MadCap:xref href="ad-certs-add.htm">Add a certificate to an Active Directory connection</MadCap:xref>
            </li>
         </ul>
      </div>
   </body>
</html>
