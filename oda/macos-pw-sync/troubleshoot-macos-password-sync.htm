<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Kimli Welsh">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Troubleshoot Desktop Password Sync for macOS</h1>
        <p>When users register their macOS device and link the local computer account with an Okta account, the device password and the Okta password sync and the device password is replaced with the Okta password. The synced password can access anything that previously required the local account password. If a user changes their Okta password, they need to lock the computer and then unlock it with the updated password for the service to sync the device and the <MadCap:variable name="okta-feature-names.Identity Provider" /> password.</p>
        <h2>Incorrect password </h2>
        <p>If you have an MDM password policy (for example, a minimum password length) and the user's Okta password doesn't satisfy the requirements, the password sync fails. The user sees Apple's visual indicator that the password is incorrect, even if the credentials are entered correctly.  To work around this issue, try one of the following methods:</p>
        <ul>
            <li>
                <p>Change the MDM password policy to match the Okta password requirements.</p>
            </li>
            <li>
                <p>Change the Okta password requirements to match the MDM password policy. See <MadCap:xref href="../../identity-engine/authenticators/configure-password.htm">Configure the Password authenticator</MadCap:xref>.</p>
            </li>
            <li>
                <p>Ask users to sign in to the End-User Dashboard and update their Okta password to meet the MDM policy requirements.</p>
            </li>
            <li>
                <p>Ask users not to reuse old passwords.</p>
            </li>
        </ul>
        <h2>Registration reset</h2>
        <div class="noteOkta">
            <p class="noteContent">Deleting a device or user won't reset the registration. Follow these steps to reset a registration.</p>
        </div>
        <p>If users don’t receive the registration required notification, you can reset the registration for the device to remove and then reassign the payload to the device.</p>
        <ol>
            <li>
                <p>In your MDM, look for the <MadCap:variable name="okta-feature-names.Desktop Password Sync" /> configuration profile you created.</p>
            </li>
            <li>
                <p>Open the profile and click <span class="wintitle">Edit</span>.</p>
            </li>
            <li>
                <p>On the <span class="uicontrol">Scope</span> tab, remove the target for the device you want to reset.</p>
            </li>
            <li>
                <p>Save the changes.</p>
            </li>
            <li>
                <p>Redistribute the profile to all devices.</p>
            </li>
            <li>
                <p>On the macOS device, confirm that the profile has been removed from <span class="menucascade"><span class="uicontrol">Privacy &amp; Security</span> <span class="uicontrol">Profiles</span></span>.</p>
            </li>
            <li>
                <p>Ensure all SSO extension profiles, including credential extensions, have been removed.</p>
            </li>
            <li>
                <p>Restart the device.</p>
            </li>
            <li>
                <p>In your MDM, reassign the profile to the device.</p>
            </li>
            <li>
                <p>On the macOS device, confirm that the profile was pushed to the device successfully.</p>
            </li>
            <li>
                <p>Wait for the registration request notification, and then register the device.</p>
            </li>
        </ol>
        <h2>Known issues</h2>
        <ul>
            <li>
                <p>Customers deploying <MadCap:variable name="okta-feature-names.Desktop Password Sync" /> on non-English macOS computers should deploy <MadCap:variable name="okta-feature-names.Okta Verify" /> version 9.1.0 or newer. Previous versions of <MadCap:variable name="okta-feature-names.Okta Verify" /> may fail to complete enrollment on macOS computers using languages other than English. </p>
            </li>
            <li>
                <p>In <MadCap:variable name="okta-feature-names.Okta Verify" /> version 9.0, the <MadCap:variable name="okta-feature-names.Desktop Password Sync" /> registration fails if your org has a custom domain. The issue has been resolved in <MadCap:variable name="okta-feature-names.Okta Verify" /> version 9.1. If you encounter registration errors, ensure you're using <MadCap:variable name="okta-feature-names.Okta Verify" /> version 9.1. </p>
            </li>
            <li>
                <p>If you have <MadCap:variable name="okta-feature-names.Okta Verify" /> and <MadCap:variable name="okta-feature-names.Desktop Password Sync" /> running and try to delete the app, an error appears saying the app can't be deleted due to extensions running. To work around this issue, upgrade macOS to version 13.5, or try the following steps:</p>
                <ol>
                    <li>
                        <p>Quit the <MadCap:variable name="okta-feature-names.Okta Verify" /> app.</p>
                    </li>
                    <li>
                        <p>Quit <MadCap:variable name="okta-feature-names.Okta Verify" />'s SSO extension (<span class="code">SSOe</span>):</p>
                        <ol style="list-style-type: lower-alpha;">
                            <li>
                                <p>In terminal, enter the command <span class="code">ps -ax | grep AppSSOAgent</span>.</p>
                            </li>
                            <li>
                                <p>If there's only one entry in the list of results, then your Okta Verify's SSOe isn't running</p>
                            </li>
                            <li>
                                <p>If there's more than one entry, copy the <span class="code">pid</span> of the first one.</p>
                            </li>
                            <li>
                                <p>In a terminal, enter the command <span class="code">kill &lt;pid&gt;</span>. </p>
                            </li>
                            <li>
                                <p>Run the <span class="code">ps -ax | grep AppSSOAgent</span> command again and ensure you only see one entry.</p>
                            </li>
                        </ol>
                    </li>
                    <li>
                        <p>Delete the <MadCap:variable name="okta-feature-names.Okta Verify" /> app. </p>
                    </li>
                </ol>
            </li>
        </ul>
        <h2>Report issues or bugs in <MadCap:variable name="okta-feature-names.Okta Verify" /></h2>
        <ol>
            <li>
                <p>If possible, attempt to reproduce the problem.</p>
            </li>
            <li>
                <p>Click the <MadCap:variable name="okta-feature-names.Okta Verify" /> app icon in the Menu bar.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Report Issue</span>.</p>
            </li>
            <li>
                <p>Enter a title and a description of the problem. <MadCap:variable name="okta-feature-names.Okta Verify" /> System Logs are automatically attached. </p>
            </li>
        </ol>
        <p> </p>
    </body>
</html>