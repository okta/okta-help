<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Ian Hakes">
    <head>
        <link rel="canonical" href="https://help.okta.com/wf/en-us/Content/Topics/Workflows/connector-reference/evidentidverify/actions/customapiaction.htm" />
        <link href="../../../../../Resources/TableStyles/standard-horizonal-borders-only.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <meta name="coveo:connector" content="evidentidverify" />
        <meta name="coveo:method-description" content="Make a custom API call to the EvidentID Verify or Submit APIs." />
        <meta name="coveo:method-name" content="customapiaction" />
        <meta name="coveo:method-type" content="action" />
    </head>
    <body>
        <div data-content-id="hoc-main-content">
            <h1>Custom API Action</h1>
            <p>Make a custom API call to the <MadCap:variable name="workflows_connectors.Evident ID" /> Verify or Submit APIs.</p>
            <div class="noteOkta">
                <p class="noteContent">Only production APIs are supported. Sandbox APIs, also referred to as demo APIs, are not supported.</p>
            </div>
            <h2>Options</h2>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../../Resources/TableStyles/standard-horizonal-borders-only.css');" class="TableStyle-standard-horizonal-borders-only" cellspacing="14">
                <col style="width: 20%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <col style="width: 55%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <col style="width: 15%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <col style="width: 10%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <thead>
                    <tr class="TableStyle-standard-horizonal-borders-only-Head-Header1">
                        <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Field</th>
                        <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Definition</th>
                        <th class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Type</th>
                        <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadD-Column1-Header1">Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">API</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">
Use the appropriate API: <span class="code">Verify </span>or <span class="code">Submit</span></td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Dropdown</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">TRUE</td>
                    </tr>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">Request Type</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">
                        This is one of the supported HTTP request methods, or HTTP verbs, in a custom API call (see <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods" target="_blank">HTTP request methods</a>).                        <ul><li><span class="code">GET</span>: Retrieves data from a web server based on parameters. This method requests a representation of the specified resource. If a request is successful, a <span class="code">200 (OK)</span> response message is returned with the requested content.</li><li><span class="code">POST</span>:&#160;Sends data to a web server based on parameters (for example, uploading a file). Multiple POST requests may result in a different outcome than a single POST. Caution should be exercised to avoid sending multiple POST requests unintentionally. If a request is successful, a <span class="code">200 (OK)</span> response message is returned.
</li><li><span class="code">PUT</span>:&#160;Sends data to be stored at a specific location on a web server based on parameters (for example, uploading a file). Unlike POST requests, PUT requests are idempotent. For successful requests, the result of a single PUT request is the same as many identical PUT requests. If a request is successful, a <span class="code">200 (OK)</span>, <span class="code">201 (Created)</span>, or <span class="code">204 (No Content)</span> response message is returned.
</li><li><span class="code">PATCH</span>:&#160;Applies partial modifications to a resource on a web server based on parameters. PATCH is not idempotent. Multiple PATCH requests could have unintended consequences. If a PATCH is successful, a <span class="code">200 (OK)</span> or <span class="code">204 (No Content)</span> response message is returned.</li><li><span class="code">DELETE</span>:&#160;Deletes the specified resource (if it exists) from the web server based on parameters. If a DELETE is successful, a <span class="code">200 (OK)</span> response message is returned. </li></ul></td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">Dropdown</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyA-Column1-Body1">TRUE</td>
                    </tr>
                </tbody>
            </table>
            <h2>Input</h2>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../../../Resources/TableStyles/standard-horizonal-borders-only.css');" class="TableStyle-standard-horizonal-borders-only" cellspacing="14">
                <col style="width: 20%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <col style="width: 55%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <col style="width: 15%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <col style="width: 10%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
                <thead>
                    <tr class="TableStyle-standard-horizonal-borders-only-Head-Header1">
                        <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Field</th>
                        <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Definition</th>
                        <th class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Type</th>
                        <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadD-Column1-Header1">Required</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1" colspan="4"><span class="wintitle">User</span>
                        </td>
                    </tr>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Relative URL</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">
URL address on the web server to which you are attempting to interact. Specify the relative URL as <span class="code">/{insert_remaining_URL}</span>. You can specify query parameters in the relative URL using "?", or specify the query parameters as an object key pair in the Query input.

                            <p>For example, for <MadCap:variable name="workflows_connectors.Evident ID" /> API endpoints:</p><p><span class="code">VerifyProduction</span>:</p><p><span class="code">https://verify.api.evidentid.com/api/v1/verify/requestTemplates</span> the relative URL is: <span class="code">/verify/requestTemplates</span>.</p><p> <span class="code">SubmitProduction</span>:<br /><span class="code">https://submit.api.evidentid.com/api/v1/requests </span> the relative URL is: <span class="code">/requests</span>.</p><p>See <a href="https://www.evidentid.com/api-documentation-developers/"><MadCap:variable name="workflows_connectors.Evident ID" />&#160;API documentation</a>.</p></td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">String</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">TRUE</td>
                    </tr>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Query</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Specify any additional query parameters that should be included in object format (key value pairs)</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Object</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">FALSE</td>
                    </tr>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Headers</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Specify any headers required in addition to authorization or content-type (these are already handled by this connector)</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1">Object</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">FALSE</td>
                    </tr>
                    <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                        <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">Body</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">Specify a request body in JSON format. Only available for <span class="code">POST</span>, <span class="code">PUT</span>, and <span class="code">PATCH</span> requests.</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">Object</td>
                        <td class="TableStyle-standard-horizonal-borders-only-BodyA-Column1-Body1">FALSE</td>
                    </tr>
                </tbody>
            </table>
            <h2>Output</h2>
            <MadCap:snippetBlock src="../../../resources/snippets/capia-responsetable.flsnp" />
            <h2>Call Verify API to Create a New Request</h2>
            <ol>
                <li>
                    <p>In the API drop-down, select <span class="code">Verify</span>.</p>
                </li>
                <li>
                    <p>In the Request Type drop-down, select <span class="code">POST</span>, then click <span class="uicontrol">Save</span>.</p>
                </li>
                <li>
                    <p>Select all of the request inputs, then click <span class="uicontrol">Save</span>.</p>
                </li>
                <li>
                    <p>Enter <span class="code">/verify/requests</span> in the <span class="uicontrol">Relative URL</span> field.</p>
                </li>
                <li>
                    <p>Enter the request in the Body field. For example, the following input requests data for a driver's license:</p>
                </li>
            </ol>
            <MadCap:codeSnippet>
                <MadCap:codeSnippetCopyButton />
                <MadCap:codeSnippetBody MadCap:useLineNumbers="True" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">{
&#160;&#160;&#160;&#160;"description": "Upload license",
&#160;&#160;&#160;&#160;"email": "output@example.com",
&#160;&#160;&#160;&#160;"attributesRequested": 
	[
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{"attributeType": "core.firstname"},
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{"attributeType": "core.lastname"},
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{"attributeType": "core.address.fulladdress"},
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{"attributeType": "identity_assurance.document_verification.americas.us.verification_status"}
&#160;&#160;&#160;&#160;]
}</MadCap:codeSnippetBody>
            </MadCap:codeSnippet>
            <p>The API returns a Body that contains an id. Use that id in the next request.</p>
            <h2>Get the userIdentityToken</h2>
            <ol>
                <li>
                    <p>In the API drop-down, select <span class="code">Verify</span>.</p>
                </li>
                <li>
                    <p>In the Request Type drop-down, select <span class="code">GET</span>, then click <span class="uicontrol">Save</span>.</p>
                </li>
                <li>
                    <p>In the <span class="uicontrol">Relative URL</span> field, enter a value similar to <code>/verify/requests/{id}/authToken</code>.</p>
                </li>
            </ol>
            <p>This step will allow you to obtain the user's bearer token and the id of the request. The bearer token will allow you to call the Submit API to submit data.</p>
            <h2>Call Submit API to Submit Data</h2>
            <ol>
                <li>
                    <p>In the API drop-down, select <span class="code">Submit</span>.</p>
                </li>
                <li>
                    <p>In the <span class="uicontrol">Request Type</span> drop-down, select <span class="code">POST</span>, then click <span class="uicontrol">Save</span>.</p>
                </li>
                <li>
                    <p>In the <span class="uicontrol">Body</span> field, add an input. The following is a sample:</p>
                </li>
            </ol>
            <MadCap:codeSnippet>
                <MadCap:codeSnippetCopyButton />
                <MadCap:codeSnippetBody MadCap:useLineNumbers="True" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">{
&#160;&#160;&#160;&#160;"Request:": 
	{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"Relative URL": "/requests",
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"metadata": "getHttpInputs",
		"config": "",
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"Headers": 
		{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"Accept": "application/json",
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"Content-Type": "application/json",
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"Authorization": "Bearer &lt;bearer token obfuscated&gt;"
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;},
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"Body": 
		{
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"inputs": 
			[
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"type": "core.firstname",
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"value": "Workflows"
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;},
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"type": "core.lastname",
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"value": "Test"
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;},
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;{
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"type": "certifications.servsafe.servsafe_food_handler.certnumber",
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;"value": "1234567"
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;}
	&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;]
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;		}
&#160;&#160;&#160;&#160;		}
}</MadCap:codeSnippetBody>
            </MadCap:codeSnippet>
            <p>Note the values for the <span class="uicontrol">Relative URL</span> and <span class="uicontrol">Headers</span> fields.</p>
            <p>The Submit API allows you to submit data using the user's bearer token from the previous step.</p>
            <MadCap:snippetBlock src="../ev-see-also.flsnp" />
        </div>
    </body>
</html>