<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Ian Hakes">
    <head>
        <link rel="canonical" href="https://help.okta.com/wf/en-us/Content/Topics/Workflows/use-case-time-context-entitlement.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <div data-content-id="hoc-main-content">
            <h1>Change time- and context-based identity entitlement
		</h1>
            <p>Change entitlements or take actions based on specific time or user contexts.</p>
            <h2>Summary</h2>
            <p>Problem: Limit user access to specific time periods, provide temporary access, delay entitlements by a specific amount of time, define a maximum lifespan for yet-to-be-activated new users, and ensuring retention of access for terminated users.</p>
            <p>Solution: Either on a lifecycle event hook or a polling schedule, read Okta user information to determine whether specific actions based on time or another user context need to take place.</p>
            <div class="noteOkta">
                <p class="noteContent">Okta's Automations feature also enables scheduled actions.</p>
            </div>
            <p>Applications: Okta, Salesforce, and Office 365 Admin. For the full list of Workflows connectors, see <MadCap:xref href="connector-reference/connector-reference.htm">Connectors</MadCap:xref>. </p>
            <h2>Tutorial</h2>
            <p>For a detailed tutorial to implement this flow, see <MadCap:xref href="Tutorials/timebasedactions-walkthrough/timebasedactions-walkthrough.htm">Tutorial: Time-based actions</MadCap:xref>.</p>
            <h2>Sample Flow 1</h2>
            <p style="font-weight: normal;" MadCap:conditions="Primary.do-not-publish">Suspend user &gt;</p>
            <p style="text-indent: 0.5in;font-weight: normal;" MadCap:conditions="Primary.do-not-publish">Add user to table with username and suspension date</p>
            <p>
                <img src="../../Resources/Images/Workflows/use-case-time-based-entitlement1.png" />
            </p>
            <h2>Sample Flow 2</h2>
            <p style="font-weight: normal;" MadCap:conditions="Primary.do-not-publish">Schedule a flow &gt;</p>
            <p style="text-indent: 0.5in;font-weight: normal;" MadCap:conditions="Primary.do-not-publish">Read all users in Okta &gt;</p>
            <p style="text-indent: 1in;font-weight: normal;" MadCap:conditions="Primary.do-not-publish">for each user &gt;</p>
            <p style="text-indent: 1.5in;font-weight: normal;" MadCap:conditions="Primary.do-not-publish">If suspension date is more than 90 days &gt;</p>
            <p style="text-indent: 2in;font-weight: normal;" MadCap:conditions="Primary.do-not-publish">Deactivate user in Okta &gt;</p>
            <p>
                <img src="../../Resources/Images/Workflows/use-case-time-based-entitlement2.png" />
            </p>
            <h2>Guidelines and limitations</h2>
            <ul>
                <li>Workflows is not intended for full imports or synchronization from upstream systems, and you should not design a Flow with the intention of filtering a large set of users in memory. This Workflows use case is not a replacement for native directory or other HR integrations.</li>
                <li>Workflows has a working memory limit of 100MB. Workflows that exceed that limitation will fail and produce an error message. You will typically hit this limit when reading a large batch of unfiltered data from Okta or another source and process it in the same Flow.</li>
                <li>To avoid reaching the memory limit:<ul><li>Use a filter parameter or search parameter.</li><li>Batch records that you've read, and remove users from the query after they've been processed.</li><li>Batch the records that you've read, and manage the API cursor manually.</li></ul></li>
                <li>
                    <p>Workflows system-wide limits also apply. See <MadCap:xref href="workflows-limits-learn-about.htm">Learn about Workflows Limits</MadCap:xref>.</p>
                </li>
            </ul>
        </div>
    </body>
</html>