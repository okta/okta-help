<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="../../../Resources/TableStyles/standard-horizonal-borders-only.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>Use OAuth 2.0 Authorization Code</h1>
        <h2>Before you begin</h2>
        <p>To use the OAuth 2.0 authentication, you must first create an OAuth app with the remote service where you're going to connect. </p>
        <h2>Procedure</h2>
        <p>To add OAuth 2.0 authentication using the Authorization Code grant type:</p>
        <ol>
            <li>
                <p> Click the <span class="wintitle">Overview</span> tab.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Set up authentication</span>.</p>
            </li>
            <li>
                <p>In the <span class="wintitle">Authentication</span> dialog, select <span class="userinput">OAuth 2.0</span> from the <span class="uicontrol">Auth Type</span> dropdown list.</p>
            </li>
            <li>
                <p>For the <span class="uicontrol">Grant Type</span> dropdown, select <span class="userinput">Authorization Code</span>.</p>
            </li>
            <li>
                <p>Add values to the following fields:</p>
            </li>
        </ol>
        <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/standard-horizonal-borders-only.css');" class="TableStyle-standard-horizonal-borders-only" cellspacing="14">
            <col style="width: 20%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
            <col style="width: 80%;" class="TableStyle-standard-horizonal-borders-only-Column-Column1" />
            <thead>
                <tr class="TableStyle-standard-horizonal-borders-only-Head-Header1">
                    <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadE-Column1-Header1">Field</th>
                    <th style="text-align: left;" class="TableStyle-standard-horizonal-borders-only-HeadD-Column1-Header1">Definition</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1" colspan="2"><span class="wintitle">Paths</span>
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Authorization URL</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        The authorization URL for the service.
                        <p>This field should be a fully qualified URL. For example, <span class="url">https://account.box.com/api/oauth2/authorize</span>.</p></td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Token URL</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        The location where the flow exchanges an authorization code for access and refresh tokens.
                        <p>This field should be a fully qualified URL. For example, <span class="url">https://api.box.com/oauth2/token</span>.</p></td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Refresh  URL (Optional)</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        The refresh token path is often the same as the access token path.
                        <p>However, if your service uses a separate endpoint for refreshing the access token, then it can be entered here.</p></td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1" colspan="2"><span class="wintitle">Credentials</span>
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Redirect URI</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
When registering a new app, you usually register basic information such as the application name or web site. In addition, you must register a redirect URL to be used for redirecting authentication back to <MadCap:variable name="okta-feature-names.Okta Workflows" />.
                        <p>Copy the provided <span class="uicontrol">Redirect URI</span> for your connector  into your new OAuth app to register your connector with the service.  </p><p>Use the following redirect URLs to connect to <MadCap:variable name="okta-variables.ProductName" /> preview and production sites, respectively:
                        </p><ul><li><p><span class="url">https://oauth.workflows.oktapreview.com/oauth/{{auth.connector_key}}/cb</span></p></li><li><p><![CDATA[  ]]><span class="url">https://oauth.workflows.okta.com/oauth/{{auth.connector_key}}/cb</span></p></li></ul><p>Your connector <span class="uicontrol">Key</span> can be found on the <span class="wintitle">Settings</span> pane of the connector.</p><p>Registration is required for both preview and production environments.</p></td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Client Ownership</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        This setting determines the type of user who manages the OAuth application. Options are <span class="userinput">Developer</span> and <span class="userinput">Customer</span>.
                        <ul><li><p><span class="userinput">Developer</span>: The connector builder who creates the application and manages its settings. The connector builder also supplies the values for the <span class="uicontrol">Client ID</span> and <span class="uicontrol">Client Secret</span> fields.</p></li><li><p><span class="userinput">Customer</span>:&#160;The end user of the application manages the client and provides the values for the <span class="uicontrol">Client ID</span> and <span class="uicontrol">Client Secret</span> fields. If you choose this option, the <span class="uicontrol">Client ID</span> and <span class="uicontrol">Client Secret</span> fields are automatically added to the <span class="wintitle">New Connection</span> dialog.</p></li></ul></td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Client ID</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">A publicly exposed string provided by the service that is used to identify the OAuth application and build authorization URLs.</td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Client Secret</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">A private value provided by the service. This value is used to authenticate the application identity to the service.  </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1" colspan="2"><span class="wintitle">Scopes (Optional)</span>
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Scopes</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        <MadCap:snippetBlock src="resources/CB-authN-scopes.flsnp" />
                        <p>Check your API documentation to verify whether a special scope is needed to retrieve a refresh token (such as <span class="code">refresh_token</span> or <span class="code">offline_access</span>).  </p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="uicontrol">Scopes Delimiter</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        <MadCap:snippetBlock src="resources/CB-authN-scopesdelimiter.flsnp" />
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="wintitle">Parameters (Optional)</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        <MadCap:snippetBlock src="resources/CB-authN-parameters.flsnp" />
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyE-Column1-Body1"><span class="wintitle">Config Values (Optional)</span>
                    </td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyD-Column1-Body1">
                        <MadCap:snippetBlock src="resources/CB-authN-configvalues.flsnp" />
                    </td>
                </tr>
                <tr class="TableStyle-standard-horizonal-borders-only-Body-Body1" MadCap:conditions="Primary.do-not-publish">
                    <td class="TableStyle-standard-horizonal-borders-only-BodyB-Column1-Body1">Styles (Optional)</td>
                    <td class="TableStyle-standard-horizonal-borders-only-BodyA-Column1-Body1">If you need to modify the button for the <span class="uicontrol">Create</span> action of the connector. </td>
                </tr>
            </tbody>
        </table>
        <h2>Next steps</h2>
        <p>
            <MadCap:xref href="options-dialog.htm">Add option fields to connector cards</MadCap:xref>
        </p>
    </body>
</html>