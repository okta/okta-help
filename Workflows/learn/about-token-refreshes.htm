<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Ian Hakes" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Primary.review-only">
    <head>
        <link rel="canonical" href="https://help.okta.com/wf/en-us/Content/Topics/Workflows/learn/about-token-refreshes.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="coveo:title" content="About connections and OAuth tokens" />
        <meta name="coveo:method-description" content="For connectors that support OAuth, Workflows obtains and stores different kinds of tokens. The types and expected behavior of such tokens are dependent on the third-party API for the connector and the service provider’s particular implementation of OAuth." />
    </head>
    <body>
        <div data-content-id="hoc-main-content">
            <h1>Connections and OAuth tokens</h1>
            <p>For connectors that support OAuth, Workflows obtains and stores different kinds of tokens. The types and expected behavior of such tokens are dependent on the third-party API for the connector and the service provider’s particular implementation of OAuth.</p>
            <p>In Workflows, OAuth refreshes take place if at least one flow using an OAuth connection is running. Refreshes can also take place under one of these two conditions:</p>
            <ul>
                <li>
                    <p>If a user tests the same connection on the Connections page</p>
                </li>
                <li>
                    <p>If a user adds a card that uses the same connection to a flow</p>
                </li>
            </ul>
            <p>If there are no flows using an OAuth connection, or there aren't any active flows using an OAuth connection, then OAuth refresh will not take place. Token refreshes do not take place proactively. As a result, when the OAuth access token expires, the connection will fail. To avoid this situation and initiate OAuth refresh, at least one flow that uses the OAuth connection must be running.</p>
            <h2>The Connections page and OAuth refreshes</h2>
            <p>On the Connections page, the Test Connection tool can be used to call the third-party API&#160;endpoint to check the status of any connection:</p>
            <ul>
                <li>
                    <p>If the third-party API returns any error status code, then the connection will be listed as having an error.</p>
                </li>
                <li>
                    <p>If the third-party API returns a successful status code, then a <code>Connection is healthy message</code> will be displayed for that connection.</p>
                </li>
            </ul>
            <p>If the Test Connection tool detects that the connection has failed due to an expired access token, the connection will show a failure and the tool will not invoke an OAuth token refresh.  </p>
            <p>To return the connection to a healthy status, a user must reauthorize it.</p>
            <h2>Related topics</h2>
            <p>
                <MadCap:xref href="about-applications-connections.htm">About applications and connections</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../build/view-connections-page.htm">View the Connections page</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../build/configure-connection.htm">Configure a connection</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../workflows-build-a-flow.htm">Build and test a Flow</MadCap:xref>
            </p>
        </div>
    </body>
</html>