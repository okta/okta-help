<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Kimli Welsh">
    <head><title>[%=Heading.Level1%]</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Prepare Terraform for upgrade</h1>
        <p>If you use Terraform to manage one or more&#160;Okta tenants, there may be an impact to the current Terraform provider after the upgrade to <MadCap:variable name="okta-feature-names.Identity Engine" />. Prepare Terraform for the upgrade by completing the following steps:</p>
        <ol>
            <li>
                <p>Migrate to the latest version of the <a href="https://registry.terraform.io/providers/okta/okta" target="_blank">Terraform provider</a>. </p>
            </li>
            <li>
                <p>Update HCL (HashiCorp configuration language) scripts to accommodate the changes to Terraform configuration syntax.</p>
            </li>
            <li>
                <p>When the HCL scripts are updated, the associated <span class="code">.tfstate file</span> must also be updated to remain in sync. Use Terraform commands to make changes to the <span class="code">.tfstate</span> file.</p>
            </li>
            <li>
                <p>Test your changes on a temporary Okta tenant.</p>
            </li>
        </ol>
        <h2>Post upgrade </h2>
        <p>To ensure Terraform is working as expected after your upgrade to <MadCap:variable name="okta-feature-names.Identity Engine" />, complete the following steps:</p>
        <ol>
            <li>
                <p>Execute a Terraform plan command with <span class="code">-refresh=false</span> to see if the script and tfstate files are in sync. The command result must read <span class="msgblock">Resources:&#160;0 added, 0 changed, 0 destroyed</span>.</p>
            </li>
            <li>
                <p>If any changes are detected in the refresh, update the script or <span class="code">.tfstate</span> file to align with the current configuration.</p>
            </li>
        </ol>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="../identity-engine/oie-upgrade-eligibility.htm">Upgrade from [%=okta-feature-names.Okta Classic Engine%]</MadCap:xref>
        </p>
    </body>
</html>