<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Nikita Apraj" MadCap:conditions="Primary.do-not-publish">
    <head>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" />
    </head>
    <body>
        <h1>Email as an optional authenticator</h1>
        <p>Email as an optional factor or authenticator may present different user experiences in <MadCap:variable name="okta-feature-names.Classic Engine" /> and <MadCap:variable name="okta-feature-names.Identity Engine" /> orgs. <MadCap:annotation MadCap:createDate="2022-10-27T12:40:09.3537300-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="we don't want to talk about before upgrading in this Feature changes section. This section presumes you've already upgraded. " MadCap:editor="Graham Smith" MadCap:editDate="2022-10-27T12:40:41.5740848-05:00">Before upgrading</MadCap:annotation> your <MadCap:variable name="okta-feature-names.Classic Engine" /> org to <MadCap:variable name="okta-feature-names.Identity Engine" />, you need to either change this configuration, or acknowledge and accept the change in user experience.

<MadCap:annotation MadCap:createDate="2022-10-27T12:44:06.2791586-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="delete" MadCap:editor="Graham Smith" MadCap:editDate="2022-10-27T12:44:07.7581504-05:00">Before examining</MadCap:annotation> the possible change to user experience for this setting, use the following table to confirm whether optional email is the best configuration for your use case:</p>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
            <col class="TableStyle-standard-Column-Column1" />
            <col class="TableStyle-standard-Column-Column1" />
            <col class="TableStyle-standard-Column-Column1" />
            <thead>
                <tr class="TableStyle-standard-Head-Header1">
                    <th class="TableStyle-standard-HeadF-Column1-Header1">
                        <MadCap:annotation MadCap:createDate="2022-10-27T12:42:34.7707366-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="Let's break down this table and use it for the Admin changes row in our table. We can frame this as two config options: Disabled (for workforce, and why) and Required (for customer identity and extended partners, and why)\r\n\r\n" MadCap:editor="Graham Smith" MadCap:editDate="2022-11-04T10:55:03.5088954-05:00">Use case</MadCap:annotation>
                    </th>
                    <th class="TableStyle-standard-HeadF-Column1-Header1">
                        <p>Ideal setting for email as an authenticator</p>
                    </th>
                    <th class="TableStyle-standard-HeadD-Column1-Header1">Details</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">Workforce</td>
                    <td class="TableStyle-standard-BodyF-Column1-Body1">
                        <p><span class="uicontrol">Disabled</span>
                        </p>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1"> If primary email accounts of your users are protected by Okta, then disabling email as an authentication factor is the recommended option, since the authentication emails are sent only to the primary email and not secondary email.
</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">Extended workforce or Partners</td>
                    <td class="TableStyle-standard-BodyF-Column1-Body2">
                        <p><span class="uicontrol">Required</span>
                        </p>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">For many extended workforce use cases, requiring email as an authentication factor is the recommended option, since validating the primary email is a common use case for these identities.</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyC-Column1-Body1">Customer identity and access management (CIAM)</td>
                    <td class="TableStyle-standard-BodyC-Column1-Body1">
                        <p><span class="uicontrol">Required</span>
                        </p>
                    </td>
                    <td class="TableStyle-standard-BodyA-Column1-Body1">For many customer identity use cases, requiring email as an authentication factor is the recommended option, since validating the primary email is a common requirement for these identities.</td>
                </tr>
            </tbody>
        </table>
        <h2>
            <MadCap:annotation MadCap:createDate="2022-10-27T12:41:48.6255058-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="let's use this section as the content for the User experience row in our table." MadCap:editor="Graham Smith" MadCap:editDate="2022-10-27T12:42:13.7583734-05:00">User experience</MadCap:annotation> in <MadCap:variable name="okta-feature-names.Identity Engine" /></h2>
        <p>When email enrollment is optional, user experience in <MadCap:variable name="okta-feature-names.Identity Engine" /> differs from that in <MadCap:variable name="okta-feature-names.Classic Engine" /> in two important ways:</p>
        <ol>
            <li>
                <p><MadCap:annotation MadCap:createDate="2022-11-04T10:55:23.3674372-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="no bold" MadCap:editor="Graham Smith" MadCap:editDate="2022-11-04T10:55:25.7790700-05:00">Even when </MadCap:annotation>email enrollment is set to optional in <MadCap:variable name="okta-feature-names.Identity Engine" style="font-weight: bold;" />, the email authenticator is auto-enrolled. 
                </p>
                <p>Even if the user chooses to enroll in other optional authenticators, the email authenticator is also enrolled and appears as an authenticator option where the policy allows for email as an authenticator.</p>
            </li>
            <li>
                <p>U<MadCap:annotation MadCap:createDate="2022-11-04T10:55:30.5032329-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="no bold" MadCap:editor="Graham Smith" MadCap:editDate="2022-11-04T10:55:32.1954794-05:00">ser may </MadCap:annotation>not be prompted to enroll in other optional authenticators on the first sign-in </p>
                <p>Because email is auto-enrolled in <MadCap:variable name="okta-feature-names.Identity Engine" />, the user may not be prompted to enroll in other optional authenticators when they first sign in.  The user experience depends on the user activation and password selection flow:</p>
                <p>
                    <img src="../../Resources/Images/email-optional.png" class="thumbnail" />
                </p>
            </li>
        </ol>
        <h2>Change in user experience</h2>
        <h3><MadCap:variable name="okta-feature-names.Identity Engine" />
        </h3>
        <p>
            <MadCap:annotation MadCap:createDate="2022-10-27T12:35:19.0528378-05:00" MadCap:creator="Graham Smith" MadCap:initials="GS" MadCap:comment="This is a redundant paragraph and it's not really clear how this section is different from the above section (User experience). Even the headings are too similar. \r\n\r\nLet's make this the content for Change summary row. We can cut this and the bullets down to a simple statement or two:\r\n\r\nClassic Engine: Email is auto-enrolled for recovery flows but is available in authentication policies only if the enrollment policy requires it. \r\n\r\nIdentity Engine: \r\nThe email authenticator is now enrolled automatically for both authentication and recovery flows when a user verifies their primary email address or if you provide it during user creation. \r\nThis ensures that the user doesn't receive redundant email enrollment challenges if they already proved they own the email address (like in self-service registration) or if they don't need to prove they own the email address (admin provisioned).\r\n" MadCap:editor="Graham Smith" MadCap:editDate="2022-11-04T10:58:31.6722972-05:00">Email is an auto-enrolling authenticator, based on the user's primary email address.  If the user has verified their primary email, or it’s provided during user creation by an admin, then the email is available for use in authentication and recovery flows, if permitted by policy.   In other words, the email authenticator is enrolled automatically.</MadCap:annotation>
        </p>
        <p>This ensures that the user don't receive redundant email enrollment challenges in the following cases:</p>
        <ul>
            <li>The user has already proven they own the email. This usually happens during self-service registration.</li>
            <li>The user doesn't need to prove it because the admin has provisioned email on behalf of the user.  This is a typical workforce scenario where the user's email may be protected by Okta, and thus an email enrollment challenge could be unanswerable.</li>
        </ul>
        <h3><MadCap:variable name="okta-feature-names.Classic Engine" />
        </h3>
        <p>If email is required in enrollment policy, then it’s treated as an auto-enrolling authenticator.   The user doesn't have to explicitly perform an enrollment challenge/response as they would if SMS was required. However, if email is optional in recovery policy, then an explicit enrolling challenge/response is required before the email can be used for authentication.</p>
        <p>In <MadCap:variable name="okta-feature-names.Classic Engine" />, recovery operations are independent of authentication. That means email is always available for recovery, depending on the sign-on policy.  Enrolling email as a factor to use it for recovery isn’t required. Only a verified primary email address is required.</p>
        <p>Thus, in <MadCap:variable name="okta-feature-names.Classic Engine" /> email is an auto-enrolling authenticator for recovery but not necessarily for authentication. Whereas in <MadCap:variable name="okta-feature-names.Identity Engine" /> it’s auto-enrolled for both recovery and authentication.</p>
        <p>This change in behavior between <MadCap:variable name="okta-feature-names.Classic Engine" /> and <MadCap:variable name="okta-feature-names.Identity Engine" /> is motivated by two considerations:</p>
        <ol>
            <li>In <MadCap:variable name="okta-feature-names.Identity Engine" /> the authentication and recovery flows are unified. An authenticator must be enrolled for a particular method (in this case Email) to be used for recovery.  </li>
            <li> The challenge/remediation model used in <MadCap:variable name="okta-feature-names.Identity Engine" /> isn’t conducive to a configuration where email is both auto-enrolling (if required) and not auto-enrolling (if optional).</li>
        </ol>
         
    </body>
</html>