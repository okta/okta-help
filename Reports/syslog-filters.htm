<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:conditions="MultiProdPublish.Classic+OIE"
      MadCap:fileTags="Tags/okta-authors.Barbara Vo">
   <head>
      <link href="../../Resources/TableStyles/standard-shaded-rows.css"
            rel="stylesheet"
            MadCap:stylesheetType="table"/>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
   </head>
   <body>
      <h1>System Log filters and search</h1>
      <p>You can filter events by various parameters and operators in the System Log. By default, the filters display all events for the last seven days. </p>
      <h2>Filters </h2>
      <p>Filter System Log events by:
</p>
      <ul>
         <li>
            <p>Date Range<br/>Specify a start and end time range to filter the events displayed. <br/>
            </p>
            <div class="noteOkta">
               <p class="noteContent">Events are retained by Okta for 90 days. Specifying a longer range will result in an error.</p>
            </div>
         </li>
         <li>
            <p>Time Zone: Use the drop-down box to select a time zone in which the system log events are displayed.</p>
         </li>
         <li>
            <p>IP address: While viewing System Log events, super admins or org admins may want to view all events by a specific IP address. </p>
            <ol>
               <li>
                  <p>In the Events table, click the right arrow for the event to view the actor, client, event, request, and target info about that event.</p>
               </li>
               <li>
                  <p>Expand one of the following:<br/>
                  </p>
                  <ul style="list-style-type: circle;">
                     <li>
                        <span class="uicontrol">Client</span>
                     </li>
                     <li>
                        <p>
                           <span class="menucascade">
                              <span class="uicontrol">Request</span>
                              <span class="uicontrol">IPChain</span>
                           </span>
                        </p>
                     </li>
                  </ul>
               </li>
               <li>
                  <p>Hover over the IP address to display the Filter icon.</p>
               </li>
               <li>
                  <p>Click the <span class="uicontrol">Filter</span> icon to sort the event list.</p>
               </li>
            </ol>
         </li>
      </ul>
      <p>To clear any custom filters and return to the default filters, click <span class="uicontrol">Reset Filters</span>.</p>
      <p>
         <img src="../../Resources/Images/System Log/sys-log-filters.png"
              alt="System Log filters"
              class="thumbnail"/>
      </p>
      <h2>Search for events</h2>
      <p>You can do a basic or advanced search for events using the supported operators. You can also save your searches to retrieve event information quickly.</p>
      <h3>Basic search</h3>
      <ol>
         <li>
            <p>Specify a time range using the From, To, and Time Zone fields.</p>
         </li>
         <li>
            <p>Enter a string to search all events.</p>
         </li>
         <li>
            <p>Press the <span class="uicontrol">Enter</span> key or click the <span class="uicontrol">Search</span> icon.</p>
         </li>
      </ol>
      <p>The following table lists some commonly used custom queries:</p>
      <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');"
             class="TableStyle-srb_header_alt_shade"
             cellspacing="0">
         <col class="TableStyle-srb_header_alt_shade-Column-Column1"/>
         <col class="TableStyle-srb_header_alt_shade-Column-Column1"/>
         <thead>
            <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
               <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Use case</th>
               <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Query</th>
            </tr>
         </thead>
         <tbody>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
Password resets for users

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
eventType eq "user.account.reset_password"

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
Find Rate Limit errors

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
displayMessage eq "Rate limit violation"

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
Application Assignment

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
 application.user_membership.add

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
Application Access

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
eventType eq "user.authentication.sso"

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
User Creation

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
user.lifecycle.create

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
User Locked Out

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
user.account.lock

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
Self Service Unlock

</td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
self_service.account_unlock

</td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
               <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
                  <p>Sign-in Success</p>
               </td>
               <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                  <p>user.authentication.sso</p>
               </td>
            </tr>
            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
               <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">
                  <p>Suspicious Activity</p>
               </td>
               <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                  <p>outcome.reason eq "Authentication failed: bad username or password"</p>
               </td>
            </tr>
         </tbody>
      </table>
      <h3>Advanced search</h3>
      <ol>
         <li>
            <p>Click <span class="uicontrol">Advanced Filters</span>.</p>
         </li>
         <li>
            <p>Enter your selection criteria</p>
         </li>
         <li>
            <p>Click <span class="uicontrol">Apply Filter</span>.</p>
         </li>
      </ol>
      <p>
         <img src="../../Resources/Images/System Log/system-log-advanced-filters-operators.png"
              alt="Operators for Advanced filters "
              class="thumbnail"/>
      </p>
      <p>Currently, the System Log supports the following operators:</p>
      <ul>
         <li>
            <span class=" codeph">equals</span>
         </li>
         <li>
            <span class=" codeph">contains</span>
         </li>
         <li>
            <span class=" codeph">starts with</span>
         </li>
         <li>
            <span class=" codeph">ends with</span>
         </li>
         <li>
            <span class=" codeph">not equal</span>
         </li>
         <li>
            <span class=" codeph">is present</span>
         </li>
         <li>
            <span class=" codeph">greater than</span>
         </li>
         <li>
            <span class=" codeph">greater than or equal to</span>
         </li>
         <li>
            <span class=" codeph">less than</span>
         </li>
         <li>
            <span class=" codeph">less than or equal to</span>
         </li>
      </ul>
      <div class="noteOkta">
         <p class="noteContent">The Contains operator doesn't support the following fields:</p>
         <ul>
            <li>
               <p>
                  <span class="code">debugContext.debugData.url</span>
               </p>
            </li>
            <li>
               <p>
                  <span class="code">debugContext.debugData.requestUri</span>
               </p>
            </li>
         </ul>
      </div>
      <p>See <a href="https://developer.okta.com/docs/reference/api-overview/#operators">Operators</a> for more details about the operators.</p>
      <h2>Save your searches</h2>
      <p>You can save and reuse searches. With saved searches, you can reuse them, modify them, or delete them.</p>
      <ol>
         <li>
            <p>After performing a System Log search, click <span class="uicontrol">Save</span>.</p>
         </li>
         <li>
            <p>Enter a name for your customized search.</p>
         </li>
         <li>
            <p>Click <span class="uicontrol">Save as new</span>. Your customized search appears on the <span class="wintitle">Reports</span> page.</p>
         </li>
      </ol>
   </body>
</html>
