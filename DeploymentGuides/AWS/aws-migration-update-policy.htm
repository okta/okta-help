<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Jeanette Smith" MadCap:conditions="Primary.do-not-publish">
    <head><title>AWS migration - update your AWS policy | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>AWS migration - update your AWS policy</h1>
        <p>If you have multiple AWS instances configured via the API, please follow these instructions to have more restrictive policy setup.</p>
        <ol>
            <li>Login to AWS console and navigate to IAM Service</li>
            <li>Find the IAM User that’s being used by Okta integration for API calls</li>
            <li>Review the Policies attached to the User<p>If you have sts:AssumeRole action assigned to a wildcard R</p><p>Please update the policy to limit resources allowed for <span class="code">sts:AssumeRole</span> action to <span class="code">arn:aws:iam::*:role/Okta-Idp-cross-account-role</span>.</p><p>You can do it by creating a separate statement in the Policy, like so:</p><MadCap:codeSnippet><MadCap:codeSnippetCopyButton /><MadCap:codeSnippetBody MadCap:useLineNumbers="True" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">...{
"Effect": "Allow",
"Action": "sts:AssumeRole",
"Resource": "arn:aws:iam::*:role/Okta-Idp-cross-account-role"
}
...</MadCap:codeSnippetBody></MadCap:codeSnippet></li>
            <li>
                <p>Review and save updated Policy</p>
            </li>
        </ol>
        <p>Please refer to AWS documentation on IAM Policies for more details.</p>
    </body>
</html>