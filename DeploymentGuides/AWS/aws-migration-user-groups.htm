<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Jeanette Smith" MadCap:conditions="Primary.do-not-publish">
    <head><title>AWS migration -  using user groups to connect to multiple AWS instances | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>AWS migration -  using user groups to connect to multiple AWS instances</h1>
        <p>If you have connected multiple AWS instances via the API and now wish to use user groups instead, please follow these instructions. We suggest creating a new AWS app to avoid any conflicts or issues with your existing one.</p>
        <p style="font-weight: bold;">Managing User and Group Access to Accounts and Roles</p>
        <p>Note that although the following instructions apply to all applications, including AD/LDAP, profile-sourced ones. Local Okta groups can be used as well.</p>
        <p style="font-weight: bold;">AWS Role Specific Groups</p>
        <p>A group must exist in Okta for each specific account and role combination that you want to provide access to. You can think of these groups as AWS Role Specific Groups. The group name should follow a particular syntax (more details in Set Up Instructions).</p>
        <p>Any user who is a member of these role-specific groups is granted a single entitlement: access to one specific role in one specific AWS account. These groups can be created by a script, exported as a list from AWS, or created manually.</p>
        <p style="font-weight: bold;">Set Up AWS accounts for SAML</p>
        <p>Each of your AWS accounts must be configured for SAML access. This entails adding Okta as a trusted IDP to your AWS account and then creating a trust relationship for each of your roles that permits access via the new IDP. These are the same steps that one would follow to provide SAML SSO into any single AWS account, but must be performed across all of your accounts. For advanced organizations, this can be automated with Cloud Formation or AWS API scripts for a simple SAML setup in each account.</p>
        <h2>Next steps</h2>
        <ul>
            <li>Set up your AWS accounts and roles for SAML SSO</li>
        </ul>
    </body>
</html>