<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Mark Cowan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
   </head>
   <body>
      <h1>Configure Okta as Claims Provider in <MadCap:variable name="3rd Party Integrations.SharePoint On-Premises"/>
      </h1>
      <h2>Before you begin</h2>
      <ul>
         <li>
            <p>Complete <MadCap:xref href="add-sharepoint.htm">Add [%=3rd Party Integrations.SharePoint On-Premises%] in Okta</MadCap:xref>.</p>
         </li>
      </ul>
      <MadCap:snippetBlock src="../Snippets/Callouts/prereq-ps.flsnp"/>
      <h2>Start this procedure</h2>
      <p>This procedure includes the following tasks:</p>
      <p>
         <MadCap:xref href="#1.">1. Configure mappings</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="#2.">2. Validate Okta added as Claims Provider</MadCap:xref>
      </p>
      <h3>
         <a name="1."/>1. Configure mappings</h3>
      <p>You can configure four attributes (Username, First Name, Last Name, and Email) for SharePoint. Wildcard matches are allowed for any prefix match of First Name, Last Name, and Email. This includes both the Okta user profile attributes and  the App user profile attributes.</p>
      <p>To configure mappings, go to <span class="menucascade">
            <span class="uicontrol">Directory</span>
            <span class="uicontrol">Profile Editor</span>
            <span class="uicontrol">
                <MadCap:variable name="3rd Party Integrations.SharePoint On-Premises"/>
            </span>
            <span class="uicontrol">Mappings</span>
         </span>.</p>
      <div class="noteOkta">
         <ul>
            <li>If you set the search scope level as OKTA and the identifier claim as <span class="code">userName</span>, don't customize mappings for the app user’s username.</li>
            <li>If you set the search scope level as APP, don't customize mappings for an app user’s <span class="code">ﬁrstName</span>/<span class="code">lastName</span>/<span class="code">email</span> nor leave those fields empty.</li>
         </ul>
      </div>
      <h3>
         <a name="2."/>2. Validate Okta added as Claims Provider</h3>
      <p>After you complete the installation procedure, Okta should appear in the Trusted Identity Provider list on the SharePoint Central Administration console. </p>
      <ol>
         <li>Go to <span class="menucascade">
               <span class="uicontrol">SharePoint Central Administration</span>
               <span class="uicontrol">Security</span>
               <span class="uicontrol">Specify Authentication Providers</span>
               <span class="uicontrol">Default zone</span>
               <span class="uicontrol">Trusted Identity Provider list</span>
            </span>. </li>
         <li>
            <p>Confirm that you can see Okta in the list.</p>
            <p>
               <img src="../../../../Resources/Images/sharepoint/add-cp-1.png"
                    class="thumbnail"/>
            </p>
         </li>
      </ol>
      <div class="noteOkta">
         <p class="noteContent">Make sure you disable the Okta Identity Provider whenever you install, uninstall, or update the Okta People Picker. See <MadCap:xref href="uninstall-people-picker-auth.htm">Uninstall Okta People Picker and Okta Authentication</MadCap:xref>.</p>
      </div>
      <h2>Next steps</h2>
      <p>
         <MadCap:xref href="install-people-picker-plugin.htm">Deploy Okta People Picker for SharePoint agent</MadCap:xref>
      </p>
   </body>
</html>
