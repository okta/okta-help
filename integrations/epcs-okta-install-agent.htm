<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:fileTags="Tags/okta-authors.Patrick Calnan" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="MultiProdPublish.Classic">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <meta name="description" content="Configure MFA for Electronic Prescribing for Controlled Substances to comply with government regulations and securely authenticate users with Okta MFA." />
    </head>
    <body>
        <h1>  Install the Okta Hyperspace Agent</h1>
        <p>During this task we will install the Okta Hyperspace agent.</p>
        <h2><a name="Install"></a>Install the agent interactively</h2>
        <p>Install the agent interactively on the machine that will host the agent.</p>
        <ol>
            <li>On the computer which will host the agent, download the HyperSpace Agent MSI file and unzip.</li>
            <li>Run the <span class="uicontrol">OktaHyperspaceAgent.msi</span>, accepting all defaults. </li>
            <li>When promoted enter the URL, client id and client secret as shown in the <span class="uicontrol">General</span> tab of the <span class="uicontrol">Epic Hyperspace EPCS (MFA)</span> application. <br /></li>
        </ol>
        <h2>Install the agent silently</h2>
        <ol>
            <li>On the computer that will host the agent, ownload and install the Microsoft Visual C++&#160;redistributable libraries as described at 
						<a href="https://www.microsoft.com/en-us/download/details.aspx?id=48145">https://www.microsoft.com/en-us/download/details.aspx?id=48145.</a></li>
            <li>On the computer that will host the agent, download the HyperSpace Agent MSI file and unzip.</li>
            <li>Open a command prompt and change directory to the location where the MSI was downloaded and unzipped.</li>
            <li MadCap:conditions="Primary.do-not-publish">Using a text editor, in the same directory as the MSI installer, create <span class="uicontrol">json.config</span> which should resemble<br /><span class="code">{<br /> "<span class="uicontrol">Url</span>": "your okta org", <br /> "<span class="uicontrol">ClientId</span>": "Your client ID",<br /> "<span class="uicontrol">ClientSecret</span>": "Your client Secret",<br />								 "WidgetTimeOutInSeconds": 60,<br /> "ErrorTimeOutInSeconds": 10,<br /> "EnforceTimeoutVersionAgnostic": false,<br /> "SslPinningEnabled": true<br />}<br /></span>Where:
						<br /><span class="uicontrol">Url, ClientId and ClientSecret </span> values are as shown in the <span class="uicontrol">General</span> tab of the <span class="uicontrol">Epic Hyperspace EPCS (MFA)</span> application<br />            Run the MSI installer using a command similar to:<br /><span id="code">msiexec /qb /log log.txt /i OktaHyperspaceAgent.msi CLIENT_ID="ClientID" CLIENT_SECRET="ClientSecret" OKTA_URL="Url"</span></li>
            <li>
                <MadCap:codeSnippet>
                    <MadCap:codeSnippetCopyButton />
                    <MadCap:codeSnippetCaption>
                        <p>Run msiexec</p>
                    </MadCap:codeSnippetCaption>
                    <MadCap:codeSnippetBody MadCap:useLineNumbers="False" MadCap:lineNumberStart="1" MadCap:continue="False" xml:space="preserve">msiexec /qb /log log.txt /i OktaHyperspaceAgent.msi CLIENT_ID="ClientID" CLIENT_SECRET="ClientSecret" OKTA_URL="Url"</MadCap:codeSnippetBody>
                </MadCap:codeSnippet>
                <br />            
               Where:<br /><span class="uicontrol">Url, ClientId and ClientSecret </span> values are as shown in the <span class="wintitle">General</span> tab of the <span class="wintitle">Epic Hyperspace EPCS (MFA)</span> application.<br style="font-weight: bold;" /><br style="font-weight: bold;" /></li>
        </ol>
        <div class="noteOkta">
            <p class="noteContent"> If the version of Okta installed <span class="uicontrol">Epic.Core.Authentication.dll</span> is older then the EPIC library <span class="filepath">Epic.Core.Authentication.dll</span>  replace the Okta version with the newer EPIC DLL.<br />The default location for the plugin install file is typically : <span class="filepath">c:\Program Files (x86)\Okta\OktaHyperspaceLoginDevice\</span></p>
        </div>
        <div>
            <h2>Next steps</h2>
            <p MadCap:conditions="Primary.do-not-publish">Download the agent as described in <MadCap:xref href="epcs-okta.htm">MFA for Electronic Prescribing for Controlled Substances (ePCS) </MadCap:xref></p>
            <p MadCap:conditions="Primary.do-not-publish">
                <MadCap:xref href="epcs-okta-install-agent.htm">  Install the Okta Hyperspace Agent</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="epcs-okta-config-chronicles.htm">Configure a Device in Chronicles</MadCap:xref>
            </p>
        </div>
    </body>
</html>