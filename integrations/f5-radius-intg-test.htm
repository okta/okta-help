<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Patrick Calnan" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Test the F5 BIG IP&#160;integration</h1>
        <div>
            <p>To test the integration:</p>
            <ul>
                <li>
                    <MadCap:xref href="#Flow">Flow</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#Test">Test with the BIG-IP Edge Client</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#Test2">Test Clientless VPN with F5 web portal
						</MadCap:xref>
                </li>
            </ul>
            <h2><a name="Flow"></a>Flow </h2>
            <p>There are two configuration tests for the flows, shown in the following network diagram.</p>
            <p>
                <img src="../../Resources/Images/f5_14.png" class="thumbnail" />
            </p>
            <p>The detailed web sequence is listed below and is illustrated in this <a href="../../Resources/Images/f5_17.png" target="_blank">diagram</a>.</p>
            <ol>
                <li>User Logs in with Username/Password</li>
                <li>Gateway receives data and forwards via Radius to Okta RADIUS Server Agent</li>
                <li>Okta RADIUS Server Agent sends to Okta Identity Cloud</li>
                <li>Okta Identify Cloud Determines the Authentication source and responds or optionally forwards to on-prem directory agent</li>
                <li>Optional: Directory Agent sends Password to Directory</li>
                <li>Optional: Directory Confirms the password</li>
                <li>Optional: Directory Agent Confirms the password to Okta Identity Cloud</li>
                <li>Okta Identity Cloud evaluates the authentication policy and as required sends a message to the Okta RADIUS Server Agent to challenge the user for a factor</li>
                <li>The Okta RADIUS Server Agent relays the challenge message to the Gateway</li>
                <li>The Gateway displays a message to select a factor to the user</li>
                <li>User supplies the desired factor</li>
                <li>Gateway receives data and forwards via Radius to Okta RADIUS Server Agent</li>
                <li>Okta RADIUS Server Agent sends to Okta Identity Cloud</li>
                <li>Okta Identify Cloud evaluates the Choice and triggers the appropriate response (push message shown)</li>
                <li>Push message is received and Responded to by the user</li>
                <li>Success Message returned to the Okta RADIUS Server Agent</li>
                <li>Success Message returned to the gateway</li>
                <li>Connected</li>
            </ol>
            <h2><a name="Test"></a>Test with the BIG-IP Edge Client</h2>
            <ol>
                <li>Open the BIG-IP Edge Client.</li>
                <li>
                    <p>Select the server, and enter your username, password, and factor (OTP value or out of band keyword), as shown below.</p>
                    <p>
                        <img src="../../Resources/Images/f5_9.png" class="thumbnail" />
                    </p>
                    <p>Note: The username must be in the format you specified when you added the app in Okta in Part 2, above.</p>
                </li>
                <li>Click <span class="uicontrol">Connect</span>.</li>
                <li>
                    <p>Note: When using sms or call, the first login fails, but triggers the delivery of a call or sms code. Initiate another logon with that information. The image in step 2 shows the failure message. This is expected.</p>
                </li>
                <li>
                    <p>After successfully completing the challenge you are connected, as shown below. If you entered an incorrect value or you take too long to respond to the push notification, you receive the message, "The user name or password is not correct. Please try again." </p>
                    <p>
                        <img src="../../Resources/Images/f5_10.png" class="thumbnail" />
                    </p>
                </li>
            </ol>
            <h2><a name="Test2"></a>Test Clientless VPN with F5 web portal
						</h2>
            <ol>
                <li>
                    <p>Navigate to the F5 portal.</p>
                </li>
                <li>
                    <p>Select the server, and enter your username, password, and factor (OTP value or out of band keyword), as shown. The username must be in the format you specified when you added the app in Okta in Part 2, above.</p>
                    <p>
                        <img src="../../Resources/Images/f5_11.png" class="thumbnail" />
                    </p>
                </li>
                <li>Click <span class="uicontrol">Logon</span>.</li>
                <li>
                    <p>Note: When using sms or call, the first login fails, but triggers the delivery of a call or sms code. Initiate another login with that information. </p>
                </li>
                <li>
                    <p>After successfully completing the challenge you are connected, as shown below. If you entered an incorrect value or take to long to respond to the push notification, you receive the message, "The username or password is not correct. Please try again. (error: Access-Reject)" </p>
                    <p>
                        <img src="../../Resources/Images/f5_12.png" class="thumbnail" />
                    </p>
                </li>
            </ol>
        </div>
    </body>
</html>