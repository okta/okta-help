<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:fileTags="Tags/okta-authors.Patrick Calnan" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head>
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Configure Amazon WorkSpaces</h1>
        <p>AWS WorkSpaces (WS) supports RADIUS for MFA authentication.</p>
        <p>The Amazon WorkSpace app allows use of the Okta RADIUS agent for multifactor authentication on Amazon WorkSpaces. End users can sign into Amazon WorkSpaces using factors registered with Okta. This integration shows how to configure AWS WorkSpaces using Active Directory to support authentication using Okta MFA and Okta Verify Push.</p>
        <ul>
            <li>
                <MadCap:xref href="#Before">Before you begin</MadCap:xref>
            </li>
            <li MadCap:conditions="MultiProdPublish.OIE">
                <MadCap:xref href="#Limitati">Limitations</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Supporte">Supported Factors</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Tasks">Tasks</MadCap:xref>
            </li>
        </ul>
        <h2><a name="Before"></a>Before you begin</h2>
        <MadCap:snippetBlock src="../../Resources/Snippets/integrations/radius-agent-common-prereqs.flsnp" />
        <p>In addition, you must configure Amazon Web Services as: </p>
        <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <thead>
                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">In addition, you must configure Amazon Web Services as: </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                        <p>Amazon Web&#160;Services instances, configured as:</p>
                        <ul>
                            <li>Instance A: represents the Amazon Directory Service virtual machine instance.</li>
                            <li>Instance B: represents the Windows 2012r2 host on which to install the  Okta RADIUS agent. <p>The AWS Directory Service requires the private IP address of Instance B to delegate the MFA challenge over RADIUS.</p></li>
                        </ul>
                    </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">AWS&#160;Directory Service instance, configured and pointing to Instance A, running Active Directory. You must have the Directory ID of the AWS&#160;Directory Service. Directory ID is used to determine the name of the Security Group.<p>The AWS Directory service requires the private IP address of Instance B to delegate the MFA challenge over RADIUS. If that private IP changes the AWS Directory MFA configuration must be updated to reflect the new private IP.</p></td>
                </tr>
            </tbody>
        </table>
        <div MadCap:conditions="MultiProdPublish.OIE">
            <h2><a name="Limitati"></a>Limitations</h2>
            <MadCap:snippetBlock src="../../Resources/Snippets/integration/WarnSingleOV.flsnp" />
        </div>
        <div MadCap:conditions="MultiProdPublish.Classic">
            <h2><a name="Supporte"></a>Supported factors</h2>
            <p>WorkSpaces supports the following MFA factors:</p>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 317px;" />
                <tbody>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="../Security/Security_Duo.htm">Duo</a>
                            <div class="noteOkta">
                                <p class="noteContent">DUO MFA with Push/SMS/Call isn't supported for Amazon Workspaces with RADIUS. When an end user that's enrolled in Okta with DUO MFA attempts to access Amazon Workspaces configured with RADIUS, they must provide the six digit MFA passcode displayed on the DUO mobile app in addition to their primary password.</p>
                            </div>
                            <br />
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><a href="../Security/mfa/google-authenticator.htm">Google Authenticator</a>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="../Mobile/okta-verify-overview.htm">Okta Verify (TOTP and PUSH)</a>
                        </td>
                    </tr>
                    <tr style="height: 49px;" class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><a href="../Security/mfa/sms.htm">SMS authentication</a>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><a href="../Security/mfa/voicecall.htm">Voice Call</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div MadCap:conditions="MultiProdPublish.OIE">
            <h2><a name="Supporte"></a>Supported authenticators</h2>
            <p>WorkSpaces supports the following authenticators:</p>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 317px;" />
                <tbody>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="../identity-engine/authenticators/configure-duo-security.htm">Duo</a>
                            <div class="noteOkta">
                                <p class="noteContent">DUO MFA with Push/SMS/Call isn't supported for Amazon Workspaces with RADIUS. When an end user that's enrolled in Okta with DUO MFA attempts to access Amazon Workspaces configured with RADIUS, they must provide the six digit MFA passcode displayed on the DUO mobile app in addition to their primary password.</p>
                            </div>
                            <br />
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><a href="../identity-engine/authenticators/google-authenticator.htm">Google Authenticator</a>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="../identity-engine/authenticators/configure-okta-verify.htm">Okta Verify (TOTP and PUSH)</a>
                        </td>
                    </tr>
                    <tr style="height: 49px;" class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2"><a href="../identity-engine/authenticators/configure-phone.htm">SMS and Voice authentication</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div MadCap:conditions="Primary.do-not-publish">
            <h2><a name="Supporte"></a>Unsupported factors</h2>
            <p MadCap:conditions="Primary.do-not-publish">Amazon WS&#160;doesn't support the factors in this table</p>
            <table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0" MadCap:conditions="Primary.do-not-publish">
                <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 317px;" />
                <tbody>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1" MadCap:conditions="Primary.do-not-publish">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Custom TOTP Authentication</td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2" MadCap:conditions="Primary.do-not-publish">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                            <p><a href="../Security/mfa/email.htm">Email</a>
                            </p>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1" MadCap:conditions="Primary.do-not-publish">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                            <p><a href="../Security/MFA_OnPrem.htm">RSA Token</a>
                            </p>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2" MadCap:conditions="Primary.do-not-publish">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><a href="../Security/mfa/security-question.htm">Security Question</a>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1" MadCap:conditions="Primary.do-not-publish">
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="../Security/mfa/symantec-vip.htm">Symantec VIP</a>
                        </td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2" MadCap:conditions="Primary.do-not-publish">
                        <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2"><a href="../Security/mfa/yubikey.htm">YubiKey</a>
                        </td>
                    </tr>
                </tbody>
            </table>
            <MadCap:snippetBlock src="../../Resources/Snippets/mfa-factors-radius-incompatibility.flsnp" MadCap:conditions="Primary.do-not-publish" />
        </div>
        <h2><a name="Tasks"></a>Typical workflow</h2>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <thead>
                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">
                        <p>Task</p>
                    </th>
                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">
                        <p>Description</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Configure AWS</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="aws-radius-intg-config-aws.htm">Preconfigure Amazon WS</a> instances with required Active Directory, EC2 and workspace. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Download and install the RADIUS agent</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><a href="aws-radius-intg-install-radius.htm">Download and install the Okta RADIUS agent</a> on Instance B. <p>For throughput, availability and other considerations, see <a href="radius-best-pract.htm">Okta RADIUS Server Agent Deployment Best Practices</a>.</p></td>
                </tr>
                <tr MadCap:conditions="" class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Create inbound AWS&#160;rules</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><a href="aws-radius-intg-create-inbound.htm">Create inbound rules</a> to allow the RADIUS agent to communicate with an AWS&#160;Directory Service instance. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Configure application</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">In your Okta org, <a href="aws-radius-intg-config-app.htm">configure the Amazon WorkSpaces application</a> and required factors.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Configure Amazon WorkSpaces for MFA</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Amazon WorkSpaces must be <a href="aws-radius-intg-config-mfa.htm">configured for MFA</a>. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Provision Users</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">AWS WorkSpace users are managed in Active Directory but must be <a href="aws-radius-intg-prov-users.htm">provisioned into Okta.</a> </td>
                </tr>
            </tbody>
        </table>
        <h2>Related topics</h2>
        <ul>
            <li>
                <MadCap:xref href="aws-radius-intg-user-exp.htm">Amazon WorkSpaces with MFA User Experience</MadCap:xref>
            </li>
            <MadCap:snippetBlock src="../../Resources/Snippets/integrations/radius-agent-common-see-also.flsnp" />
        </ul>
    </body>
</html>