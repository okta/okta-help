<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan"
      MadCap:conditions="MultiProdPublish.Classic+OIE">
   <head>
      <link href="../../Resources/TableStyles/standard-shaded-rows.css"
            rel="stylesheet"
            MadCap:stylesheetType="table"/>
      <title>[%=Heading.Level1%] | Okta</title>
      <meta name="description"
            content="Configure the Citrix Netscaler Gateway integration to enable MFA against your Okta RADIUS server agent to provide seamless end-user authentication."/>
   </head>
   <body>
      <h1>Configure the Pulse Connect Secure gateway </h1>
      <p>During this task we will use the Pulse Secure Administrator Sign-in Page to configure a new authentication server, to create or modify a user realm, and to modify or confirm the sign-in policies.</p>
      <p>There are three parts to this configuration: </p>
      <ol>
         <li>
            <MadCap:xref href="#Configur">Configure a new Authentication Server</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Create">Create or Modify a User Realm</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Modify">Modify or Confirm the Sign-in Policies</MadCap:xref>
         </li>
      </ol>
      <h2>Before you begin</h2>
      <ul>
         <li>Ensure that you have the common UDP port and secret key values available.</li>
      </ul>
      <h2>
         <a name="Configur"/>Configure a new Authentication Server</h2>
      <ol>
         <li>Sign in to the Pulse Connect Secure Administrator Sign-In Page with sufficient privileges.</li>
         <li>Navigate to <span class="menucascade">
               <span class="uicontrol">Authentication</span>
               <span class="uicontrol">Auth Servers</span>
            </span>, click the <span class="uicontrol">New</span> dropdown, and then click <span class="uicontrol">New Server</span> to define a new Authentication server, as shown below.<p>
               <img src="../../Resources/Images/pulse_3.png" class="thumbnail"/>
            </p>
            <p>Note: You can also edit an existing RADIUS server, if desired, by selecting it from the list of authentication servers.</p>
         </li>
         <li>Enter the following values to create a <span class="uicontrol">New RADIUS Server</span>.<table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');"
                   class="TableStyle-srb_header_alt_shade"
                   cellspacing="0">
               <col style="width: 257px;"
                    class="TableStyle-srb_header_alt_shade-Column-Column1"/>
               <col style="width: 469px;"
                    class="TableStyle-srb_header_alt_shade-Column-Column1"/>
               <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                  <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Name</td>
                  <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"> Unique and appropriate name (Okta)</td>
               </tr>
               <tbody>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">NAS Identifier</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Optional: an identifier of the NAS</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">RADIUS Server</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">IP or Name of Okta RADIUS Server Agent</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Authentication Port</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Port 1812, or as set above</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Shared Secret</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">As set above</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Server Address</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">IP or Name of Okta RADIUS Server Agent</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Accounting Port</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Required, but any value is acceptable</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">NAS IPv5 Address</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Optional: shows in the Okta logs, if defined</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Timeout</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Recommended: <span class="uicontrol">60</span> seconds</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Retries</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">1</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li>Optionally, repeat the settings for the backup server, if required and available.</li>
         <li>Ignore the <span class="uicontrol">RADIUS Accounting</span> section.</li>
         <li>Expand the <span class="uicontrol">Custom RADIUS Rules</span> drop-down arrow, and then click <span class="uicontrol">New RADIUS Rule...</span>.<p>
               <img src="../../Resources/Images/pulse_4.png"/>
            </p>
         </li>
         <li>The following screen appears:<p>
               <img src="../../Resources/Images/pulse_5.png" class="thumbnail"/>
            </p>
         </li>
         <li>Enter the following values to create a <span class="uicontrol">Custom RADIUS Rule</span>.<table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');"
                   class="TableStyle-srb_header_alt_shade"
                   cellspacing="0">
               <col style="width: 257px;"
                    class="TableStyle-srb_header_alt_shade-Column-Column1"/>
               <col style="width: 469px;"
                    class="TableStyle-srb_header_alt_shade-Column-Column1"/>
               <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                  <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Name</td>
                  <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"> Unique and appropriate name (Okta Challenge Rule)</td>
               </tr>
               <tbody>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">If received Radius Response Packet...</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Access Challenge</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Attribute Criteria</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                        <p>Radius Attribute: Reply-Message (18)</p>
                        <p>Operand: matches the expression</p>
                        <p>Value: [leave blank]</p>
                     </td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Then take action</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">show <span class="uicontrol">Generic Login</span> page</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li>Click <span class="uicontrol">Save Changes</span> for the new RADIUS rule.</li>
         <li>Ignore the warnings that the rule is not very specific.</li>
         <li>Click <span class="uicontrol">Save Changes</span> for the new authentication server.</li>
      </ol>
      <h2>
         <a name="Create"/>Create or Modify a User Realm</h2>
      <ol>
         <li>
            <p>Navigate to <span class="menucascade">
                  <span class="uicontrol">Users</span>
                  <span class="uicontrol">User Realms</span>
               </span>.</p>
         </li>
         <li>
            <p>From the <span class="uicontrol">Overview</span> view, click <span class="uicontrol">New...</span> to define a new authentication realm to display the following screen.<p>
                  <span class="uicontrol">Note: </span>You can also edit an existing authentication realm, if desired, by selecting it from the list of user authentication realms.</p>
            </p>
            <p>
               <img src="../../Resources/Images/pulse_6.png" class="thumbnail"/>
            </p>
         </li>
         <li>Enter the following values to create a <span class="uicontrol">New Authentication Realm</span>
            <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');"
                   class="TableStyle-srb_header_alt_shade"
                   cellspacing="0">
               <col style="width: 257px;"
                    class="TableStyle-srb_header_alt_shade-Column-Column1"/>
               <col style="width: 469px;"
                    class="TableStyle-srb_header_alt_shade-Column-Column1"/>
               <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                  <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Name</td>
                  <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"> Unique and appropriate name (Okta)</td>
               </tr>
               <tbody>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Description</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Optional; use any desired description</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Authentication</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                        <p>Okta (authentication server name created in step 1, above)</p>
                     </td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">User/Directory Attribute</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Select <span class="uicontrol">Same as Above</span> from the drop-down list</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                     <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Accounting</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Select <span class="uicontrol">None</span> from the drop-down list</td>
                  </tr>
                  <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                     <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Device Attributes</td>
                     <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">Select <span class="uicontrol">None</span> from the drop-down list</td>
                  </tr>
               </tbody>
            </table>.</li>
         <li>Click <span class="uicontrol">Save Changes</span>.</li>
         <li>Optionally, set Role Mapping, by selecting the <span class="uicontrol">Role Mapping</span> tab, and then selecting <span class="uicontrol">Role Mapping</span> from the top menu. The following screen appears:<p>
               <img src="../../Resources/Images/pulse_7.png"/>
            </p>
         </li>
         <li>As desired, define user attribute driven role assignments.  Combine this with the Advanced Radius settings to enforce dynamic roles for users.</li>
      </ol>
      <h2>
         <a name="Modify"/>Modify or Confirm the Sign-in Policies</h2>
      <ol>
         <li>Navigate to  <span class="menucascade">
               <span class="uicontrol">Authentication</span>
               <span class="uicontrol">Signing In</span>
               <span class="uicontrol">Sign-in Policies</span>
            </span>.<p>
               <img src="../../Resources/Images/pulse_8.png" class="thumbnail"/>
            </p>
         </li>
         <li>
            <p>Identity the Sign-in Policy  to modify or confirm and click the URL to confirm or edit its selected realms.</p>
         </li>
         <li>
            <p>Expand the <span class="uicontrol">Authentication realm</span> section of the policy detail page.<p>
                  <img src="../../Resources/Images/pulse_9.png" class="thumbnail"/>
               </p>
            </p>
         </li>
      </ol>
      <div>
         <h2>Next steps</h2>
         <p>
            <MadCap:xref href="pulse-secure-radius-intg-config-opt.htm">Pulse Secure optional settings</MadCap:xref>
         </p>
      </div>
   </body>
</html>
