<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Patrick Calnan" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>RADIUS common issues and concerns</h1>
        <h4>RADIUS Server agent won't install</h4>
        <p>Solutions include:<ul><li> Ensure you're installing on one of the supported Windows or Linux versions for Okta RADIUS. <br /></li><MadCap:snippetBlock src="../../Resources/Snippets/integrations/radius-agent-supported-windows.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/integrations/radius-agent-supported-linux.flsnp" /><li>Use the full Okta URL under “Custom” instead of just subdomain under “Production” in the installer.</li><li>Check for the presence of a proxy server, the RADIUS Server Agent installer is sensitive about proxies.</li><li>Check for an SSL interception device like a Palo Alto or FireEye. This is related to certificate pinning and affects all agents.</li><li>Try a different server in the environment just to eliminate any local machine issues.</li><li>Make sure that there are no leftover files under c:\program files (x86)\Okta\Okta RADIUS\ from a previous failed install.</li><li>Check Windows services.msc to make sure there isn’t a bad Okta RADIUS service leftover from a previous install (rare).</li><li>Try another version of the RADIUS Server Agent like the newest EA version.</li></ul></p>
        <h4>VPN device can’t reach RADIUS Server Agent</h4>
        <p>The RADIUS Server Agent is running but the RADIUS client device can't reach it. (This is different than failed sign-in attempts.)</p>
        <p>
            <ul>
                <li>Check the Okta RADIUS logs under C:\Program Files (x86)\Okta\Okta RADIUS Agent\current\logs\ to see if any connections are being made. Any connection, even failed ones, should show up.</li>
                <li>Double check the server name/server IP entered into the VPN device, just to make sure it was keyed in correctly.</li>
                <li>Verify the status of the Windows firewall on the Okta RADIUS Server Agent server to make sure it isn't blocking the connection.</li>
                <li>Verify that the VPN device and the server can reach each other through ping or ask for a network admin to verify network connectivity.</li>
                <li>Configure the RADIUS server using the IP address instead of the hostname. There are networks where DNS is limited and hostnames won't resolve.</li>
                <li>Determine if network layer issues are preventing connection with network engineer (NTRADPing can be helpful here).</li>
            </ul>
        </p>
        <h4>Correct credentials fail to authenticate</h4>
        <p>Possible solutions:<ul><li>The RADIUS Server Agent is rejecting valid login attempts</li><li>Verify the user is assigned to the RADIUS App in Okta.</li><li>Verify that the user is enrolled in MFA.</li><li>Verify the shared secret on both the Okta RADIUS Server Agent and on the VPN device. A mismatch causes all authentications to fail.</li><li>Check the local RADIUS logs.</li><li>Also look for any errors that could indicate that the API token expired.</li><li>If you see a malformed username in the logs, it indicates that the server is using MSCHAPv2 to encode the username. Check the VPN device configuration to make sure only PAP authentication is enabled.</li><li>Check the Okta System Log to see why the connection was rejected.</li><li>Check VPN device for any settings that could/would restrict login.</li></ul></p>
        <h4>User not prompted for preferred factor</h4>
        <p>Possible solutions:<ul><li>The server or client doesn’t support RADIUS challenge.</li><li>OpenVPN server does support a RADIUS challenge but the free client that is included with it doesn't support the method and fails.</li><li>Some versions of Cisco’s AnyConnect VPN client have issues with challenge. It's sporadic and upgrading to the latest version usually fixes it.</li><li>VMWare View before version 5.1 doesn't support a RADIUS challenge.</li><li>This isn't true two-factor authentication unless it's paired with AD/LDAP authentication. This may or may not be a concern.</li><li>For information on 2FA (to use only the second factor in MFA), see <a href="Okta_Radius_App.htm#top">Using the Okta RADIUS App</a>.</li></ul></p>
        <h4>Changes to RADIUS agent <span class="filepath">config.properties</span> not taking effect</h4>
        <p>Possible solutions:<ul><li>Changes have been made to the RADIUS agent <span class="filepath">config.properties</span> file, but these changes aren't being reflected in the RADIUS&#160;Agent.</li><li>The RADIUS Agent must be restarted after making any changes to the <span class="filepath">config.properties</span> file.</li><li>Changes made in the associated app in the Okta org do NOT require an agent restart. However, the agent may take a few minutes before it retrieves the updated configuration.</li><li>For more information about RADIUS Agent properties see the additional Properties section in <MadCap:xref href="Agent_Installing_the_Okta_Radius_Agent.htm">Installing and Configuring the Okta RADIUS Server Agent</MadCap:xref>.</li></ul></p>
        <h4><a name="Request"></a>Request queue is full</h4>
        <p>This message appears in your logs when the RADIUS&#160;Server Agent rejects sign-in attempts because it's reached the maximum number of request threads and connections that it can process.</p>
        <p>Possible solution:<br /><ul><li>Update the maximum number of request threads and connections in <span class="filepath">config.properties</span>. The recommended maximum values are:<ul><li><p><span class="code">ragent.num_request_threads=60</span></p></li><li><p><span class="code">ragent.num_max_http_connection=80</span></p></li></ul></li></ul><p>For more information, see <MadCap:xref href="Agent_install_windows-config.htm">Configure properties (Windows)</MadCap:xref>, <MadCap:xref href="Agent_install_linux-conf-properties.htm">Configure properties (Linux)</MadCap:xref>, and <MadCap:xref href="radius-best-pract-thruput.htm">RADIUS throughput and scaling</MadCap:xref>.</p></p>
    </body>
</html>