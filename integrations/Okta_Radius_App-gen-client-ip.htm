<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan"
      MadCap:conditions="MultiProdPublish.Classic+OIE">
   <head>
      <link href="../../Resources/TableStyles/standard-shaded-rows.css"
            rel="stylesheet"
            MadCap:stylesheetType="table"/>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
   </head>
   <body>
      <h1>Client IP reporting</h1>
      <MadCap:snippetBlock src="../../Resources/Snippets/integration/client-ip-reporting-intro.flsnp"/>
      <p>After completing the following procedure to enable client-ip resolution, you can define network zones by location or IP address and use them in sign-on policies to provide access, enforce MFA, or block access. For more information, see <a href="../Security/network/network-zones.htm">IP Zones</a>.</p>
      <p>To configure Network Zones in your Okta tenant:
</p>
      <ol>
         <li>To set up a zone:	<ol style="list-style-type: lower-alpha;">
               <li>
                  <MadCap:snippetText src="../../Resources/Snippets/task steps/Security_Networks.flsnp"/> Choose <span class="menucascade">
                     <span class="uicontrol">Add Zone</span>
                     <span class="uicontrol">IP Zone</span>
                  </span>.</li>
               <li>Provide a name.</li>
               <li>In the Gateway IPs field, specify the IP ranges with which your users will authenticate to your RADIUS-enabled systems (their client IPs).</li>
               <li>
                  <p>In the Proxy IPs field, specify the public-facing IP address of the RADIUS Agent server that will proxy each RADIUS request.</p>
                  <p>Note: To use geolocation capability, create a network zone that only specifies proxy IPs.</p>
               </li>
               <li>For more details on setting up IP zones, see <a href="../Security/network/network-zones.htm">Network</a>. </li>
            </ol>
         </li>
         <li>Find the application you would like to enable this feature for from the <span class="wintitle">Applications</span> page in the Okta Dashboard. Select the app to open up the app configuration page.</li>
         <li>	Navigate to the <span class="wintitle">Single-Sign On</span> page and locate the <span class="wintitle">Advanced RADIUS Settings</span> section towards the bottom of the page. Click <span class="uicontrol">Edit</span>.</li>
         <li>Select <span class="uicontrol">Report Client IP</span>.</li>
         <li>Choose the RADIUS attribute that your RADIUS-enabled system uses to pass the client-IP address.
		<ul>
               <li>This can vary from vendor to vendor so if you are unsure of which attribute to choose, try to identify this information from your vendors technical instructions or contact their technical team for help.</li>
               <li>The most common attribute used for this information is 31 Calling Station ID so that may be a good place to start if you are unsure.</li>
               <li>
                  <p>You may also use the table below that references the attributes used by a few common vendors for help.</p>
                  <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');"
                         class="TableStyle-srb_header_alt_shade"
                         cellspacing="0">
                     <thead>
                        <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                           <td colspan="2"
                               class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Typical RADIUS Attributes Used for Client IP Common Vendors</td>
                        </tr>
                     </thead>
                     <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Cisco</td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">31 Calling Station ID</td>
                     </tr>
                     <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Juniper</td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">31 Calling Station ID</td>
                     </tr>
                     <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Citrix Netscaler</td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">31 Calling Station ID</td>
                     </tr>
                     <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">F5</td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">31 Calling Station ID</td>
                     </tr>
                     <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Palo Alto Networks</td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">26 Vendor Specific: “PAN Vendor ID”</td>
                     </tr>
                  </table>
               </li>
            </ul>
         </li>
         <li>In the <span class="wintitle">Sign On Policy</span> section at the bottom of the page, click <span class="uicontrol">Add Rule</span> and create policies that allow, block, or require MFA based off of the network zones you created in step 1.
					</li>
      </ol>
      <div>
         <h2>Next steps</h2>
         <p>
            <a href="Okta_Radius_App-gen-group-auth.htm">Configure optional Okta group membership information for authorization </a>
         </p>
         <p>
            <a href="Okta_Radius_App-gen-addr-filtering.htm">Configure optional RADIUS service address filtering</a>
         </p>
      </div>
   </body>
</html>
