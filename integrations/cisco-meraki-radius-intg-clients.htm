<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan"
      MadCap:conditions="MultiProdPublish.Classic+OIE">
   <head>
      <link href="../../Resources/TableStyles/standard.css"
            rel="stylesheet"
            MadCap:stylesheetType="table"/>
      <title>[%=Heading.Level1%] | Okta</title>
      <meta name="description"
            content="Configure the Citrix Netscaler Gateway integration to enable MFA against your Okta RADIUS server agent to provide seamless end-user authentication."/>
   </head>
   <body>
      <h1>Configure Cisco Meraki supported clients </h1>
      <p>Cisco Meraki supports multiple wireless clients, including MS Windows and Apple OSX clients. This guide describes configuring wireless client by supported device. </p>
      <ul>
         <li>
            <MadCap:xref href="#Configur">Configure Apple macOS  device</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Configur2">Configure Apple iOS device</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Configur3">Configure Android device</MadCap:xref>
         </li>
         <li>
            <MadCap:xref href="#Windows">Windows 10 device</MadCap:xref>
            <br/>
         </li>
      </ul>
      <h2>Before you begin</h2>
      <ul>
         <li>Ensure that you have the common UDP port and secret key values available.</li>
      </ul>
      <h2>
         <a name="Configur"/>Configure Apple macOS  device</h2>
      <ol>
         <li>Install and open <span class="wintitle">Apple Configurator</span> from the App Store on your Mac.</li>
         <li>Select <span class="menucascade">
               <span class="uicontrol">File</span>
               <span class="uicontrol">New Profile</span>
            </span>.</li>
         <li>Select the <span class="wintitle">General</span> tab.</li>
         <li> Enter a <span class="uicontrol">Name</span> for the profile (for example, <span class="userinput">Settings for Meraki wireless router</span>).</li>
         <li>Select the <span class="uicontrol">Certificates</span> tab.</li>
         <li>Click <span class="uicontrol">Configure</span> and navigate to a directory that contains a valid root certificate.</li>
         <li>Add your root certificate.</li>
         <li>Select the <span class="uicontrol">Wi-Fi</span> tab. Enter values appropriate for your environment. </li>
         <li>In the <span class="uicontrol">Trust</span> tab within the Wi-Fi section, select the root certificate you previously added as a Trusted Certificate.</li>
         <li>Select <span class="menucascade">
               <span class="uicontrol">File</span>
               <span class="uicontrol">Save</span>
            </span> and save the file with a <span class="filepath">.mobileconfig</span> extension. If the <span class="msgblock">Profile has an error</span> message is displayed, ignore the message and select <span class="uicontrol">Save Anyway</span>.</li>
         <li>Add the 802.1X Wifi user profile to your system.<ol style="list-style-type: lower-alpha;">
               <li>Select <span class="uicontrol">Profiles</span> from <span class="uicontrol">System Preferences</span>
               </li>
               <li>Choose the <span class="uicontrol">+</span> sign to add the Wifi Profile you selected previously.</li>
            </ol>
         </li>
         <li>
            <p>Connect to your network using the <span class="uicontrol">Network</span> panel in <span class="uicontrol">System Preferences</span>. Successful logins appear in the Meraki events log.</p>
         </li>
      </ol>
      <div class="note_cautionOkta">
         <p class="noteContent"> When an AD or Okta password is updated, the user isn't prompted by macOS to update the password for the Wi-Fi connection. Instead, macOS continues to try to connect using the previous password, which can result in an account lockout.</p>
      </div>
      <h2>
         <a name="Configur2"/>Configure Apple iOS device</h2>
      <ol>
         <li>Install and open <span class="wintitle">Apple Configurator</span> from the App Store on your Mac.</li>
         <li>Select <span class="menucascade">
               <span class="uicontrol">File</span>
               <span class="uicontrol">New Profile</span>
            </span>.</li>
         <li>Select the <span class="wintitle">General</span> tab.</li>
         <li> Enter a <span class="uicontrol">Name</span> for the profile (for example, <span class="userinput">Settings for Meraki wireless router</span>).</li>
         <li>Select the <span class="wintitle">Certificates</span> tab.</li>
         <li>Click <span class="uicontrol">Configure</span> and navigate to a directory that contains a valid root certificate.</li>
         <li>Add your root certificate.</li>
         <li>In the <span class="wintitle">Wi-Fi</span> tab, enter values appropriate for your environment. </li>
         <li>In the <span class="wintitle">Trust</span> tab within the Wi-Fi section, choose to trust the root certificate you previously added.<br/>
         </li>
         <li>Select <span class="menucascade">
               <span class="uicontrol">File</span>
               <span class="uicontrol">Save</span>
            </span> and save the file with a <span class="filepath">.mobileconfig</span> extension. If any error occurs, select <span class="uicontrol">Save Anyway</span>. </li>
         <li>Connect your iOS device to the Mac using a USB cable. The device appears in the <span class="wintitle">All Devices</span> view in Apple Configurator.</li>
         <li>From the <span class="wintitle">All Devices</span> view, right-click your device and choose the option to add a profile. Select the profile you previously created and follow the prompts on your Mac and mobile device.</li>
         <li>
            <p>Connect to the Wi-fi network.</p>
         </li>
      </ol>
      <h2>
         <a name="Configur3"/>Configure Android device</h2>
      <ol>
         <li>Install EAP-TTLS root certificate<ol style="list-style-type: lower-alpha;">
               <li>Copy the certificate onto your Android device using a USB connected to your laptop or other means.</li>
               <li>On the device, navigate to <span class="menucascade">
                     <span class="uicontrol">Settings</span>
                     <span class="uicontrol">Security &amp; location</span>
                     <span class="uicontrol">Advanced</span>
                     <span class="uicontrol">Encryption &amp; credentials</span>
                  </span>.</li>
               <li>Under <span class="wintitle">Credential Storage</span>, tap the option to Install from device storage.</li>
               <li>Navigate to the location of the saved certificate.</li>
               <li>Tap the file.</li>
               <li>Enter a name for the certificate and choose <span class="uicontrol">Wi-Fi</span>.</li>
               <li>Tap <span class="uicontrol">OK</span>.</li>
            </ol>
         </li>
         <li>Open your Wi-Fi settings and click on the SSID you want to connect to. If it's not visible, choose the option to <span class="uicontrol">Add network</span> and enter your network SSID name and set the Security type to <span class="uicontrol">802.1x EAP</span>. </li>
         <li>Set the following options:<table style="mc-table-style: url('../../Resources/TableStyles/standard.css');"
                   class="TableStyle-standard"
                   cellspacing="0">
               <col class="TableStyle-standard-Column-Column1"/>
               <col class="TableStyle-standard-Column-Column1"/>
               <thead>
                  <tr class="TableStyle-standard-Head-Header1">
                     <th class="TableStyle-standard-HeadF-Column1-Header1">Field</th>
                     <th class="TableStyle-standard-HeadD-Column1-Header1">Value</th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="TableStyle-standard-Body-Body1">
                     <td class="TableStyle-standard-BodyF-Column1-Body1">
                        <span class="uicontrol">EAP Methods</span>
                     </td>
                     <td class="TableStyle-standard-BodyD-Column1-Body1">TTLS</td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body2">
                     <td class="TableStyle-standard-BodyF-Column1-Body2">
                        <span class="uicontrol">CA certification</span>
                     </td>
                     <td class="TableStyle-standard-BodyD-Column1-Body2">Choose the just installed certificate</td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body1">
                     <td class="TableStyle-standard-BodyF-Column1-Body1">
                        <span class="uicontrol">Identity</span>
                     </td>
                     <td class="TableStyle-standard-BodyD-Column1-Body1">Your Okta username</td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body2">
                     <td class="TableStyle-standard-BodyF-Column1-Body2">
                        <span class="uicontrol">Password</span>
                     </td>
                     <td class="TableStyle-standard-BodyD-Column1-Body2">Your Okta password/MFA</td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body1">
                     <td class="TableStyle-standard-BodyC-Column1-Body1">
                        <p>
                           <span class="uicontrol">Advanced</span>
                        </p>
                     </td>
                     <td class="TableStyle-standard-BodyA-Column1-Body1">
                        <p>Under advanced set the following:</p>
                        <ul>
                           <li>Phase 2 authentication: PAP</li>
                           <li>Anonymous identity: This value is the user's unencrypted identity outside the TLS tunnel. Since the RADIUS agent does not use this currently, you can enter any random value.</li>
                        </ul>
                     </td>
                  </tr>
               </tbody>
            </table>
         </li>
      </ol>
      <p>The device should now be able to connect to the Wi-Fi network.</p>
      <h2>
         <a name="Windows"/>Windows 10 device</h2>
      <ol>
         <li>Navigate to the <span class="uicontrol">Network and Sharing Center</span> and choose to <span class="uicontrol">Set up a new connection or network</span> and then click <span class="uicontrol">Next</span>. </li>
         <li>Choose <span class="uicontrol">Manually connect to a wireless network</span>, then click <span class="uicontrol">Next</span>.</li>
         <li>Enter the SSID of your wireless network as the <span class="uicontrol">Network name</span>. </li>
         <li>Choose <span class="uicontrol">WPA2-Enterprise</span> for the security type. </li>
         <li>Click <span class="uicontrol">Next</span>. </li>
         <li>Click <span class="uicontrol">Change connection settings</span>.</li>
         <li>Select the <span class="wintitle">Security</span> tab. </li>
         <li>Change the network authentication method to <span class="uicontrol">Microsoft: EAP-TTLS</span>.</li>
         <li>Click <span class="uicontrol">Settings</span>.</li>
         <li>In the <span class="wintitle">TTLS Properties</span> page, use the following settings:<table style="mc-table-style: url('../../Resources/TableStyles/standard.css');"
                   class="TableStyle-standard"
                   cellspacing="0">
               <col class="TableStyle-standard-Column-Column1"/>
               <col class="TableStyle-standard-Column-Column1"/>
               <thead>
                  <tr class="TableStyle-standard-Head-Header1">
                     <th class="TableStyle-standard-HeadF-Column1-Header1">Setting</th>
                     <th class="TableStyle-standard-HeadD-Column1-Header1">Value</th>
                  </tr>
               </thead>
               <tbody>
                  <tr class="TableStyle-standard-Body-Body1">
                     <td class="TableStyle-standard-BodyF-Column1-Body1">Enable identity privacy</td>
                     <td class="TableStyle-standard-BodyD-Column1-Body1">anonymous</td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body2"
                      MadCap:conditions="Primary.do-not-publish">
                     <td class="TableStyle-standard-BodyF-Column1-Body2">Trusted Root Certification Authorities</td>
                     <td class="TableStyle-standard-BodyD-Column1-Body2">Check AddTrust External CA Root</td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body1">
                     <td class="TableStyle-standard-BodyF-Column1-Body1">Trusted Root Certification Authorities</td>
                     <td class="TableStyle-standard-BodyD-Column1-Body1">
                        <p>Select the root certificate used to sign the customer EAP-TTLS server certificate. For example:</p>
                        <p>
                           <span class="uicontrol">USERTrust RSA Certification Authority root certificate</span>
                        </p>
                     </td>
                  </tr>
                  <tr class="TableStyle-standard-Body-Body2">
                     <td class="TableStyle-standard-BodyC-Column1-Body2">Within Client authentication</td>
                     <td class="TableStyle-standard-BodyA-Column1-Body2">Choose <span class="uicontrol">Select a non-EAP method for authentication</span> under <span class="wintitle">Client authentication</span>. Choose <span class="uicontrol">Unencrypted password (PAP)</span> from the dropdown list of authentication methods.</td>
                  </tr>
               </tbody>
            </table>
         </li>
         <li>Return to the <span class="wintitle">Network Properties</span> dialog and click <span class="uicontrol">Advanced settings</span>.</li>
         <li>Select <span class="uicontrol">Specify authentication mode</span>. Choose <span class="uicontrol">User authentication</span> from the dropdown list. Click <span class="uicontrol">OK</span>.</li>
         <li>Connect to your RADIUS enabled SSID.</li>
      </ol>
   </body>
</html>
