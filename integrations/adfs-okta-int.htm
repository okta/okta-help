<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:fileTags="Tags/okta-authors.Patrick Calnan" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head>
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <meta name="description" content="Configure MFA for Active Directory Federation Services to securely authenticate ADFS users with Okta MFA." />
    </head>
    <body>
        <h1>MFA for Active Directory Federation Services (ADFS)</h1>
        <p>Install the Okta Multifactor Authentication (MFA) provider for Active Directory Federation Services (ADFS) v. 3.0 and v 4.0. </p>
        <p>This feature allows customers to use ADFS as their Identity Provider (IdP) for applications and Okta for MFA for strong authentication for your applications. See the list of prerequisites and assumptions before you begin installation.  </p>
        <ul>
            <li>
                <MadCap:xref href="#SupportedOS">Supported operating systems</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Supporte">MFA for Active Directory Federation Services (ADFS)</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Tasks">Typical workflow</MadCap:xref>
            </li>
        </ul>
        <div>
            <h2><a name="Before"></a>Before you begin</h2>
            <p>Requirements for installing the Okta Credential Provider for Windows:</p>
            <ul>
                <li>Proxy Configuration: The Okta Credential Provider for Windows doesn't support a discrete proxy configuration but does follow system level proxy configurations.</li>
                <li>The Windows machine used for installation must have an active internet connection with port 443 open.</li>
                <li>The installing account must have administrative rights to install the Okta Windows Credential Provider Agent, Visual C++ Redistributable and .NET 4.0+.</li>
                <li MadCap:conditions="Primary.do-not-publish">Inline enrollment isn't supported. End users must have enrolled their MFA tokens previously, by choosing an MFA option for their account when signing in to Okta the first time or after a reset</li>
            </ul>
        </div>
        <div>
            <h2><a name="SupportedOS"></a>Supported operating systems</h2>
            <p>
                <MadCap:annotation MadCap:createDate="2022-10-24T14:36:20.1238903-04:00" MadCap:creator="Tim Howie" MadCap:initials="TI" MadCap:comment="Windows Server 2008 and 2008 R2 used to be supported, but were removed at their EOL" MadCap:editor="Tim Howie" MadCap:editDate="2022-10-24T14:36:58.6557487-04:00">The</MadCap:annotation> Okta Credential Provider for Windows agent can be installed on the following:</p>
            <ul>
                <li>Windows Server 2019 (v1.3.0 and later)</li>
                <li>Windows Server 2016</li>
                <li>Windows Server 2012</li>
                <li>Windows Server 2012 R2</li>
            </ul>
        </div>
        <MadCap:snippetBlock src="../../Resources/Snippets/integrations/supported-factors-adfs-and-others-common-group.flsnp" />
        <h2><a name="Tasks"></a>Typical workflow</h2>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <thead>
                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">
                        <p>Task</p>
                    </th>
                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">
                        <p>Description</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Download the&#160;agent</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                        <MadCap:snippetText src="../../Resources/Snippets/task steps/Settings_Downloads.flsnp" /> Download the <span class="wintitle">Okta MFA provider for ADFS&#160;agent</span>  from the <span class="wintitle">MFA&#160;Plugins and Agents</span> section to the machine on which to install the agent. See <MadCap:xref href="../Settings/Version_Histories/Ver_History_Okta_MFA_Provider_for_ADFS.htm">Okta ADFS Plugin Version History</MadCap:xref>.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><a href="adfs-okta-int-o-config.htm">Install and configure Microsoft ADFS in Okta </a>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Enable and configure:<ul><li>Required MFA&#160;factors and a target group</li><li>The ADFS application</li><li>Cross-Origin Resource Sharing</li></ul></td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                        <MadCap:xref href="adfs-okta-int-install.htm">Install the Okta ADFS Plugin on your ADFS Server</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Install and configure the ADFS Plugin on the ADFS&#160;server.<p>See <MadCap:xref href="adfs-okta-int-config.htm">Configure MFA for Active Directory Federation Services (ADFS)</MadCap:xref> for more information on ADFS configuration settings. </p></td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
                        <MadCap:xref href="adfs-okta-int-enable-mfa.htm">Enable the Okta MFA Provider in ADFS</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Enable Okta as an&#160;MFA&#160;provider for ADFS.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                        <MadCap:xref href="adfs-okta-int-access-control.htm">Add Access Control Policy to a Relying Party Application</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Add the Access Control Policy to a Relying Party Application.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
                        <MadCap:xref href="adfs-okta-int-assign-app.htm">Assign the Microsoft ADFS (MFA) application</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Assign Okta application to users or groups.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                        <MadCap:xref href="adfs-okta-int-verify.htm">Verify the Okta MFA prompt when logging into ADFS</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Verify that the application behaves as expected. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">
                        <MadCap:xref href="adfs-okta-int-ts.htm">Troubleshooting</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">Troubleshoot the Okta MFA provider for ADFS&#160;agent installation. </td>
                </tr>
            </tbody>
        </table>
        <h3>Post installation and configuration tasks</h3>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 499px;" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <thead>
                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">
                        <p>Task</p>
                    </th>
                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">
                        <p>Description</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                        <MadCap:xref href="adfs-okta-int-enable-oidc.htm">Enable Open ID Connect with existing ADFS installations</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Enable Open ID Connect with existing ADFS installations.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2" MadCap:conditions="">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">
                        <MadCap:xref href="adfs-okta-int-as-service.htm">Enable MFA&#160;as a service for existing installations configured for OIDC</MadCap:xref>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">Enable MFA as a service with existing ADFS installations.</td>
                </tr>
            </tbody>
        </table>
        <div>
            <h2>Additional considerations</h2>
            <ul>
                <li>
                    <MadCap:xref href="adfs-okta-int-farm.htm">Farm addendum </MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="adfs-okta-int-uninstall.htm">Uninstall the Okta ADFS Plugin on your ADFS Server</MadCap:xref>
                </li>
            </ul>
        </div>
    </body>
</html>