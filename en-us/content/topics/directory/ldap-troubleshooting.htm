<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-toc-path="[%=System.LinkedHeader%]|[%=System.LinkedHeader%]" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Use Okta LDAP agent log information or an LDAP browser like Apache Directory Studio to troubleshoot LDAP issues." />
        <meta name="viewport" content="width=device-width, height=device-height" /><title>LDAP integration troubleshooting</title>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <link rel="shortcut icon" href="../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Default/Stylesheets/Components/Print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/stylesheets/styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/stylesheets/tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/stylesheets/mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../Skins/Fluid/stylesheets/print.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.needs-pie
{
	behavior: url('../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../resources/stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <script src="../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
        function openSurvey() {
            window.open('https://surveys.okta.com/jfe/form/SV_e4L0iW8a3tz8Yol?source=' + encodeURIComponent(document.location.href), '_blank');
        }
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://help.okta.com/okta_help.htm?id=csh-index" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <div id="coveo_dev_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.DevOrgId variable">oktanonproduction1il1gtac7</span>
                                    </div>
                                    <div id="coveo_dev_token" style="Display:None"><span class="mc-variable okta-coveo-config.DevSearchToken variable">xxf1de37f5-c8aa-42db-a8ef-0cbf06dfa5e3</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************** Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPublish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <div class="navbar" data-mc-conditions="Primary.live-site-only">
                                            <div class="dropdown" data-test="menuBarCategory" id="documentationMenu" data-mc-conditions="MultiProdPublish.DocMenu">
                                                <button class="dropbtn">Documentation <em class="fa fa-caret-down"></em></button>
                                                <div class="dropdown-content" data-test="menuBarItems">
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=oie-index" data-test="menuBarLink">Identity Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?id=index-admin" data-test="menuBarLink">Classic Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oag&amp;id=ext_oag_main" data-test="menuBarLink">Access Gateway</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=asa&amp;id=csh-asa-overview" data-test="menuBarLink">Advanced Server Access</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=wf&amp;id=ext-Okta-workflows" data-test="menuBarLink">Workflows</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="relnotesMenu" data-mc-conditions="MultiProdPublish.DocMenu">
                                                <button class="dropbtn">Release notes <em class="fa fa-caret-down"></em></button>
                                                <div class="dropdown-content" data-test="menuBarItems">
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oie&amp;id=csh-oie-release-notes" data-test="menuBarLink">Identity Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?id=ext_okta_relnotes" data-test="menuBarLink">Classic Engine</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=oag&amp;id=ext_oag_releasenotes" data-test="menuBarLink">Access Gateway</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=asa&amp;id=ext-asa-releasenotes" data-test="menuBarLink">Advanced Server Access</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/okta_help.htm?type=wf&amp;id=ext-workflows-releasenotes" data-test="menuBarLink">Workflows</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="oktaDevDocsMenu"><a href="https://developer.okta.com/" target="_blank" data-test="menuBarLink">Okta Developer</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="auth0Menu"><a href="https://auth0.com/docs" target="_blank" data-test="menuBarLink">Auth0</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="trainingMenu"><a href="https://www.okta.com/services/training/" target="_blank" data-test="menuBarLink">Training</a>
                                            </div>
                                            <div class="dropdown" data-test="menuBarCategory" id="supportMenu"><a href="https://support.okta.com/help/s/?language=en_US" target="_blank" data-test="menuBarLink">Support</a>
                                            </div>
                                        </div>
                                        <div class="logo_container" id="OktaBanner" data-mc-conditions="Primary.live-site-only"><a class="logo" href="https://help.okta.com/okta_help.htm?id=csh-index" data-test="OktaBanner"><img src="../../resources/images/okta-assets/logo.png" alt="Okta Docs" title="Okta Docs" data-test="OktaBannerImg" /></a>
                                        </div>
                                        <div class="toolbar-main" data-test="toolBar" data-mc-conditions="Primary.live-site-only">
                                            <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                <div class="button-group-container-left">
                                                    <button class="button needs-pie select-language-button" title="Change language">
                                                        <div>
                                                            <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                                <div class="button-icon"> </div>
                                                            </div>
                                                        </div>
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics" data-test="bodyWrapper">
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="oie-label" data-mc-conditions="MultiProdPublish.Classic">
                                                <img class="oie-label" title="Label: Okta Classic Engine content" src="../../resources/images/okta-assets/classic_engine.svg" />
                                            </div>
                                            <div class="body-main" data-test="bodyContent">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>LDAP integration troubleshooting</h1>
                                                    <p>To troubleshoot LDAP issues, obtain an LDAP browser such as <span class="uicontrol">Apache Directory Studio</span>.</p>
                                                    <p>The schema templates are suggestions based on common values. Each LDAP environment is unique and might require you to override the default values with your environment-specific settings. You can use Apache Directory Studio to examine attributes for existing users and groups to verify the template values, or you can select the appropriate setting.</p>
                                                    <p>Changing templates modifies all template default values. Settings that you override aren't changed.</p>
                                                    <h3>Error when you install the agent</h3>
                                                    <p>During agent installation, after clicking <span class="uicontrol">Allow Access</span>, the following error message displays:</p>
                                                    <p style="font-style: italic;">Failed to parse the response from Okta and Unable to register the agent. Error code 12.</p>
                                                    <p>Check the log and look for this entry:</p><span class="msgblock">javax.net.ssl.SSLHandshakeException: java.security.cert.CertificateException: No valid public key found in certificate chain.</span>
                                                    <p>If the log contains this entry,  you're probably attempting to install Java LDAP agent <span class="uicontrol">version 5.3.1</span> or later. Your environment is where the agent's support for SSL certificate pinning prevents communication with the Okta server. This is most likely to occur in environments that rely on <span class="uicontrol">SSL proxies</span>. To allow installation to complete in this case, Okta recommends that you bypass SSL proxy processing by adding the domain <span class="term">okta.com</span> to an allowlist.</p>
                                                    <p>Alternatively, you can choose to disable SSL pinning as described in the following procedures, but doing so disables a security enhancement provided by the agent.</p>
                                                    <p>To disable support for SSL certificate pinning, perform the procedure that's appropriate for your operating system:</p>
                                                    <h4>Windows</h4>
                                                    <p>Install the <span class="mc-variable okta-feature-names.LDAP_agent_short variable">Okta LDAP Agent</span> from a command line.</p>
                                                    <ol>
                                                        <li value="1">On the host server, sign in to <span class="mc-variable okta-variables.ProductName variable">Okta</span> using an <span class="mc-variable okta-variables.ProductName variable">Okta</span> admin account with <span class="uicontrol">super admin</span> permissions, to access the Admin Console.</li>
                                                        <li value="2">Download the <span class="mc-variable okta-feature-names.LDAP_agent_short variable">Okta LDAP Agent</span>:<ol style="list-style-type: lower-alpha;"><li value="1">In the <span class="mc-variable okta-feature-names.Admin_Console variable">Admin Console</span>, go to <span class="menucascade"><span class="uicontrol">Directory</span><span class="uicontrol"> Directory Integrations</span></span>.</li><li value="2">Click <span class="menucascade"><span class="uicontrol">Add Directory</span><span class="uicontrol">Add LDAP Directory</span></span>.</li><li value="3">Review the installation requirements, and then click <span class="uicontrol">Set Up LDAP</span>.</li><li value="4">Click <span class="uicontrol">Download Agent</span> and select <span class="uicontrol">Download EXE Installer</span> and download it to your Windows server.</li></ol></li>
                                                        <li value="3">Open a command line and run this command: <span class="code">OktaADAgentSetup.exe OktaDisableSslPinning=1</span></li>
                                                        <li value="4">Complete the installation:<ol style="list-style-type: lower-alpha;"><li value="1">If the message displays <span class="uicontrol">Do you want to allow the following program to make changes to this computer?</span>, click <span class="uicontrol">Yes</span>.</li><li value="2">Click <span class="uicontrol">Next</span>.</li><li value="3">Accept the license agreement and click <span class="uicontrol">Next</span>.</li><li value="4">Accept the default installation folder location, or click <span class="uicontrol">Browse</span> to select another location, and click <span class="uicontrol">Install</span>.</li><li value="5">Optional. If you want to enable LDAP over SSL (LDAPS), complete <a href="ldap-agent-enable-ldap-ssl.htm" class="MCXref xref">Enable LDAP over SSL</a>, and then continue with this procedure.</li><li value="6">On the LDAP configuration page, enter the following information:<ul><li><span class="uicontrol">LDAP Server—Enter</span> the LDAP host and port in the form of <span class="userinput">host:port</span>. For example: <span class="url">ldap.mycompany.com:389</span>.</li><li><span class="uicontrol">Root DN—The</span> root distinguished name of the DIT from which users and groups are searched.</li><li><span class="uicontrol">Bind DN—The</span> distinguished name of the bind LDAP user that is used to connect to the LDAP directory by the agent.</li><li><span class="uicontrol">Bind Password—The</span> password of the bind distinguished name that is used to connect to the LDAP directory by the agent.</li><li>Optional. <span class="uicontrol">Use SSL connection—Select</span>  if you have enabled LDAP over SSL (LDAPS). (<span class="uicontrol">Note:</span> If you select this without performing the steps in <a href="ldap-agent-enable-ldap-ssl.htm" class="MCXref xref">Enable LDAP over SSL</a>, the error <span class="uicontrol">Failed to connect to the specified LDAP server</span> displays.)</li></ul></li></ol></li>
                                                        <li value="5">Click <span class="uicontrol">Next</span>.</li>
                                                        <li value="6">	Optional. Enter a proxy server for the <span class="mc-variable okta-feature-names.LDAP_agent_short variable">Okta LDAP Agent</span> on the <span class="mc-variable okta-variables.ProductName variable">Okta</span> LDAP Agent Proxy Configuration page, and then click <span class="uicontrol">Next</span>.
                <p>If the LDAP proxy server returns its own schema, issues importing user data can occur when the proxy server schema and LDAP server schemas are different. To avoid data importation issues, make sure that the LDAP proxy server and LDAP server schemas are identical.</p></li>
                                                        <li value="7">To register the <span class="mc-variable okta-feature-names.LDAP_agent_short variable">Okta LDAP Agent</span> with the <span class="mc-variable okta-variables.ProductName variable">Okta</span> service, enter your <span class="mc-variable okta-variables.ProductName variable">Okta</span> subdomain name, and then click <span class="uicontrol">Next</span>.</li>
                                                        <li value="8">On the <span class="uicontrol"><span class="mc-variable okta-variables.ProductName variable">Okta</span> Sign In</span> page, enter the username and password for your <span class="mc-variable okta-variables.ProductName variable">Okta</span> admin account, and then click <span class="uicontrol">Sign In</span>.</li>
                                                        <li value="9">Click <span class="uicontrol">Allow Access</span> to access the <span class="mc-variable okta-variables.ProductName variable">Okta</span> API. <span class="uicontrol">Note</span>: If an error message appears, see <a href="ldap-agent-log-info.htm" class="MCXref xref">Locate the Okta LDAP agent log</a>.</li>
                                                        <li value="10">Click <span class="uicontrol">Finish</span>.</li>
                                                        <li value="11">Configure the LDAP integration settings.</li>
                                                    </ol>
                                                    <p>If you want to re-enable support for SSL certificate pinning if it was disabled:</p>
                                                    <ol>
                                                        <li value="1">Locate and open the <span class="mc-variable _3rd_Party_Integrations.AD variable">Active Directory</span> agent configuration file:<span class="filepath">C:\Program Files (x86)\Okta\Okta AD Agent\OktaAgentSetup.exe.config</span></li>
                                                        <li value="2">Change the SSL pinning enabled setting to True:<span class="code">"SslPinningEnabled" value="True"</span></li>
                                                        <li value="3">Save the configuration file and restart the agent.</li>
                                                    </ol>
                                                    <h4>Linux</h4>
                                                    <ol>
                                                        <li value="1">From a command line, change the SSL pinning enabled setting to false:<span class="code">$ sudo /opt/Okta/OktaLDAPAgent/scripts/configure_agent.sh -sslPinningEnabled false</span></li>
                                                        <li value="2">Save the configuration file and restart the agent.</li>
                                                    </ol>
                                                    <p>If you want to re-enable support for SSL certificate pinning after you have completed installation, open <span class="uicontrol">OktaLDAPAgent.conf</span> and change the SSL pinning enabled setting to <span class="code">true</span>.</p>
                                                    <p>For more information about SSL certificate pinning, see the article by the <a href="https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning">Open Web Application Security Project</a>.</p>
                                                    <h3><a name="ImportLDAPRoleObjects"></a>Difficulty to import LDAP role objects</h3>
                                                    <h4>Use case</h4>
                                                    <p>You created a role in your LDAP directory, but the role isn't imported into Okta when users assigned to the role sign in to Okta, even though JIT is enabled.</p>
                                                    <h5>When does Okta bring LDAP roles into Okta?</h5>
                                                    <p>Okta brings LDAP roles into Okta only during imports, not during JIT. Once brought into Okta, LDAP roles are represented as groups.</p>
                                                    <h5>When does Okta bring LDAP groups into Okta?</h5>
                                                    <p>Okta brings LDAP groups into Okta during imports and JIT.</p>
                                                    <h4>Workarounds</h4>
                                                    <p>If you don't want to import all user accounts into Okta, consider implementing any of the following workarounds in your preview org. If you get the results that you expect, you can then implement the workaround in your production org.</p>
                                                    <h5>Import a group into Okta that has the same membership as a particular LDAP role</h5>
                                                    <ol>
                                                        <li value="1">
                                                            <p>Create a group in LDAP that has the same membership as the role in LDAP that you want to import.</p>
                                                        </li>
                                                        <li value="2">
                                                            <p>Using either JIT provisioning or an LDAP import, bring that group and its membership into Okta and assign it to the desired application or integration.</p>
                                                        </li>
                                                    </ol>
                                                    <h5>Perform an LDAP import into Okta without confirming undesired objects</h5>
                                                    <ol>
                                                        <li value="1">
                                                            <p>In Okta, go to <span class="menucascade"><span class="uicontrol">Directory</span><span class="uicontrol">Directory Integrations</span><span class="uicontrol">LDAP</span><span class="uicontrol">Settings</span><span class="uicontrol">Import Settings</span></span>.</p>
                                                        </li>
                                                        <li value="2">
                                                            <p>In the <span class="uicontrol">Import Matching Rules</span> section, scroll down to <span class="uicontrol">When no match found</span> and select <span class="uicontrol">Manually confirm new user</span>. This ensures that no new user accounts are created in Okta automatically when you run an import.</p>
                                                        </li>
                                                        <li value="3">
                                                            <p>Run an import against your LDAP directory to import the group you created in step 1. Group members are added to the group later when they JIT into Okta.</p>
                                                        </li>
                                                    </ol>
                                                    <h5>Temporarily segregate inactive LDAP accounts</h5>
                                                    <p>If you don't want to perform an import because your LDAP directory contains many inactive user accounts, you can perform the following workaround to identify likely inactive accounts and segregate them before you import:</p>
                                                    <ol>
                                                        <li value="1">
                                                            <p>Run a query against your LDAP directory for the attribute <span class="code">lastlogon</span> (or another attribute that filters for inactive accounts).</p>
                                                        </li>
                                                        <li value="2">
                                                            <p>Move the inactive user objects out of their synchronization container to ensure they aren't introduced into Okta during import. You can move these objects back in after the import is finished.</p>
                                                        </li>
                                                    </ol>
                                                    <h3>LDAP agent installation failure due to FIPS mode configuration</h3>
                                                    <p>The following scenarios provide troubleshooting steps for resolving LDAP agent installation failure caused by FIPS mode configuration.</p>
                                                    <ul>
                                                        <li>
                                                            <p>If the agent installation fails during the interactive flow, rerun the flow and select <span class="userinput">N</span> when prompted to enable FIPS mode.</p>
                                                        </li>
                                                        <li>
                                                            <p>If an error occurs during the agent upgrade process, turn off FIPS mode by adding <span class="code">fipsMode=false</span> to the configuration file, and then rerun the installation command.</p>
                                                        </li>
                                                    </ul>
                                                    <h3>Error when verifying username</h3>
                                                    <p>When verifying your username, you receive the following error: <span class="msgblock">Username: Does not match required pattern</span>.</p>
                                                    <p>The username must be in an email format. Verify that the import settings are set correctly. See <a href="ldap-agent-install-configure.htm">Install and configure the Okta LDAP agent</a>.</p>
                                                    <h3>Error after selecting the SSL checkbox</h3>
                                                    <p>You selected the <span class="uicontrol">Use SSL connection</span> checkbox and you receive the following error: <span class="msgblock">Failed to connect to the specified LDAP server displays.</span></p>
                                                    <p>Make sure that you have enabled LDAP over SSL (LDAPS). See <a href="ldap-agent-enable-ldap-ssl.htm">Enable LDAP over SSL</a>.</p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- div class="toolbar-main">
            <MadCap:topicToolbarProxy data-mc-skin="/Project/Skins/okta-toolbar-no-expand.flskn" style="mc-topic-toolbar-items: ;" />
                </div -->
                                    <!-- *********************** Footer rows ********************************* -->
                                    <div class="footer2" data-test="footer">
                                        <div>
                                            <p class="copyright" data-test="copyrightNotice">©  <span class="mc-variable okta-variables.Year variable">2024</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span>. All Rights Reserved. Various trademarks held by their respective owners.
	</p>
                                        </div>
                                    </div>
                                    <!-- ********************** Scripts ************************************* -->
                                    <script src="../../resources/scripts/js/ignore-dompurify.js">
                                    </script>
                                    <script src="../../resources/scripts/js/app.js">
                                    </script>
                                    <script src="../../resources/scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../resources/scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../resources/scripts/coveo-resources/js/coveo.madcapflare.requirejs.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../resources/scripts/coveo-resources/js/coveo.madcapflare.okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                    <!-- Feedback tab for Qualtrics survey -->
                                    <div id="feedback-tab" data-mc-conditions="Primary.live-site-only"><a id="feedback-link" href="#" onclick="openSurvey();  return false" target="_blank" title="Submit feedback"><div id="feedback-container"><p id="feedback-text" translate="no">Feedback</p></div></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
