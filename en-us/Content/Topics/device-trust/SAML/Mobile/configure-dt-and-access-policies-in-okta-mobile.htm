<!DOCTYPE html>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" lang="en-us" xml:lang="en-us" class="_Skins_okta_html5_topnav_nav_poc" data-mc-search-type="Stem" data-mc-help-system-file-name="okta_help.xml" data-mc-path-to-help-system="../../../../../" data-mc-has-content-body="True" data-mc-searchable="True" data-mc-toc-path="Device Trust|Integrate Okta with VMware for Android and iOS devices|Enforce Device Trust and SSO for mobile devices" data-mc-target-type="WebHelp2" data-mc-runtime-file-type="Topic;Default" data-mc-preload-images="false" data-mc-in-preview-mode="false">
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="typeofcontent" content="documentation" />
        <meta name="audience" content="admin" />
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="description" content="Set up an LDAP integration using the Okta Java LDAP agent to enable Okta authentication using LDAP credentials." /><title>Step 3: Configure Routing Rules, Device Trust, and Client Access Policies in Okta for iOS and Android Devices | Okta</title>
        <meta charset="utf-8" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, height=device-height" />
        <link rel="shortcut icon" href="../../../../Resources/Images/favicon.ico" type="image/x-icon" />
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Google Tag Manager -->
        <!-- End Google Tag Manager -->
        <!-- Pendo Script (Per Chris Bank) -->
        <!-- End Pendo Script -->
        <link href="../../../../../Skins/Default/Stylesheets/Slideshow.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/TextEffects.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Topic.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Default/Stylesheets/Components/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/foundation.6.2.3.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Styles.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Tablet.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../../Skins/Fluid/Stylesheets/Mobile.css" rel="stylesheet" type="text/css" data-mc-generated="True" />
        <link href="../../../../Resources/Stylesheets/okta-main-new-nav.css" rel="stylesheet" type="text/css" />
        <link rel="stylesheet" href="https://static.cloud.coveo.com/searchui/v2.5395/css/CoveoFullSearchNewDesign.css" />
        <style>/*&lt;meta /&gt;*/

.button.select-language-button
{
	-pie-background: linear-gradient(#ffffff, #ffffff);
}

.button.previous-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.button.next-topic-button
{
	-pie-background: linear-gradient(#ffffff, #ececec);
}

.needs-pie
{
	behavior: url('../../../../../Resources/Scripts/PIE-no-motw.htc');
}

</style>
        <link href="../../../../Resources/TableStyles/standard.css" rel="stylesheet" data-mc-stylesheet-type="table" />
        <script src="../../../../../Resources/Scripts/jquery.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/purify.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/require.min.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/require.config.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/foundation.6.2.3_custom.js" type="text/javascript">
        </script>
        <script src="../../../../../Resources/Scripts/plugins.min.js" type="text/javascript" defer="defer">
        </script>
        <script src="../../../../../Resources/Scripts/MadCapAll.js" type="text/javascript" defer="defer">
        </script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-NMZZV4P');
			/* ]]> */
		</script>
        <script>
			/* <![CDATA[ */
			(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
			new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
			j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
			'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
			})(window,document,'script','dataLayer','GTM-KXMLV58');
			/* ]]> */
		</script>
        <script>
		/* <![CDATA[ */
		(function(apiKey){
			(function(p,e,n,d,o){var v,w,x,y,z;o=p[d]=p[d]||{};o._q=o._q||[];
			v=['initialize','identify','updateOptions','pageLoad','track'];for(w=0,x=v.length;w<x;++w)(function(m){
			o[m]=o[m]||function(){o._q[m===v[0]?'unshift':'push']([m].concat([].slice.call(arguments,0)));};})(v[w]);
			y=e.createElement(n);y.async=!0;y.src='https://cdn.pendo.io/agent/static/'+apiKey+'/pendo.js';
			z=e.getElementsByTagName(n)[0];z.parentNode.insertBefore(y,z);})(window,document,'script','pendo');

        pendo.initialize({
            visitor: {
                id:              'VISITOR-UNIQUE-ID'
            },
            account: {
                id:           'ACCOUNT-UNIQUE-ID'
            }
        });
		})('a9bd3885-93ae-46ab-700b-dd29e613c19d');
		/* ]]> */
		</script>
    </head>
    <body>
        <div class="foundation-wrap off-canvas-wrapper">
            <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper="">
                <aside class="off-canvas position-right" role="navigation" id="offCanvas" data-off-canvas="" data-position="right" data-mc-ignore="true">
                    <ul class="off-canvas-drilldown vertical menu off-canvas-list" data-drilldown="" data-mc-back-link="Back" data-mc-css-tree-node-expanded="is-drilldown-submenu-parent" data-mc-css-tree-node-collapsed="is-drilldown-submenu-parent" data-mc-css-sub-menu="vertical menu slide-in-right is-drilldown-submenu" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="True" data-mc-include-back="True" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.drilldown" data-mc-toc="True">
                    </ul>
                </aside>
                <div class="off-canvas-content inner-wrap" data-off-canvas-content="">
                    <div data-sticky-container="" class="title-bar-container">
                        <nav class="title-bar tab-bar sticky" role="banner" data-sticky="" data-options="marginTop:0" style="width:100%" data-sticky-on="only screen and (max-width: 1024px)" data-mc-ignore="true"><a class="skip-to-content fluid-skip showOnFocus" href="#">Skip To Main Content</a>
                            <div class="middle title-bar-section outer-row clearfix">
                                <div class="menu-icon-container relative clearfix">
                                    <div class="central-account-wrapper">
                                        <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                            <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                                <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                            </div>
                                        </div>
                                    </div>
                                    <button class="menu-icon" aria-label="Show Navigation Panel" data-toggle="offCanvas"><span></span>
                                    </button>
                                </div>
                            </div>
                            <div class="title-bar-layout outer-row">
                                <div class="logo-wrapper"><a class="logo" href="https://support.okta.com/help/s/" alt="Okta"></a>
                                </div>
                                <div class="navigation-wrapper nocontent">
                                    <ul class="navigation clearfix" role="navigation" data-mc-css-tree-node-has-children="has-children" data-mc-css-sub-menu="sub-menu" data-mc-expand-event="mouseenter" data-mc-top-nav-menu="True" data-mc-max-depth="2" data-mc-include-icon="False" data-mc-include-indicator="False" data-mc-include-children="True" data-mc-include-siblings="True" data-mc-include-parent="True" data-mc-toc="True">
                                        <li class="placeholder" style="visibility:hidden"><a>placeholder</a>
                                        </li>
                                    </ul>
                                </div>
                                <div class="central-account-wrapper">
                                    <div class="central-dropdown"><a class="central-account-drop"><span class="central-account-image"></span><span class="central-account-text">Account</span></a>
                                        <div class="central-dropdown-content"><a class="MCCentralLink central-dropdown-content-settings">Settings</a>
                                            <hr class="central-separator" /><a class="MCCentralLink central-dropdown-content-logout">Logout</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="nav-search-wrapper">
                                    <div class="nav-search row">
                                        <form class="search" action="#">
                                            <div class="search-bar search-bar-container needs-pie">
                                                <input class="search-field needs-pie" type="search" aria-label="Search Field" placeholder="Search" />
                                                <div class="search-filter-wrapper"><span class="invisible-label" id="search-filters-label">Filter: </span>
                                                    <div class="search-filter" aria-haspopup="true" aria-controls="sf-content" aria-expanded="false" aria-label="Search Filter" title="All Files" role="button" tabindex="0">
                                                    </div>
                                                    <div class="search-filter-content" id="sf-content">
                                                        <ul>
                                                            <li>
                                                                <button class="mc-dropdown-item" aria-labelledby="search-filters-label filterSelectorLabel-00001"><span id="filterSelectorLabel-00001">All Files</span>
                                                                </button>
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                                <div class="search-submit-wrapper" dir="ltr">
                                                    <div class="search-submit" title="Search" role="button" tabindex="0"><span class="invisible-label">Submit Search</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </nav>
                    </div>
                    <div class="main-section">
                        <div class="row outer-row sidenav-layout">
                            <nav class="sidenav-wrapper">
                                <div class="sidenav-container">
                                    <ul class="off-canvas-accordion vertical menu sidenav" data-accordion-menu="" data-mc-css-tree-node-expanded="is-accordion-submenu-parent" data-mc-css-tree-node-collapsed="is-accordion-submenu-parent" data-mc-css-sub-menu="vertical menu accordion-menu is-accordion-submenu nested" data-mc-include-indicator="False" data-mc-include-icon="False" data-mc-include-parent-link="False" data-mc-include-back="False" data-mc-defer-expand-event="True" data-mc-expand-event="click.zf.accordionMenu" data-mc-toc="True" data-mc-side-nav-menu="True">
                                    </ul>
                                </div>
                            </nav>
                            <div class="body-container">
                                <div data-mc-content-body="True">
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NMZZV4P" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Google Tag Manager (noscript) -->
                                    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-KXMLV58" height="0" width="0" style="display:none;visibility:hidden"></iframe>
                                    </noscript>
                                    <!-- End Google Tag Manager (noscript) -->
                                    <!-- Coveo config parameters -->
                                    <div id="coveo_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.OrgId variable">oktaproduction9ounvcxa</span>
                                    </div>
                                    <div id="coveo_rest_uri" style="Display:None"><span class="mc-variable okta-coveo-config.PlatformRestUri variable">https://platform.cloud.coveo.com/rest/search</span>
                                    </div>
                                    <div id="coveo_search_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchPageUrl variable">https://support.okta.com/help/s/global-search/%40uri</span>
                                    </div>
                                    <div id="coveo_token_url" style="Display:None"><span class="mc-variable okta-coveo-config.SearchTokenServiceUrl variable">https://support.okta.com/help/services/apexrest/PublicSearchToken?site=help</span>
                                    </div>
                                    <div id="coveo_dev_org_id" style="Display:None"><span class="mc-variable okta-coveo-config.DevOrgId variable">oktanonproduction1il1gtac7</span>
                                    </div>
                                    <div id="coveo_dev_token" style="Display:None"><span class="mc-variable okta-coveo-config.DevSearchToken variable">xxb48840fe-d60d-4e40-b1d3-522d5a35c384</span>
                                    </div>
                                    <!-- End Coveo config parameters -->
                                    <!-- ************** Coveo Search bar ************************************* -->
                                    <!-- set margin and size in /Content/Resources/Scripts/coveo-resources/css/Coveo.Okta.StandaloneSearchbox.min.css to make room for replacing Flare-generated top-nav with HTML code (see below)-->
                                    <div id="OLC_Coveo_Headline" class="coveo-headline-wrapper" data-mc-conditions="MultiProdPubish.SearchBar">
                                        <div class="slds-p-vertical_small">
                                            <!--Search Bar-->
                                            <div class="slds-grid slds-grid_align-center">
                                                <div id="customSelect" class="CoveoCustomSelect slds-float_right">
                                                </div>
                                                <div id="standaloneSearchbox">
                                                    <div class="CoveoAnalytics" data-search-hub="OktaCommunityFullSearch">
                                                    </div>
                                                    <div class="CoveoTab" data-id="Help" data-caption="Help" style="display:none">
                                                    </div>
                                                    <div class="CoveoSearchbox" data-enable-omnibox="true" data-enable-query-suggest-addon="true">
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="replace_top_nav">
                                        <div class="navbar">
                                            <div class="dropdown" data-mc-conditions="MultiProdPubish.DocMenu">
                                                <button class="dropbtn">Documentation <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://help.okta.com/en-us/Content/Topics/ReleaseNotes/okta-relnotes.htm">Release notes</a>
                                                    </div>
                                                    <div><a href="https://help.okta.com/en-us/Content/index.htm">Product documentation</a>
                                                    </div>
                                                    <div><a href="https://developer.okta.com/documentation" target="_blank">Developer documentation<img src="../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://support.okta.com/help/s/knowledge">Knowledge base</a>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Community <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/questions?language=en_US">Questions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/group/CollaborationGroup/Recent?language=en_US">Discussions</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/events?language=en_US">Webinars</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown">
                                                <button class="dropbtn">Product <i class="fa fa-caret-down"></i></button>
                                                <div class="dropdown-content">
                                                    <div><a href="https://support.okta.com/help/s/ideas" target="_blank">Ideas<img src="../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/productroadmap?language=en_US">Roadmap</a>
                                                    </div>
                                                    <div><a href="https://support.okta.com/help/s/product-hub?language=en_US">Product hub</a>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="dropdown"><a href="https://www.okta.com/services/education-services/" target="_blank">Training<span><img src="../../../../Resources/Images/okta-assets/external-link-icon.svg" style="margin-left: 8px;" /></span></a>
                                            </div>
                                        </div>
                                        <div class="logo_container"><a class="logo" href="https://support.okta.com/help/s/"><img src="../../../../Resources/Images/okta-assets/Logo.png" alt="Okta Support" title="Okta Support" /></a>
                                        </div>
                                    </div>
                                    <!-- **********************  Main content row  ********************** -->
                                    <div class="okta-topics">
                                        <!-- *** Col1: Body Col *** -->
                                        <div>
                                            <div class="is-not-in-mobile">
                                                <!-- Breadcrumbs -->
                                                <div class="nocontent">
                                                    <div class="MCBreadcrumbsBox_0 breadcrumbs" role="navigation" aria-label="Breadcrumbs" data-mc-breadcrumbs-divider="  &gt;  " data-mc-breadcrumbs-count="3" data-mc-toc="True">
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="toolbar-main">
                                                <div class="buttons popup-container clearfix topicToolbarProxy _Skins_okta_toolbar_no_expand mc-component nocontent" style="mc-topic-toolbar-items: ;">
                                                    <div class="button-group-container-left">
                                                        <button class="button needs-pie select-language-button" title="Change language">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Change language">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        <button class="button needs-pie previous-topic-button" title="Previous topic" disabled="true">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Navigate previous">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                        <button class="button needs-pie next-topic-button" title="Next topic" disabled="true">
                                                            <div>
                                                                <div role="img" class="button-icon-wrapper" aria-label="Navigate next">
                                                                    <div class="button-icon"> </div>
                                                                </div>
                                                            </div>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="body-main">
                                                <!-- Main content body -->
                                                <div role="main" id="mc-main-content">
                                                    <h1>Step 3: Configure Routing Rules, <span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span>, and Client Access Policies in Okta for iOS and Android Devices</h1>
                                                    <p class="earlyaccess">This is an Early Access feature. To enable it, in the Okta Admin Console, go to <b>Settings</b> &gt;<b>&#160;Features</b>, and then turn on <b>Workspace1 Device Trust</b> for your mobile platform(s).</p>
                                                    <h2>Prerequisites </h2>
                                                    <p><a href="configure-vidm-idp-okta.htm" class="MCXref xref">Step 1: Configure  VMware Identity Manager as an Identity Provider in Okta</a>
                                                    </p>
                                                    <p><a href="configure-okta-apps-vidm.htm" class="MCXref xref">Step 2: Configure Okta application source in VMware Identity Manager</a>
                                                    </p>
                                                    <p>The Okta Device Trust feature simplifies the administration of conditional access policies for iOS and Android devices in the <span class="mc-variable Mobile.WS1-trademark variable">Workspace™ ONE™</span>+Okta integration. Device Trust and access policies for apps are configured only in the Okta Admin console.</p>
                                                    <p>When iOS or Android Device Trust is configured in Okta, users are redirected to <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span> for authentication using the Mobile SSO (iOS) or Mobile SSO (Android) authentication method. <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span> returns device posture information to Okta in the SAML response.</p>
                                                    <p>The access policies you configure in Okta then determine whether the device must be trusted in order to access the application. If the device is untrusted, a device enrollment page is displayed.</p>
                                                    <p>For the purposes of this integration, you must perform the following tasks to configure the Device Trust feature in the Okta Admin console:</p>
                                                    <ol>
                                                        <li value="1">Configure Okta identity provider routing rules for iOS and Android devices.</li>
                                                        <li value="2">Enable the global Device Trust setting in Okta.</li>
                                                        <li value="3">Configure app sign-on policy rules in Okta.</li>
                                                        <li value="4">Configure Default Access Policy in <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span>.</li>
                                                    </ol>
                                                    <p class="earlyaccess">Verify that the Device SSO Response, Enable Force Authn Request, and Enable Authentication Failure Notification properties in the Okta application source configuration in VMware Identity Manager are set to <span class="uicontrol">Yes</span>. These properties are a requirement for the device trust solution for iOS and Android devices. For more information, see <a href="configure-okta-apps-vidm.htm" class="MCXref xref">Step 2: Configure Okta application source in VMware Identity Manager</a>.</p>
                                                    <h2><a name="config-routing-rules-mobile-devices"></a>Configure Identity Provider Routing rules in Okta for mobile devices</h2>
                                                    <p data-mc-conditions="SnippetConditionsForDevices.iOS and Android">Configure Okta IdP&#160;routing rules for <span class="mc-variable Mobile.mobileplatform variable">iOS</span> and <span class="mc-variable Mobile.UEM-platform variable">Android</span> specifically for this <span class="mc-variable Mobile.VMware variable">VMware</span> <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> +&#160;<span class="mc-variable okta-variables.ProductName variable">Okta</span> integration. When configured, these routing rules work with application sign on policies to redirect authentication requests from  iOS and/or <span class="mc-variable Mobile.UEM-platform variable">Android</span> devices to <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span>. </p>
                                                    <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/dti-idp-routing-rules.png"><img class="MCPopupThumbnail img" data-mc-width="640" data-mc-height="920" src="../../../../Resources/Images/dti-idp-routing-rules_thumb_220_220.png" tabindex="" id="imgthumbnail" /></a>
                                                    </p>
                                                    <ol>
                                                        <li value="1">In the Okta Admin Console, go to <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Identity Providers</span>.</li>
                                                        <li value="2">Click the <span class="uicontrol">Routing Rules</span> tab. </li>
                                                        <li value="3">Click <span class="uicontrol">Add Routing Rule</span>. </li>
                                                        <li value="4">Configure the following:</li>
                                                        <p>
                                                            <table border="1" cellpadding="4" style="height: 60px;mc-table-style: url('../../../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                                                                <col class="TableStyle-standard-Column-Column1" />
                                                                <col class="TableStyle-standard-Column-Column1" />
                                                                <thead>
                                                                    <tr class="TableStyle-standard-Head-Header1">
                                                                        <th class="TableStyle-standard-HeadF-Column1-Header1">Setting</th>
                                                                        <th class="TableStyle-standard-HeadD-Column1-Header1">Action</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr class="TableStyle-standard-Body-Body1">
                                                                        <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol">Rule Name</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body1">Enter a name for the rule you are creating.</td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body2">
                                                                        <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol">IF&#160;User's IP&#160;is</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body2">If appropriate for your implementation, you can specify network zones to which the routing does or does not apply. To specify a zone here, at least one network zone must be defined already in Okta. For more information, see <a href="../../../Security/Security_Network.htm" class="MCXref xref">Network Zones</a>.</td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body1" data-mc-conditions="SnippetConditionsForDevices.iOS and Android">
                                                                        <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol">AND User's device platform is</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body1">
                                                                            <p>Select <span class="uicontrol">Any of these devices </span>and then select <span class="mc-variable Mobile.mobileplatform variable">iOS</span> or <span class="mc-variable Mobile.UEM-platform variable">Android</span>, or both, depending on your implementation.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body2">
                                                                        <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body2"><span class="uicontrol">AND&#160;User is accessing</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body2">
                                                                            <p>Select <span class="uicontrol">Any of the following applications</span> and then enter the application(s) to which you want the routing rule to apply.</p>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body1">
                                                                        <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyF-Column1-Body1"><span class="uicontrol">AND&#160;User matches</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyD-Column1-Body1">
                                                                            <p style="padding-left: 4px;padding-right: 4px;padding-top: 4px;padding-bottom: 4px;">Select the appropriate action:</p>
                                                                            <ul>
                                                                                <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;"><span class="uicontrol">Anything</span>. Specifies any user. This is the default.</li>
                                                                                <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;"><span class="uicontrol">Regex on login</span>. Allows you to enter any valid regular expression based on the user login to use for matching. This is useful when specifying the <span class="noGlossary">domain</span>, or if a user attribute is not sufficient for matching. For details, see <a href="../../../Security/Identity_Provider_Discovery.htm" class="MCXref xref">Identity Provider routing rules</a>.</li>
                                                                                <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;"><span class="uicontrol">Domain list on login</span>. Specify a list of the domains to match; for example, <span class="url">example.com</span>. Do not add the @ symbol to the domain name. You can add multiple domains. Note that it is not necessary to escape any characters.</li>
                                                                                <li style="padding-left: 4px; padding-right: 4px; padding-top: 4px; padding-bottom: 4px;"><span class="uicontrol">User attribute</span>. Select an attribute name in the left list, a type of comparison in the <span class="uicontrol">Starts with</span> list, and then enter a value that you want to match in text field on the right. 
										</li>
                                                                            </ul>
                                                                        </td>
                                                                    </tr>
                                                                    <tr class="TableStyle-standard-Body-Body2" data-mc-conditions="SnippetConditionsForDevices.iOS and Android">
                                                                        <td colspan="1" rowspan="1" width="28%" class="TableStyle-standard-BodyC-Column1-Body2"><span class="uicontrol">THEN Use this identity provider</span>
                                                                        </td>
                                                                        <td class="TableStyle-standard-BodyA-Column1-Body2">Select the Identity Provider you created in Okta for <span class="uicontrol">VMware Identity Manager</span> as detailed in <a href="configure-vidm-idp-okta.htm" class="MCXref xref">Step 1: Configure  VMware Identity Manager as an Identity Provider in Okta</a>.</td>
                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </p>
                                                        <li value="5">Click <span class="uicontrol">Create Rule</span>.</li>
                                                    </ol>
                                                    <h2><a name="enable-device-trust-in-okta"></a>Enable Device Trust settings in Okta</h2>
                                                    <p>This section describes how to enable Device Trust specifically for this  <span class="mc-variable Mobile.VMware variable">VMware</span><span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> +&#160;<span class="mc-variable okta-variables.ProductName variable">Okta</span> integration. When configured, these settings work together with the <a href="#config-routing-rules-mobile-devices">IDP&#160;Routing Rules</a> to redirect authentication requests from iOS and/or Android devices and target applications to Workspace ONE. Other authentication requests are processed through the default routing rule. </p>
                                                    <div>
                                                        <p>Do not disable the Device Trust setting on the <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Device Trust</span> page if you have also configured an app sign-on policy that allows trusted devices (<span class="uicontrol">Applications</span> &gt; <span class="uicontrol"><span class="uicontrol">[app]</span></span> &gt; <span class="uicontrol">Sign On</span>). Otherwise, your Device Trust configuration will be in an inconsistent state. To disable Device Trust for your org, first remove any app sign on policies that contain a Device Trust setting, then disable Device Trust in <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Device Trust</span>.</p>
                                                        <ol>
                                                            <li value="1">In the <span class="mc-variable okta-feature-names.Administrator_dashboard variable">Admin Console</span>, go to <span class="uicontrol">Security</span> &gt; <span class="uicontrol"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span></span>.</li>
                                                            <li value="2">In the <span class="wintitle">iOS Device Trust</span> or <span class="wintitle">Android Device Trust</span> section, click <span class="uicontrol">Edit</span>.</li>
                                                            <li value="3">Select <span class="uicontrol">Enable [iOS or Android]  Device Trust</span>.</li>
                                                            <li value="4">In <span class="wintitle">Trust is established by</span>, select <span style="font-weight: bold;" class="mc-variable Mobile.VMware variable">VMware</span>. </li>
                                                            <li value="5">In <span class="wintitle">Integration type</span>, select <span class="uicontrol">SAML-based (<span style="font-weight: bold;" class="mc-variable Mobile.WS1-UEM-short variable">Workspace ONE UEM</span>+vIDM)</span>.</li>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/dti-enable-dt-ws1.png"><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="790" data-mc-height="289" src="../../../../Resources/Images/dti-enable-dt-ws1_thumb_220_220.png" tabindex="" /></a>
                                                            </p>
                                                            <li value="6">Click <span class="uicontrol">Next</span>. </li>
                                                            <li value="7" data-mc-conditions="SnippetConditionsForDevices.iOS and Android">In <span class="wintitle">Device Identity provider</span>, select the Identity Provider you created in <span class="mc-variable okta-variables.ProductName variable">Okta</span> for <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span> as detailed in <a href="#config-routing-rules-mobile-devices" class="MCXref xref">Configure Identity Provider Routing rules in Okta for mobile devices</a>.</li>
                                                            <li value="8">(Optional) In <span class="uicontrol">the Mobile device management provider</span> field, <span style="font-weight: bold;" class="mc-variable Mobile.WS1 variable">Workspace ONE</span> is pre-populated by default. You can modify this if necessary. The MDM provider you enter here is displayed to end users during device enrollment.</li>
                                                            <li value="9"><a name="In"></a>In the <span class="uicontrol">Enrollment link</span> field, enter a web address where end users with unmanaged devices will be redirected.
				For example, you may want to send these users to a page with enrollment instructions, or the <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> enrollment page. </li>
                                                            <li value="10">Click <span class="uicontrol">Save</span>. </li>
                                                        </ol>
                                                    </div>
                                                    <h2><a name="config-app-signon-policy-in-okta"></a>Configure App Sign On Policy rules in Okta</h2>
                                                    <div>
                                                        <ul>
                                                            <li>Only App, Org, and Super  admins can configure app Sign On policies.</li>
                                                            <li>
                                                                <p>Do not disable the Device Trust setting on the <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Device Trust</span> page if you have also configured an app sign-on policy that allows trusted devices (<span class="uicontrol">Applications</span> &gt; <span class="uicontrol"><span class="uicontrol">[app]</span></span> &gt; <span class="uicontrol">Sign On</span>). Otherwise, your Device Trust configuration will be in an inconsistent state. To disable Device Trust for your org, first remove any app sign on policies that contain a Device Trust setting, then disable Device Trust in <span class="uicontrol">Security</span> &gt; <span class="uicontrol">Device Trust</span>.</p>
                                                            </li>
                                                            <li data-mc-conditions="SnippetConditionsForDevices.iOS and Android">If you ask Okta to disable this Device Trust solution for your org (which is separate from the Device Trust setting that you enabled in <a href="#enable-device-trust-in-okta" class="MCXref xref">Enable Device Trust settings in Okta</a>, make sure to first change the Device Trust setting in the app sign on policy rules to&#160;<span class="uicontrol">Any</span>&#160;(Applications &gt;&#160;app&#160;&gt; Sign On). If you do not make this change and then later have Okta re-enable Device Trust capability for your org, the Device Trust setting in app sign on policy rules will take effect immediately, which you may not have expected.</li>
                                                        </ul>
                                                        <h4>About app sign-on policy rules</h4>
                                                        <p>By default, all Client options in the App Sign On Rule dialog box are pre-selected. To configure more granular access to the app, create rules  that reflect:</p>
                                                        <ul>
                                                            <li>Who users are, or the groups to which they belong</li>
                                                            <li>Whether they are on or off network, or within a defined network zone</li>
                                                            <li>The type of client running on their device  (<span class="mc-variable Mobile.O365 variable">Office 365</span> apps only)</li>
                                                            <li>The platform of their mobile or desktop device</li>
                                                            <li>Whether or not their devices are Trusted</li>
                                                        </ul>
                                                        <div>
                                                            <h4>Taking an allow-list approach to sign-on policy rules</h4>
                                                            <ul>
                                                                <ol>
                                                                    <li value="1">Create one or more Allow rules to support the scenarios that will allow access to the app, then assign those rules the highest priority. </li>
                                                                    <li value="2">Create a Deny catch-all rule that will apply to users who don't match the permissive scenarios you created in Step 1. Assign the Deny catch-all rule the lowest priority, just above the default rule. In the allow-list approach described here, the default rule is never reached because it is effectively negated by the Deny catch-all rule.</li>
                                                                </ol>
                                                                <div class="noteOkta">
                                                                    <p class="noteContent">For important security information about creating app sign-on policy rules, see <a href="../../../Security/policies/about-app-signon-policies.htm" class="MCXref xref">About app sign-on policies</a>.</p>
                                                                </div>
                                                            </ul>
                                                        </div>
                                                        <h3>Procedure</h3>
                                                        <p class="earlyaccess">Note: The allowlist example below shows Device Trust rules for managing access to <span style="font-weight: bold;" class="mc-variable Mobile.O365 variable">Office 365</span>. For other apps, note that the section If the user's client is any of these is not present.</p>
                                                        <ol>
                                                            <li value="1">In the <span class="mc-variable okta-feature-names.Administrator_dashboard variable">Admin Console</span>, go to <span class="uicontrol">Applications</span> &gt; <span class="uicontrol">Applications</span>. </li>
                                                            <li value="2">Click the SAML or WS-Fed-enabled app that you want to protect with Device&#160;Trust.</li>
                                                            <li value="3">Click the <span class="wintitle">Sign On</span> tab.</li>
                                                            <li value="4">Scroll down to the <span class="wintitle">Sign On Policy</span>, and then click <span class="uicontrol">Add Rule</span>.</li>
                                                            <li value="5">Configure one or more rules using the following example allowlist as a guide. </li>
                                                        </ol>
                                                        <div>
                                                            <h3>Example Allowlist</h3>
                                                            <p>Users with untrusted devices are guided through <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> enrollment or redirected to the destination of the Enrollment link configured in <a href="#In">this step</a>.</p>
                                                            <h4><a name="WL-Rule1"></a>
                                                                <MadCap:dropDownHotspot>Example Rule 1: Web browser; Modern Auth; iOS and/or Android; Trusted; Allow access +&#160;MFA </MadCap:dropDownHotspot>
                                                            </h4>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/WS1-integration-beta-rule-1.png"><img class="MCPopupThumbnail img" data-mc-width="638" data-mc-height="898" src="../../../../Resources/Images/WS1-integration-beta-rule-1_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                            </p>
                                                            <ol>
                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                            </ol>
                                                            <ol data-mc-continue="true">
                                                                <li value="2">Under <span class="wintitle">PEOPLE</span>, specify whether to apply the rule to individuals only or to individuals and groups. The option you select must be the same for all the rules you create for this example.</li>
                                                                <li value="3">Under <span class="wintitle">LOCATION</span>, specify the user location to which the rule will apply. The option you select must be the same for all the rules you create for this example.</li>
                                                                <li value="4">Under <span class="wintitle">CLIENT</span>, configure the following settings:</li>
                                                                <p><span class="uicontrol">Web browser</span> selected.</p>
                                                                <p>and / or</p>
                                                                <p><span class="uicontrol"> Modern Auth client</span> selected.</p>
                                                                <p><span class="uicontrol">Exchange ActiveSync client</span> is is unselected.</p>
                                                                <p>Mobile										</p>
                                                                <p><span class="uicontrol">iOS</span> is selected.</p>
                                                                <p>and / or</p>
                                                                <p><span class="uicontrol">Android</span> is selected.</p>
                                                                <p><span class="uicontrol">Other mobile</span> is unselected.</p>
                                                                <p>Desktop</p>
                                                                <p><span class="uicontrol">Windows</span> is unselected.</p>
                                                                <p><span class="uicontrol">macOS</span> is unselected.</p>
                                                                <p><span class="uicontrol">Other desktop</span> is unselected.</p>
                                                                <li value="5">Under <span class="uicontrol">DEVICE&#160;TRUST</span>, configure the following:</li>
                                                                <div>
                                                                    <p><span class="uicontrol">Trusted</span> and <span class="uicontrol">Not trusted</span> options in the <span class="uicontrol"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> </span> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                    <ul>
                                                                        <li>Exchange ActiveSync or Legacy Auth client</li>
                                                                        <li>Other mobile (for example, BlackBerry)</li>
                                                                        <li>Other desktop (for example,  Linux)</li>
                                                                    </ul>
                                                                </div>
                                                                <p><span class="uicontrol">Any</span> is unselected.</p>
                                                                <p><span class="uicontrol">Trusted</span> is selected.</p>
                                                                <p><span class="uicontrol">Not trusted</span> is unselected.</p>
                                                            </ol>
                                                            <ol data-mc-continue="true">
                                                                <li value="6">Configure <span class="uicontrol">Access</span>:</li>
                                                                <p><span class="uicontrol">Allowed</span> is selected.</p>
                                                                <p><span class="uicontrol">Prompt for factor</span> is selected.</p>
                                                                <li value="7">Click <span class="uicontrol">Save</span>.</li>
                                                                <li value="8">Create <span class="uicontrol">Rule 2</span>.</li>
                                                            </ol>
                                                            <h4><a name="WL-Rule2"></a>
                                                                <MadCap:dropDownHotspot>Example Rule 2: Web browser; Modern Auth; All platforms except  iOS and/or Android; Any Trust; Allow access +&#160;MFA </MadCap:dropDownHotspot>
                                                            </h4>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/WS1-integration-beta-rule-2.png"><img class="MCPopupThumbnail img" data-mc-width="609" data-mc-height="1107" src="../../../../Resources/Images/WS1-integration-beta-rule-2_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                            </p>
                                                            <ol>
                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                            </ol>
                                                            <p><span class="uicontrol">Conditions</span>
                                                            </p>
                                                            <ol data-mc-continue="true">
                                                                <li value="2">
										Under <span class="uicontrol">PEOPLE</span>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>.  The option you select must be the same for all the rules you create for this example.</li>
                                                                <li value="3">Under <span class="uicontrol">LOCATION</span>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>.  The option you select must be the same for all the rules you create for this example.</li>
                                                                <li value="4">Under <span class="uicontrol">CLIENT</span>, configure the following settings:</li>
                                                                <p><span class="uicontrol">Web browser</span> selected.</p>
                                                                <p>and / or</p>
                                                                <p><span class="uicontrol"> Modern Auth client</span> selected.</p>
                                                                <p><span class="uicontrol">Exchange ActiveSync client</span> is is unselected.</p>
                                                                <p>Mobile										</p>
                                                                <p><span class="uicontrol">iOS</span> is unselected.</p>
                                                                <p>and / or</p>
                                                                <p><span class="uicontrol">Android</span> is unselected.</p>
                                                                <p><span class="uicontrol">Other mobile</span> is selected.</p>
                                                                <p>Desktop</p>
                                                                <p><span class="uicontrol">Windows</span> is selected</p>
                                                                <p><span class="uicontrol">macOS</span> is selected</p>
                                                                <p><span class="uicontrol">Other desktop</span> is selected</p>
                                                                <li value="5">Under <span class="uicontrol">DEVICE&#160;TRUST</span>, configure the following:</li>
                                                                <div>
                                                                    <p><span class="uicontrol">Trusted</span> and <span class="uicontrol">Not trusted</span> options in the <span class="uicontrol"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> </span> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                    <ul>
                                                                        <li>Exchange ActiveSync or Legacy Auth client</li>
                                                                        <li>Other mobile (for example, BlackBerry)</li>
                                                                        <li>Other desktop (for example,  Linux)</li>
                                                                    </ul>
                                                                </div>
                                                                <p><span class="uicontrol">Any</span> is selected.</p>
                                                                <p><span class="uicontrol">Trusted</span> is unselected.</p>
                                                                <p><span class="uicontrol">Not trusted</span> is unselected.</p>
                                                            </ol>
                                                            <p><span class="uicontrol">Actions</span>
                                                            </p>
                                                            <ol data-mc-continue="true">
                                                                <li value="6">Configure <span class="uicontrol">Access</span>.</li>
                                                                <p><span class="uicontrol">Allowed</span> is selected.</p>
                                                                <p><span class="uicontrol">Prompt for factor</span> is selected.</p>
                                                                <li value="7">Click <span class="uicontrol">Save</span>.</li>
                                                                <li value="8">Create <span class="uicontrol">Rule 3</span>.</li>
                                                            </ol>
                                                            <h4><a name="WL-Rule3"></a>
                                                                <MadCap:dropDownHotspot>Example Rule 3: Web browser; Modern Auth;  iOS and/or Android; Not Trusted; Deny access</MadCap:dropDownHotspot>
                                                            </h4>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/WS1-integration-beta-rule-3.png"><img class="MCPopupThumbnail img imgthumbnail" data-mc-width="640" data-mc-height="721" src="../../../../Resources/Images/WS1-integration-beta-rule-3_thumb_220_220.png" tabindex="" /></a>
                                                            </p>
                                                            <ol>
                                                                <li value="1">Enter a descriptive name for the rule.</li>
                                                            </ol>
                                                            <p><span class="uicontrol">Conditions</span>
                                                            </p>
                                                            <ol data-mc-continue="true">
                                                                <li value="2">
										Under <span class="uicontrol">PEOPLE</span>, select the same People option that you selected in <a href="#WL-Rule1">Rule 1</a>. The option you select must be the same for all the rules you create for this example.</li>
                                                                <li value="3">Under <span class="uicontrol">LOCATION</span>, select the same Location option that you selected in <a href="#WL-Rule1">Rule 1</a>. The option you select must be the same for all the rules you create for this example.</li>
                                                                <li value="4">Under <span class="uicontrol">CLIENT</span>, configure the following settings:</li>
                                                                <p><span class="uicontrol">Web browser</span> selected.</p>
                                                                <p>and / or</p>
                                                                <p><span class="uicontrol"> Modern Auth client</span> selected.</p>
                                                                <p><span class="uicontrol">Exchange ActiveSync client</span> is is unselected.</p>
                                                                <p>Mobile										</p>
                                                                <p><span class="uicontrol">iOS</span> is selected.</p>
                                                                <p>and / or</p>
                                                                <p><span class="uicontrol">Android</span> is selected.</p>
                                                                <p><span class="uicontrol">Other mobile</span> is unselected.</p>
                                                                <p>Desktop</p>
                                                                <p><span class="uicontrol">Windows</span> is unselected.</p>
                                                                <p><span class="uicontrol">macOS</span> is unselected.</p>
                                                                <p><span class="uicontrol">Other desktop</span> is unselected.</p>
                                                                <li value="5">Under <span class="uicontrol">DEVICE&#160;TRUST</span>, configure the following:</li>
                                                                <div>
                                                                    <p><span class="uicontrol">Trusted</span> and <span class="uicontrol">Not trusted</span> options in the <span class="uicontrol"><span class="mc-variable okta-feature-names.Device_Trust variable">Device Trust</span> </span> section are selectable only when all of the following options in the Client section are not selected:</p>
                                                                    <ul>
                                                                        <li>Exchange ActiveSync or Legacy Auth client</li>
                                                                        <li>Other mobile (for example, BlackBerry)</li>
                                                                        <li>Other desktop (for example,  Linux)</li>
                                                                    </ul>
                                                                </div>
                                                                <p><span class="uicontrol">Any</span> is unselected.</p>
                                                                <p><span class="uicontrol">Trusted</span> is unselected.</p>
                                                                <p><span class="uicontrol">Not trusted</span> is selected.</p>
                                                            </ol>
                                                            <p><span class="uicontrol">Actions</span>
                                                            </p>
                                                            <ol data-mc-continue="true">
                                                                <li value="6">Configure <span class="uicontrol">Access</span>.</li>
                                                                <p><span class="uicontrol">Denied</span> is selected.</p>
                                                                <li value="7">Click <span class="uicontrol">Save</span>.</li>
                                                            </ol>
                                                            <h4>Example Rule 4: Default sign on rule – Any client, All platforms; Any Trust; Allow access</h4>
                                                            <p>The Default sign on rule is already created and cannot be edited. In this example, the Default rule is never reached because it is effectively negated by Rule 3. </p>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/SignOnPolicies_DefaultRule.png"><img class="MCPopupThumbnail img" data-mc-width="611" data-mc-height="956" src="../../../../Resources/Images/SignOnPolicies_DefaultRule_thumb_0_250.png" style="mc-thumbnail-max-height: 250px;mc-thumbnail: popup;" tabindex="" /></a>
                                                            </p>
                                                            <div style="line-height:120%;">
                                                                <br />
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <h2><a name="config-default-access-policy-in-vidm"></a>Configure Default Access Policy in <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span></h2>
                                                    <div>
                                                        <p>Update the default access policy in <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span> to include policy rules for iOS and Android devices. The default access policy governs the behavior of the <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> catalog. Configuring mobile SSO policy rules is mandatory as it is part of passing device trust information to apps.</p>
                                                        <p>Create policy rules for iOS and Android with Mobile SSO as the authentication method and with Okta authentication as the fallback method. Also configure the rules for <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> app and Hub app, and Web browser. Make sure that the policy rules are in the correct order.</p>
                                                        <ol>
                                                            <li value="1">Log in to the <span class="mc-variable Mobile.VIDM variable">VMware Identity Manager</span> console as the System administrator.</li>
                                                            <li value="2">Click the <span class="wintitle">Identity &amp; Access Management</span> tab, then click the <span class="wintitle">Policies</span> tab.</li>
                                                            <li value="3">Click <span class="uicontrol">Edit Default Access Policy</span>.</li>
                                                            <li value="4">In the <span class="wintitle">Edit Policy</span> wizard, click <span class="uicontrol">Configuration</span>.</li>
                                                            <li value="5">Click <span class="uicontrol">Add Policy Rule</span> and create a policy rule for iOS devices.
				<ol><li value="1">Set Mobile SSO (iOS) as the first authentication method and Okta authentication as the fallback authentication method.</li><div><p>If a user's network range is: <span class="uicontrol">ALL RANGES</span></p><p>and the user is accessing content from: <span class="uicontrol">iOS</span></p><p>Then perform this action: <span class="uicontrol">Authenticate using</span></p><p>then the user may authenticate using: <span class="uicontrol">Mobile SSO (iOS)</span></p><p>If the preceding method fails or is not applicable, then: <span class="uicontrol">Okta Auth Method</span></p></div><div data-mc-conditions="SnippetConditionsForDevices.iOS and Android">Note: For Okta Auth Method, select the authentication method you created for the Okta IdP in <a href="configure-okta-idp-vidm.htm#complete-create-new-idp" class="MCXref xref">Complete creating a new Identity Provider in VMware Identity Manager</a>.</div><li value="2">Click <span class="uicontrol">Save</span>.</li></ol></li>
                                                            <li value="6">Click <span class="uicontrol">Add Policy Rule</span> and create a similar policy rule for Android devices.<ol><li value="1">Set Mobile SSO (Android) as the first authentication method and <span class="mc-variable okta-variables.ProductName variable">Okta</span> authentication as the fallback authentication method.
							
							
				<div><p>If a user's network range is: <span class="uicontrol">ALL RANGES</span></p><p>and the user is accessing content from: <span class="uicontrol">Android</span></p><p>Then perform this action: <span class="uicontrol">Authenticate using</span></p><p>	then the user may authenticate using: <span class="uicontrol">Mobile SSO (Android)</span></p><p>	If the preceding method fails or is not applicable, then: <span class="uicontrol">Okta Auth Method</span></p></div></li><li value="2">Click <span class="uicontrol">Save</span>.</li></ol></li>
                                                            <li value="7">Configure the policy rule for <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> app and Hub app.<ol><li value="1">Click the policy rule for Workspace ONE app and Hub app to edit it.</li><li value="2">Configure the rule.<div><p>If a user's network range is: <span class="uicontrol">ALL RANGES</span></p><p>and the user is accessing content from: <span class="uicontrol"><span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> app or Hub app</span></p><p>Then perform this action: <span class="uicontrol">Authenticate using</span></p><p>	then the user may authenticate using: <span class="uicontrol">Mobile SSO (for iOS)</span></p><p>	If the preceding method fails or is not applicable, then: <span class="uicontrol">Mobile SSO (for Android)</span></p><p>	If the preceding method fails or is not applicable, then: <span class="uicontrol">Okta Auth Method</span></p></div></li></ol></li>
                                                            <li value="8">Arrange the policy rules in the following order, listed from top to bottom:<ol><li value="1"><span class="mc-variable Mobile.WS1 variable">Workspace ONE</span> app or Hub app				</li><li value="2"><span class="mc-variable Mobile.mobileplatform variable">iOS</span> or <span class="mc-variable Mobile.UEM-platform variable">Android</span></li><li value="3"><span class="mc-variable Mobile.mobileplatform variable">iOS</span> or <span class="mc-variable Mobile.UEM-platform variable">Android</span></li><li value="4">Web browser</li></ol></li>
                                                        </ol>
                                                    </div>
                                                    <h2><a name="recommendations-native-android-apps"></a>Example of how to configure settings for Native Android apps</h2>
                                                    <div>
                                                        <p> To provide the best user experience for users on <span class="mc-variable Mobile.UEM-platform variable">Android</span> devices, you can configure certain settings for the <span class="mc-variable Mobile.UEM-platform variable">Android</span> mobile SSO flow.</p>
                                                        <p>Native <span class="mc-variable Mobile.UEM-platform variable">Android</span> apps require the <span class="mc-variable Mobile.VMware variable">VMware</span> Tunnel to be downloaded and installed on end users' devices. As a best practice for a <span class="mc-variable Mobile.WS1 variable">Workspace ONE</span>+Okta integration environment, configure the Auto deployment setting for each native <span class="mc-variable Mobile.UEM-platform variable">Android</span> app so that the app and tunnel are automatically deployed on users' devices after they enroll. Also enable Managed Access for the apps.</p>
                                                        <p>You configure these settings in the <span class="mc-variable Mobile.VMware variable">VMware</span><span class="mc-variable Mobile.WS1-UEM-short variable">Workspace ONE UEM</span> console.</p>
                                                        <ol>
                                                            <li value="1">In <span class="mc-variable Mobile.WS1-UEM-short variable">Workspace ONE UEM</span>, go to the <span class="uicontrol">Apps &amp; Books</span> &gt; <span class="uicontrol">Applications</span> &gt; <span class="uicontrol">Native</span> page.</li>
                                                            <li value="2">Click the app name.</li>
                                                            <li value="3">Click <span class="uicontrol">Assign</span>.</li>
                                                            <li value="4">Click <span class="uicontrol">Add Assignment</span> to add a new assignment or select the assignment to edit and click <span class="uicontrol">Edit</span>.</li>
                                                            <li value="5">Configure the assignment according to your needs and include the following selections as a best practice:<ul><li>App Delivery Method: <span class="uicontrol">AUTO</span></li><li>Managed Access: <span class="uicontrol">ENABLED</span></li><li>App Tunneling: <span class="uicontrol">ENABLED</span></li></ul></li>
                                                            <div> When you enable App Tunneling, you also need to select the VPN configuration profile to use for the app.</div>
                                                            <p>For example:</p>
                                                            <p><a class="MCPopupThumbnailLink MCPopupThumbnailPopup" href="../../../../Resources/Images/dti-android-native-best-practice.png"><img class="MCPopupThumbnail img" data-mc-width="724" data-mc-height="622" src="../../../../Resources/Images/dti-android-native-best-practice_thumb_220_220.png" tabindex="" id="imgthumbnail" /></a>
                                                            </p>
                                                            <li value="6">Save the assignment.</li>
                                                        </ol>
                                                        <p>After users enroll their devices, the app appears in the catalog. The app icon indicates that the tunnel is included. When users install the app, both the app and the tunnel are installed.</p>
                                                    </div>
                                                </div>
                                                <!-- Back to Top button --><a href="#" class="sf-back-to-top"><span class="arrow"></span>Top</a>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- div class="toolbar-main">
            <MadCap:topicToolbarProxy data-mc-skin="/Project/Skins/okta-toolbar-no-expand.flskn" style="mc-topic-toolbar-items: ;" />
                </div -->
                                    <!-- *********************** Footer rows ********************************* -->
                                    <div class="footer2">
                                        <div>
                                            <p class="copyright">©  <span class="mc-variable okta-variables.Year variable">2022</span> <span class="mc-variable okta-variables.CompanyName variable">Okta, Inc</span>. All Rights Reserved. Various trademarks held by their respective owners.
	</p>
                                        </div>
                                    </div>
                                    <!-- Qualtrics setup to use with script below, replacing getfeedback -->
                                    <div id="ZN_6fGBJ8J3VcIBymN">
                                        <!--DO NOT REMOVE-CONTENTS PLACED HERE-->
                                    </div>
                                    <!-- ********************** Scripts ************************************* -->
                                    <!-- Foundation -->
                                    <script src="../../../../Resources/Scripts/js/ignore-dompurify.js">
                                    </script>
                                    <script src="../../../../Resources/Scripts/js/app.js">
                                    </script>
                                    <script src="../../../../Resources/Scripts/js/vendor/what-input.js">
                                    </script>
                                    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.4.4-rc1/js/foundation.min.js">
                                    </script>
                                    <script type="text/javascript" src="../../../../Resources/Scripts/js/vendor/qualtrics.js">
                                    </script>
                                    <!-- Coveo -->
                                    <script src="https://static.cloud.coveo.com/searchui/v2.5395/js/CoveoJsSearch.Lazy.min.js" defer="defer">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/cultures/en.js" id="coveoCultureScript" defer="defer">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.RequireJS.js" id="coveoRequireScript" defer="defer">
                                    </script>
                                    <script src="../../../../Resources/Scripts/coveo-resources/js/Coveo.MadcapFlare.Okta.js" id="coveoInitscript" defer="defer">
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div><a data-close="true"></a>
                </div>
            </div>
        </div>
    </body>
</html>
