<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Complete the tasks necessary to configure browsers for IWA Single Sign-on on Windows."/>
   </head>
   <body>
      <h1>
         <a name="ConfigWin"/>Configure Windows browsers for SSO </h1>
      <p>Although IWA SSO may work if you choose not to configure your browser, <MadCap:variable name="okta-variables.ProductName"/> recommends that you review the relevant information for your browser type and then configure your browser as described if appropriate for your environment.</p>
      <p> The Microsoft Edge browser is not supported.</p>
      <ol>
         <li>Add your <MadCap:variable name="okta-variables.ProductName"/> tenant URL and the URL of the server that hosts your Desktop SSO IWA Web agent to your trusted zone:
            <div class="noteOkta">
					<p class="noteContent">The URL <span class="term">hostname.companyname.com</span> is the fully qualified domain name of the server in question.  For example,  <span class="codepath">my-iis7-host.corp.acme.com</span>. It is not sufficient for this URL to be listed as a Trusted Site in the Trusted Sites zone.</p>
            </div>
            <p>Most organizations set up a Group Policy to configure this setting in their users' Internet options.</p>
            <ol style="list-style-type: lower-alpha;">
               <li>On your Windows <span class="uicontrol">Control Panel</span>, select <span class="menucascade">
                     <span class="uicontrol">Network and Internet</span>
                     <span class="uicontrol">Internet Options</span>
                     <span class="uicontrol">Security</span>
                     <span class="uicontrol">Local intranet</span>
                     <span class="uicontrol">Sites</span>
                     <span class="uicontrol">Advanced</span>
                  </span>.</li>
               <li>In the <span class="uicontrol">Add this website to the zone</span> field, enter:
							<p>
                     <span class="term">https://hostname.companyname.com</span> or <span class="term">http://hostname.companyname.com</span> and <span class="term">https://_subdomain_.okta.com</span> or <span class="term">https://_subdomain_.okta-emea.com</span> or <span class="term">https://_subdomain_.oktapreview.com</span> or <span class="term">https://_subdomain_.okta-gov.com</span> as appropriate.</p>
               </li>
               <li>Click <span class="uicontrol">Add</span>.</li>
               <li>Click <span class="uicontrol">OK</span> twice to close Internet Options.</li>
            </ol>
         </li>
         <li>Configure your browser:								<p>
               <a id="WinIEWin" name="WinIEWin"/>
               <span class="uicontrol">Windows Internet Explorer</span>
            </p>
            <ol style="list-style-type: lower-alpha;">
               <li>In Internet Explorer select <span class="menucascade">
                     <span class="uicontrol">Tools</span>
                     <span class="uicontrol">Internet Options</span>
                  </span>.</li>
               <li>Click the <span class="uicontrol">Advanced</span> tab, scroll down to the <span class="uicontrol">Security</span> settings, and select <span class="uicontrol">Enable Integrated Windows</span>
                  <span class="uicontrol">Authentication</span>.</li>
               <li>Click <span class="uicontrol">OK</span>.</li>
            </ol>
            <p> Make sure that Internet Explorer can save session cookies (<span class="menucascade">
                  <span class="uicontrol">Internet Options</span>
                  <span class="uicontrol">Privacy</span>
               </span> tab). If it cannot, neither SSO nor standard sign in can work.</p>
            <p>
               <a id="FFWin" name="FFWin"/>
               <span class="uicontrol">Mozilla Firefox</span>
            </p>
            <p>The following configuration permits Firefox to properly pass the Kerberos ticket with IWA, but Firefox still warns the user about the transition from an HTTPS page to an HTTP page. To resolve this issue, deploy IWA in HTTPS mode.</p>
            <ol style="list-style-type: lower-alpha;">
               <li>In the Firefox address bar enter: <font face="courier">about:config</font>
                  <p>In Firefox version 3.x and later, a warning message displays. Click the button to clear the message and proceed.</p>
               </li>
               <li>When the configuration page loads, enter the following in the <span class="uicontrol">Search</span> field:
											<span class="codeblock">network.negotiate-auth.trusted-uris</span>
               </li>
               <li>In this field list the host name of the IWA server(s), separating multiple values with a comma  <span class="codeph">','</span>  if two or more IWA instances are deployed.
							<p>
                     <MadCap:variable name="okta-variables.ProductName"/> recommends that you enter the fully qualified domain name (FQDN) of your IWA host servers. If you do not, you will also need to toggle the following values to TRUE:</p>
                  <p>If you enter more than one host name, the order doesn't matter.</p>
                  <span class="codeblock">network.automatic-ntlm-auth.allow-non-fqdn</span>
                  <span class="codeblock">network.negotiate-auth.allow-non-fqdn</span>
               </li>
               <li>Right click the <span class="uicontrol">Value</span> column for each of the above and toggle the value to <span class="uicontrol">True</span>.</li>
               <li>Click <span class="uicontrol">OK</span>.</li>
            </ol>
            <p>
               <a id="ChromeWin" name="ChromeWin"/>
               <span class="uicontrol">Google Chrome</span>
            </p>
            <p>IWA is automatically enabled on Chrome for Windows and the capability is allowlist-driven. If your browser is asked by a site to provide the Kerberos ticket, the browser only supplies the ticket to the site if the site is on a allowlist.</p>
            <p>The allowlist is provided to the browser at startup using this command-line parameter:</p>
            <span class="codeblock" xml:space="preserve">--auth-server-allowlist=</span>
            <p>For example:</p>
            <span class="codeblock" xml:space="preserve">--auth-server-allowlist="*hostname.companyname.com"</span>
            <p>This tells Chrome that any URL ending in <span class="term">hostname.companyname.com</span>is in the permitted list.  Without the <span class="userinput">'*'</span> prefix, the URL has to match exactly.</p>
            <p> The <span class="term">hostname.companyname.com</span> value refers to the server hosting the <MadCap:variable name="okta-variables.ProductName"/>
               <MadCap:variable name="okta-feature-names.IWA Web agent"/>.</p>
            <p>If the<span class="userinput"> '--auth-server-allowlist'</span> command-line parameter is not specified at startup, the permitted list includes the servers in the Local Machine or Local Intranet security zone. This behavior is consistent with Internet Explorer.</p>
            <p>To start Chrome on Windows and supply this command-line parameter:</p>
            <ol style="list-style-type: lower-alpha;">
               <li>Right click your desktop Chrome icon or select <span class="menucascade">
                     <span class="uicontrol">Start</span>
                     <span class="uicontrol">All Programs</span>
                     <span class="uicontrol">Google Chrome</span>
                  </span> and right click <span class="uicontrol">Google Chrome</span>, and then select <span class="uicontrol">Properties</span>.</li>
               <li>In the <span class="uicontrol">Target</span> field, move the cursor to the end of the existing value and add the text of your new command-line parameter.</li>
               <li>Click <span class="uicontrol">OK</span>.</li>
            </ol>
         </li>
      </ol>
      <h2>Next steps</h2>
      <p>
         <MadCap:xref href="ad-iwa-activate-agent.htm">Activate the [%=okta-variables.ProductName%] IWA Web agent
					</MadCap:xref>
      </p>
   </body>
</html>
