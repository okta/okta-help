<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:conditions="MultiProdPublish.Classic+OIE" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="After installing the OKta LDAP Agent, you configure the integration settings to allow data to be exchanged with Okta." />
    </head>
    <body>
        <h1>Configure LDAP integration settings</h1>
        <p>After installing the <MadCap:variable name="okta-feature-names.LDAP agent short" />, you'll need to configure the integration settings to allow data to be exchanged with <MadCap:variable name="okta-variables.ProductName" />.</p>
        <ol>
            <li>
                <MadCap:snippetText src="../../Resources/Snippets/task steps/Directory_DirectoryIntegrations.flsnp" />
            </li>
            <li>Click the <MadCap:variable name="okta-feature-names.LDAP agent short"></MadCap:variable> marked <span class="uicontrol">Not yet configured</span>.</li>
            <li>Configure the following settings:
<ul><li><span class="uicontrol">LDAP Version</span>: Select an LDAP provider. See <MadCap:xref href="ldap-agent-supported-directories.htm">Supported LDAP&#160;directories</MadCap:xref>.<br />When you select an LDAP&#160;provider, provider-specific configuration values are automatically added. If your LDAP provider is not on the list, complete the configuration fields manually. Confirm the default values are correct. Not all configuration settings must have values.</li></ul><ul><li><span class="uicontrol">Unique Identifier Attribute</span>: An auto-populated value defined by the selected LDAP&#160;provider. This value defines&#160;the&#160;unique immutable attribute of all  imported LDAP objects (users and groups). Only objects possessing this attribute can be imported into your <MadCap:variable name="okta-variables.ProductName" /> org. You can change the auto-populated value during initial setup. <span class="uicontrol">Note:</span> if your LDAP server implements <a href="https://www.ietf.org/rfc/rfc4530.txt">RFC 4530</a>, make sure to enter&#160;<span class="userinput">entryuuid</span>&#160;in this field.&#160;For AD LDS, use&#160;<span class="userinput">objectguid</span>.<br /></li><li><span class="uicontrol">DN Attribute</span>: An auto-populated value defined by the selected LDAP&#160;provider. The attribute on all LDAP objects containing the <span class="uicontrol">Distinguished Name</span> value.</li></ul></li>
            <li>In the <span class="uicontrol">User</span> section, configure the following settings:
<ul><li><span class="uicontrol">User Search Base</span>: Enter the Distinguished Name (DN) of the container for user searches (that is, root of the user subtree).&#160;This is the base DN of the container that holds all users  imported into your <MadCap:variable name="okta-variables.ProductName"></MadCap:variable> org. For example: <span class="userinput">cn=Users, dc=example, dc=com</span>.</li><li><span class="uicontrol">User Object Class</span>: The <span class="term">objectClass</span> of a user that <MadCap:variable name="okta-variables.ProductName" /> uses in its&#160;query&#160;when importing users. For example,&#160;<span class="term">inetorgperson, posixaccount, posixuser</span>.</li><li><a name="AuxObjectClass"></a><span class="uicontrol">Auxiliary Object Class</span>: Optional. Enter a comma-separated list of auxiliary <span class="term">objectClass</span>es to use in <MadCap:variable name="okta-variables.ProductName"></MadCap:variable> import&#160;queries. For example, <span class="term">auxClass1,auxClass2</span>. </li><li><span class="uicontrol">User Object&#160;Filter</span>: An auto-populated value defined by the selected LDAP&#160;provider. The default is <span class="userinput">objectClass</span>&#160;(<span class="code">objectClass=&lt;entered objectClass name&gt;</span>). This must be a valid LDAP&#160;filter.<p>Use standard LDAP search filter notation (RFC 2254). For example: <span class="code">(&amp;(givenName=Bab*)(|(sn=Jensen)(cn=Babs J*)))</span></p><p>The same filter capability is also in place for Group Objects.</p></li></ul><ul><li><span class="uicontrol">Account Disabled Attribute</span>: Enter the attribute that indicates whether or not the user account is disabled  in <MadCap:variable name="okta-variables.ProductName" />. If this attribute equals the value specified in the&#160;<span class="uicontrol">Account Disabled Value</span> field,&#160;the user account is deactivated. </li><li><span class="uicontrol">Account Disabled Value</span>: Enter the value that indicates that the account is locked (for example, <span class="uicontrol">TRUE</span>).</li><li><span class="uicontrol">Password Attribute</span>: Enter the user password attribute.</li><li><span class="uicontrol">Password Expiration Attribute</span>: An auto-populated value when a supported LDAP&#160;provider is selected. If your directory provider is not in the list, see your LDAP server documentation or configuration for the password expiry value. Often, this attribute is  a Boolean value.</li><li><span class="uicontrol">Extra User Attributes</span>: Optional. Enter additional user attributes to import from LDAP.</li></ul></li>
        </ol>
        <ol MadCap:continue="true">
            <li>Complete the <span class="uicontrol">Group</span> or <span class="uicontrol">Role</span> section. Typically, only one of these is used.<p><span class="uicontrol">Group</span></p><ul><li><span class="uicontrol">Group Search Base</span>: Enter the DN of the container for group searches (that is, root of the group subtree) that holds all groups that will be imported into your <MadCap:variable name="okta-variables.ProductName" /> org. For example: <span class="userinput">ou=groups, dc=example, dc=com</span>.</li><li><span class="uicontrol">Group&#160;Object Class</span>: Enter the objectClass of the group that <MadCap:variable name="okta-variables.ProductName" /> uses in its&#160;query&#160;when importing  groups. For example,&#160;<span class="userinput">groupofnames</span>, <span class="userinput">groupofuniquenames</span>, <span class="userinput">posixgroup</span>.</li><li><span class="uicontrol">Group&#160;Object&#160;Filter</span>: An auto-populated value when a supported LDAP&#160;provider is selected.&#160;(objectClass=&lt;entered objectClass name&gt;). </li><li><span class="uicontrol">Member Attribute</span>: The attribute containing all the member DNs.</li><li><span class="uicontrol"><a name="ldapuserattribute"></a>User Attribute</span>: <MadCap:variable name="okta-variables.ProductName" /> uses the member attribute on the group object to determine the user group memberships at runtime. Unless your group object and group filter is explicitly posixGroup and (objectclass=posixGroup), leave the user attribute field empty. If you are using posixGroup, we recommend that you configure the member attribute value to <span class="code">memberUID</span> and the user attribute value to <span class="code">uid</span>.<p>Example 1</p><p>If&#160;the specified group object and group filter is&#160;<span class="term">posixGroup</span>, then enter&#160;<span class="uicontrol">memberUid</span>&#160;in the User Attribute&#160;field.</p><p>Example 2</p><p>If the specified group object and group filter is something other than <span class="uicontrol">posixGroup</span>, then leave the <span class="uicontrol">User Attribute</span>&#160;field blank.</p></li></ul><p><span class="uicontrol">Role</span></p><ul><li><span class="uicontrol">Object Class</span>:&#160;The objectClass of a role.</li><li><span class="uicontrol">Membership Attribute</span>: The attribute of the user object that indicates role membership (that is, containing the role DNs).</li></ul></li>
        </ol>
        <ol MadCap:continue="true">
            <li><a name="ValidateSettings"></a>Configure the following settings in the Validation configuration section:<ol style="list-style-type: lower-alpha;"><li><span class="uicontrol">Example username</span>.<p>When you import users from LDAP, these settings are used to generate the <MadCap:variable name="okta-variables.ProductName" /> username that your users use to sign in to <MadCap:variable name="okta-variables.ProductName" />.</p><div class="noteOkta"><img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Note" alt="Note" /><p class="noteContent"><MadCap:variable name="okta-variables.ProductName" /> requires that valid user names are in an email format. Configuring these options correctly makes sure that your user names satisfy this requirement.</p></div><ul><li><p MadCap:conditions="Primary.do-not-publish"><span class="uicontrol">Custom</span><br />To use a custom username to sign in to <MadCap:variable name="okta-variables.ProductName" />, use the <span class="uicontrol">Custom</span> option and the <MadCap:variable name="okta-variables.ProductName" /> Expression language to map the <MadCap:variable name="okta-variables.ProductName" /> username format. You can preview your changes to validate your mapping expression. Expressions allow you to concatenate attributes, manipulate strings, convert data types, and more. <MadCap:variable name="okta-variables.ProductName" /> supports a subset of the Spring Expression Language (SpEL) functions. Find a comprehensive description of the supported functions under <a href="https://developer.okta.com/docs/reference/okta-expression-language/">Okta Expression Language</a>.</p></li></ul><ul><li><p><span class="uicontrol">Email address</span><br />Select this option if you want your users'&#160;LDAP&#160;email address to be their <MadCap:variable name="okta-variables.ProductName" /> username.&#160;Note: Email addresses must be unique in LDAP.<br />For example, if&#160;email addresses in LDAP are <span class="term">user.name@example.com</span>, and you select the <span class="uicontrol">Email address</span>&#160;<MadCap:variable name="okta-variables.ProductName" /> username format, enter <span class="userinput">user.name@example.com</span>&#160;in the <span class="uicontrol">Username</span> field.</p></li></ul><ul><li><p><span class="uicontrol">Employee Number (employeeNumber)</span><br />Select this option to use a user's employee number as the <MadCap:variable name="okta-variables.ProductName" /> username.</p></li></ul><ul><li><p><span class="uicontrol">Common Name (CN)</span><br />Select this option to use a user's common name as the <MadCap:variable name="okta-variables.ProductName" /> username.</p></li></ul><ul><li><p><span class="uicontrol">User Id (UID)</span><br />Select this option&#160;only if the&#160;UID value in the LDAP directory&#160;is already formatted as an email address. <br />For example, if&#160;the UID in LDAP is already formatted as an email address like&#160;<span class="term">user.name@example.com</span>, and you select the <span class="uicontrol">User Id&#160;(UID)</span>&#160;<MadCap:variable name="okta-variables.ProductName" /> username format, enter <span class="userinput">user.name@example.com</span>&#160;in the <span class="uicontrol">Username</span> field.</p></li></ul><ul><li><p><span class="uicontrol">User Id (UID) + Configurable Suffix</span><br />Select this option only if the UID value in LDAP lacks an email suffix and you want end users to sign in using a configurable email suffix.<br />For example, if the UID in LDAP is&#160;<span class="term">user.1234</span>, and you select the <span class="uicontrol">User Id&#160;(UID)&#160;+ Configurable Suffix</span>&#160;<MadCap:variable name="okta-variables.ProductName" /> username format, enter <span class="userinput">yourconfigurablesuffix.com</span>&#160;in the <span class="uicontrol">Configurable Suffix</span>&#160;field, and enter <span class="userinput">user.1234@yourconfigurablesuffix.com</span>&#160;in the <span class="uicontrol">Username</span> field.</p></li></ul><ul><li><p><span class="uicontrol">User Id (UID) @ Domain</span><br />Select this option only if the UID value in LDAP lacks an email suffix and you&#160;want <MadCap:variable name="okta-variables.ProductName" />&#160;user names to include&#160;your company's domain name as the email suffix.<br />For example, if&#160;the UID in LDAP is&#160;<span class="term">user.1234</span>, and your company's domain name is <span class="term">yourdomainname</span>, and you select the <span class="uicontrol">User Id&#160;(UID)&#160;@ Domain</span>&#160;<MadCap:variable name="okta-variables.ProductName" /> username format, enter <span class="userinput">user.1234@yourdomainname.com</span>&#160;in the <span class="uicontrol">Username</span> field.</p></li></ul></li><ul><li><p><span class="uicontrol">Choose from schema</span><br />Select this option to use a single-value, LDAP&#160;string attribute as the <MadCap:variable name="okta-variables.ProductName" /> username. A&#160;list of available attributes appears when you select this option.</p></li></ul></ol><ol style="list-style-type: lower-alpha;" MadCap:continue="true"><li>Enter a&#160;<span class="uicontrol">Username</span>.<p>Enter the username of a user in the specified&#160;username format. Since the username that you enter uniquely identifies a single user in your LDAP directory, the query that <MadCap:variable name="okta-variables.ProductName"></MadCap:variable> executes will retrieve only your specified&#160;user and the following details about the user. Validate that all returned details are correct.</p><ul><li>Status</li><li>UID</li><li>Unique ID</li><li>Distinguished Name</li><li>Full Name</li><li>Email</li><li>Groups: All the groups of the specified <span class="uicontrol">Group Object Class</span> within the <span class="uicontrol">Group Search Base</span> of which&#160;this user is a member. If the expected&#160;groups are not listed here,&#160;group imports might fail later.</li></ul></li></ol><ol style="list-style-type: lower-alpha;" start="3"><li><a name="TestConfig"></a>Click <span class="uicontrol">Test Configuration</span>.<p>If your configuration&#160;settings are valid, the message <span class="uicontrol">Validation successful!</span>&#160;displays along with information about the returned user object. If there is a problem with your configuration, or if the user is not found, you are prompted&#160;to review your settings.</p></li></ol></li>
        </ol>
        <ol start="7">
            <li>When your settings are successfully validated, click <span class="uicontrol">Next</span> and then <span class="uicontrol">Done</span> to complete LDAP configuration. </li>
        </ol>
        <p style="text-align: left;margin-left: 40px;">After validating your settings, <MadCap:variable name="okta-variables.ProductName" /> begins the LDAP <span class="disableGlossary">schema discovery</span> process.</p>
    </body>
</html>