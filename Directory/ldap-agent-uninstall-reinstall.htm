<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:conditions="MultiProdPublish.Classic+OIE"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Learn how to uninstall or reinstall the LDAP Agent on Windows and Linux while preventing LDAP authentication downtime."/>
   </head>
   <body>
      <h1>Uninstall or reinstall the <MadCap:variable name="okta-feature-names.LDAP agent short"/>
      </h1>
      <p>When you uninstall and reinstall your <MadCap:variable name="okta-feature-names.LDAP agent short"/>, you can remove the existing <MadCap:variable name="okta-variables.ProductName"/> API token. If you are performing an upgrade, you don't need to remove the <MadCap:variable name="okta-variables.ProductName"/> API token. To remove the API token, you must delete the <MadCap:variable name="okta-feature-names.LDAP agent short"/> folder and deactivate and remove your old <MadCap:variable name="okta-feature-names.LDAP agent short"/>.</p>
      <p>To continue using an <MadCap:variable name="okta-feature-names.LDAP agent short"/> and  to avoid down time, you must have at least two agents running before you uninstall one of them.</p>
      <h2>Uninstall the <MadCap:variable name="okta-feature-names.LDAP agent short"/> on Windows</h2>
      <ol>
         <li>On your Windows server, click <span class="menucascade">
               <span class="uicontrol">Start</span>
               <span class="uicontrol">Control Panel</span>
               <span class="uicontrol">Programs</span>
               <span class="uicontrol">Programs and Features</span>
            </span>.</li>
         <li>Select the <MadCap:variable name="okta-feature-names.LDAP agent short"/>, and then click <span class="uicontrol">Uninstall/Change</span>.</li>
         <li>To remove the agent configuration data from the hard drive, on the agent server, go to <span class="uicontrol">C:\Program Files\<MadCap:variable name="okta-variables.ProductName"/>
            </span> and delete the <MadCap:variable name="okta-feature-names.LDAP agent short"/> folder. Deleting this folder removes the agent configuration data and the API token from your hard drive. The API token for the server remains valid in <MadCap:variable name="okta-variables.ProductName"/>, so it is important to remove the configuration data.</li>
      </ol>
      <h2>Uninstall the <MadCap:variable name="okta-feature-names.LDAP agent short"/> on Linux</h2>
      <p>On your Linux server, open a command prompt and run one the following commands:</p>
      <p>
         <span class="term">Debian</span>:
         <span class="code">dpkg --purge OktaLDAPAgent</span>
      </p>
      <p>
         <span class="term">RPM</span>:
         <span class="code">yum remove OktaLDAPAgent</span>
      </p>
      <p>Issuing the remove command removes the agent, all the agent configuration data, and the API token from your hard drive. The API token for the server is still valid in <MadCap:variable name="okta-variables.ProductName"/> so it is important to remove the configuration data.</p>
      <h2>Reinstall the <MadCap:variable name="okta-feature-names.LDAP agent short"/>
      </h2>
      <p>Installing the <MadCap:variable name="okta-feature-names.LDAP agent short"/> does not overwrite the configuration data in the <MadCap:variable name="okta-feature-names.LDAP agent short"/> folder. To reinstall and create a new API token, delete the <MadCap:variable name="okta-feature-names.LDAP agent short"/> folder  before reinstalling the <MadCap:variable name="okta-feature-names.LDAP agent short"/>.</p>
      <ol>
         <li>Install the <MadCap:variable name="okta-feature-names.LDAP agent short"/>. See <MadCap:xref href="ldap-agent-install-configure.htm">Install the [%=okta-feature-names.LDAP agent short%]</MadCap:xref>.</li>
         <li>
                In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Directory Integrations</span>
            </span>.</li>
         <li>Click <span class="uicontrol">LDAP</span> and the <span class="uicontrol">Agents</span> tab.</li>
         <li>Confirm that your reinstalled <MadCap:variable name="okta-feature-names.LDAP agent short"/> appears in the Agent Monitors section and it is connected to <MadCap:variable name="okta-variables.ProductName"/>. A minimum of one <MadCap:variable name="okta-feature-names.LDAP agent short"/> should be online.</li>
         <li>Optional. Revoke the <MadCap:variable name="okta-variables.ProductName"/> API token of the previous <MadCap:variable name="okta-feature-names.LDAP agent short"/>:<ol style="list-style-type: lower-alpha;">
               <li>Under <span class="uicontrol">Agent Monitors</span>, click <span class="uicontrol">Deactivate Agent</span> for the previous <MadCap:variable name="okta-feature-names.LDAP agent short"/> and then click <span class="uicontrol">Deactivate Agent</span> to confirm. Deactivating the agent revokes its API token.</li>
               <li>Click <span class="uicontrol">Delete</span> and then click <span class="uicontrol">Delete Agent</span>.</li>
            </ol>
         </li>
      </ol>
   </body>
</html>
