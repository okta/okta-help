<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="MultiProdPublish.Classic+OIE" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <meta name="description" content="To reduce the risk of service disruptions, plan and prepare for high availability and disaster recovery." />
    </head>
    <body>
        <h1>Plan for high availability and disaster recovery</h1>
        <p>The unique requirements of your org determine how you implement high availability and disaster recovery  processes. These guidelines are intended to help you determine what options are available.</p>
        <p>The <MadCap:variable name="okta-feature-names.AD agent short" /> doesn't perform load balancing. Traffic is directed to the first available agent.</p>
        <p>To get started, you'll need to answer the following questions:</p>
        <ul>
            <li>Who owns your organization's disaster recovery or high availability processes and who needs to be consulted?</li>
            <li>How many data centers do you have?&#160;<ul><li>How are they used?&#160;That is, which ones are live (hot) all the time and which ones are backups (cold)?</li><li>What kind of failover do you want to plan for?&#160;You can have agent redundancy, in the event an individual agent fails. Or you can plan for the failure of an entire data center (that is, all agents in that data center).</li><li>Are the AD domain controllers live all the time?</li><li>Are they actively replicated to?</li><li>Is there a significant latency in replication between the data centers? This can cause replication problems.</li></ul></li>
        </ul>
        <h2>Use case</h2>
        <p>A use case is often the best way to demonstrate how high availability and a good disaster recovery plan can help your organization get the best out of its AD integration. In this use case, Example Corp has three data centers:</p>
        <ul>
            <li>A physical data center in Atlanta that is always available.</li>
            <li>An Amazon AWS data center that is always available.</li>
            <li>A cold backup data center that is used for disaster recovery if the two live data centers are unavailable.</li>
        </ul>
        <p>With the integration, it doesn't matter whether the data centers are physical or virtual instances. They're assigned the same significance. </p>
        <p>If the Atlanta and AWS data centers are always available, and each instance has one or more Okta AD Agents installed, then traffic is routed to the active agents, regardless of their location. </p>
        <p>Any <MadCap:variable name="okta-feature-names.AD agent short" /> installed on the cold data center servers is listed as inactive in the <MadCap:variable name="okta-variables.ProductName" /> <MadCap:variable name="okta-feature-names.Administrator dashboard" />. After 30 days of inactivity, the assigned API tokens expire. If Example Corp needs to route traffic to their cold backup data center, they'll need to reinstall the Okta AD Agents. For this reason, <MadCap:variable name="okta-variables.ProductName" /> recommends that Example Corp install the Okta AD Agents on their cold data center servers when they're needed.</p>
        <p>To determine the number of agents Example Corp should install in each data center, they'll need to consider what their fault tolerance is and what high availability or disaster recovery scenarios they want to prepare for:</p>
        <ul>
            <li>The Atlanta data center experiences full failure, traffic moves to the Amazon AWS data center. If Amazon AWS fails, traffic moves to the cold data center.</li>
            <li>If either Atlanta or Amazon AWS fail, the cold data center is brought online.</li>
        </ul>
        <p>Answering these questions can help you determine a strategy for your AD integration:</p>
        <ul>
            <li>What is your risk tolerance?&#160;</li>
            <li>Are you planning for individual agents, the machines they're installed on, or entire data centers to be unavailable?&#160;</li>
            <li>How do the <MadCap:variable name="okta-variables.ProductName" /> recommendations fit with your existing high availability or disaster recovery procedures?&#160;</li>
        </ul>
    </body>
</html>