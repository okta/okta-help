<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <meta name="description"
            content="Get answers to frequently asked Desktop Single Sign-on (DSSO) questions."/>
   </head>
   <body>
      <h1>Desktop Single Sign-on FAQ</h1>
      <div MadCap:conditions="MultiProdPublish.Classic">
         <h4>Can I run Agentless DSSO and IWA Web App for Desktop SSO at the same time?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>Yes. When both are enabled and the user tries to sign in, Okta first tries authenticating against Agentless DSSO and if that fails, it falls back to the on-prem IWA server.</p>
         </div>
      </div>
      <div>
         <h4>Can I use Agentless DSSO while remote?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>No. You need to be on-network to sign in through Agentless DSSO. However if you're using  a VPN, Agentless DSSO will work.</p>
         </div>
      </div>
      <div>
         <h4>Do I need to open any special ports for this to work?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>No.</p>
         </div>
      </div>
      <div>
         <h4>Do computers need to be domain joined?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>Yes. In order for Agentless DSSO to work, the computer needs to be domain joined.</p>
         </div>
      </div>
      <div>
         <h4>Do I need to install an agent on my machines?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>No. Agentless DSSO removes the need to have any IWA agents on your machines. Instead, the Kerberos validation is done on the <MadCap:variable name="okta-variables.ProductName"/> servers.</p>
         </div>
      </div>
      <div>
         <h4>When troubleshooting I see a 401 error from Okta, does this mean something is failing?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>This is the expected behavior. When the end user goes to the browser and types in <span class="term">&lt;myorg&gt;</span>.okta.com, Okta sees your org has Agentless DSSO enabled and kicks off a 401 authenticate challenge to your KDC which then returns a Kerberos ticket back to Okta.</p>
         </div>
      </div>
      <div>
         <h4>Can I recreate re-write rules?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>No.</p>
         </div>
      </div>
      <div>
         <h4>Does my UPN domain name suffix need to be the same as the AD domain’s primary DNS suffix?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>No. Okta uses the user SID to locate and authenticate the user. So it shouldn't matter if they don't match because the request resolves to the user object using SID.</p>
         </div>
      </div>
      <div>
         <div>
            <h4>Does Agentless DSSO have any rate limits?</h4>
            <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
               <p>The current rate limit for the Agentless DSSO endpoint <span class="code">/login/agentlessDSSO</span> is 1000/minute.  This is double the on-prem rate limit as described in <MadCap:xref href="../Security/API.htm#Concurre">Concurrent Rate Limits</MadCap:xref> because each successful login performs two http commands to the Agentless DSSO endpoint. The number of successful logins per minute will be the same as on-prem IWA.</p>
            </div>
         </div>
      </div>
      <div MadCap:conditions="MultiProdPublish.Classic">
         <h4>Can I use multiple <MadCap:variable name="okta-variables.ProductName"/> IWA Web agents?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>To provide high availability, you can install multiple <MadCap:variable name="okta-variables.ProductName"/> IWA Web agents on separate servers. Installing multiple web agents in close geographical proximity to your users may improve performance when combined with regional load balancing technologies. One example is having DNS netmask ordering enabled.</p>
         </div>
      </div>
      <div MadCap:conditions="MultiProdPublish.Classic">
         <h4 MadCap:conditions="MultiProdPublish.Classic">How do I update the <MadCap:variable name="okta-variables.ProductName"/> IWA Web agent?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p MadCap:conditions="MultiProdPublish.Classic">To get the latest agent release, in the <MadCap:variable name="okta-feature-names.Administrator dashboard"/> go to <span class="menucascade">
                  <span class="uicontrol">Settings</span>
                  <span class="uicontrol">Downloads</span>
               </span>. </p>
            <p MadCap:conditions="MultiProdPublish.Classic">You do not need to uninstall existing agents prior to upgrading to a new agent. The installer keeps copies of all previous configurations, renaming existing Web.config file with a time stamp suffix (for example, web.config.636531690091372202). </p>
            <p MadCap:conditions="MultiProdPublish.Classic">After updating the agent you must port any previous custom edits to the new config file.</p>
            <p MadCap:conditions="MultiProdPublish.Classic">During the upgrade process the agent will not be able to handle requests. Users will see a 404 or 500 error page when IWA agent is being upgraded. In environments with multiple IWA servers, we recommend you manually fail over to a secondary IWA server while the primary is undergoing an upgrade.</p>
         </div>
      </div>
      <div MadCap:conditions="MultiProdPublish.Classic">
         <h4>Can I configure a custom error page for failed IWA sign in?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>You can <a href="../Security/idp-specify-error-page.htm">configure a custom error page</a> to which end users are redirected if <MadCap:variable name="okta-variables.ProductName"/> fails to process their IWA token. This option is useful if you embed <MadCap:variable name="okta-variables.ProductName"/> into your solution and you want to control end-to-end branding to enhance the end user experience. The custom error page you specify applies to all IWA users in your organization. </p>
         </div>
      </div>
      <div class="noteOkta" MadCap:conditions="MultiProdPublish.Classic">
         <p class="noteContent">The custom error page setting does not apply to sign in failures caused by an unknown user or a JIT failure. In these cases, users are redirected to their <MadCap:variable name="okta-variables.ProductName"/> sign-in page.</p>
      </div>
      <div MadCap:conditions="MultiProdPublish.Classic">
         <h4>Why was I redirected to my custom domain after logging in from the subdomain?</h4>
         <div style="padding-left: 5px;padding-right: 5px;padding-top: 5px;padding-bottom: 5px;background-color: #f7f7f7;">
            <p>Users logging into <MadCap:variable name="okta-feature-names.Okta Classic Engine"/> are always routed to their custom domain.</p>
         </div>
      </div>
   </body>
</html>
