<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Jeanette Smith"
      MadCap:conditions="Primary.do-not-publish">
   <head>
      <title>Configure Box | Okta</title>
      <meta name="description"
            content="This content describes how the configuration of the Okta integration with Box can optionally include setting up SSO, configuring personal Box folders, and configuring Box offboarding."/>
   </head>
   <body>
      <h1>Configure Box</h1>
      <p>The configuration of the Okta integration with Box can optionally include setting up SSO, configuring personal Box folders, and configuring Box offboarding.</p>
      <h2>
         <a name="SAML"/>SAML 2.0 and Box</h2>
      <p>Box supports SAML 2.0 for federated single sign-on (SSO). Box SAML supports both service provider (SP) initiated and identity provider (IDP) initiated SAML negotiations, such as initiated by Okta.</p>
      <p>For SP-initiated SAML, a user clicks a deep link that is tied to their Box.com tenant. The link does not enable Box to determine to which IDP the user belongs.  Box displays a sign-in page and if SAML is enabled, the user is only required to enter a username.</p>
      <p>For IDP-initiated SAML, an assertion is sent from Okta when a user tries to access Box by clicking the app icon on the Okta home page.</p>
      <p>
         <img src="../../../Resources/Images/box/box_login_grant_access2.png"
              style="width: 446px;height: 432px;"
              class="new"/>
      </p>
      <h2>
         <a name="Enable"/>Enable SSO</h2>
      <p>Security Assertion Markup Language (SAML) is a standard for logging into applications. This single sign-on (SSO) login standard is more secure and convenient than using a username and password.</p>
      <p>To enable SSO for Box:</p>
      <ol>
         <li>
            <MadCap:snippetBlock src="../../../Resources/Snippets/task steps/Applications_Applications.flsnp"/>
         </li>
         <li>Select Box.com, then select the <span class="wintitle">Sign On</span> tab.</li>
         <li>Select SAML 2.0 and then click <span class="uicontrol">View Setup Instructions</span>.</li>
      </ol>
      <h2>
         <a name="Enable2"/>Enable Okta Provisioning</h2>
      <p>To enable Okta Provisioning for Box:</p>
      <ol>
         <li>
            <p>From Okta, choose <span class="menucascade">
                  <span class="uicontrol">Applications</span>
                  <span class="uicontrol">Applications</span>
                  <span class="uicontrol">Active</span>
               </span> and then select <span class="uicontrol">Box</span>.</p>
         </li>
         <li>
            <MadCap:snippetBlock src="../../../Resources/Snippets/task steps/Applications_Applications.flsnp"/>
         </li>
         <li>
            <p>Select Box.</p>
         </li>
         <li>
            <p>Select the <span class="wintitle">Provisioning</span> tab, then click <span class="uicontrol">Configure API Integration</span>.</p>
         </li>
         <li>
            <p>Select the <span class="uicontrol">Enable API Integration</span> check box and then click <span class="uicontrol">Authenticate with Box</span>.</p>
            <p>The API integration between Okta and Box utilizes Oauth.  This integration makes use of the Box admin credentials in order to perform actions on behalf of Okta.</p>
         </li>
         <li>
            <p>From the Box window, enter your Box admin credentials and then click <span class="uicontrol">Authorize</span>.</p>
            <p>
               <img src="../../../Resources/Images/box/box_login_cred.png"
                    style="width: 484px;height: 392px;"
                    class="new"/>
            </p>
         </li>
         <li>
            <p>Click Grant access to Box to complete the authorization process.</p>
            <p>
               <img src="../../../Resources/Images/box/box_login_grant_access.png"
                    style="width: 484px;height: 512px;"
                    class="new"/>
            </p>
         </li>
         <li>
            <p>From the <span class="wintitle">Provisioning</span> tab, click <span class="uicontrol">Save</span>.</p>
         </li>
         <li>
            <p>Select <span class="uicontrol">To App</span> in the <span class="wintitle">Settings</span> panel and then click Edit.</p>
         </li>
         <li>
            <p>Enable desired provisioning features and then click <span class="uicontrol">Save</span>.</p>
            <p>To learn more about the Create Users option, see <MadCap:xref href="#Create">Configure personal Box folders</MadCap:xref>.</p>
            <p>To learn more about the Deactivate Users option, see <MadCap:xref href="#Deactiva">Configure Box offboarding</MadCap:xref>.</p>
            <p>
               <img src="../../../Resources/Images/box/box_ToApp_enable.png"
                    style="width: 677px;height: 600px;"
                    class="new"/>
            </p>
         </li>
      </ol>
      <h3>
         <a name="Create"/>Configure personal Box folders</h3>
      <p>When you provision new-user accounts in Box, Okta enables you to automatically create a personal shared folder for your users.</p>
      <p>To configure personal Box folders:</p>
      <ol>
         <li>
            <p>From the <span class="wintitle">Provisioning</span> tab, ensure that <span class="uicontrol">Create Users</span> is enabled.</p>
         </li>
         <li>
            <p>Select the <span class="uicontrol">Create personal Box folder when new user account is provisioned</span> check box.</p>
         </li>
         <li>
            <p>From the <span class="uicontrol">Owner of the Box Personal Folder</span> drop-down, choose the desired owner.</p>
            <ul>
               <li>
                  <p>Admin as Owner (default) — For this option, the owner of the Box personal folder is the Box admin who authenticated Okta to the Box API. This admin is assigned to the newly provisioned user account having a permission level either as editor or co-owner. For this option, you also need to specify in the Full path to parent folder where you want the folder to be created in your Box tenant (example: <span class="userinput">All Files/Parent Folder</span>).</p>
                  <p>
                     <img src="../../../Resources/Images/box/box_create_personal_box_folder.png"
                          style="width: 729px;height: 536px;"
                          class="new"/>
                  </p>
               </li>
               <li>
                  <p>User as Owner — For this option, the owner of the folder is the  user provisioned to Box. You do not to need to specify a folder path as the folder is created in the user's root directory. This option prevents the Box admin from being the owner of a large number of folders, thus preventing any errors caused by the admin being the owner of too many folders.</p>
                  <p>
                     <img src="../../../Resources/Images/box/box_create_personal_box_folder2.png"
                          style="width: 734px;height: 427px;"
                          class="new"/>
                  </p>
               </li>
            </ul>
         </li>
         <li>
            <p>Specify the personal folder name format.</p>
            <p>Both the Admin as Owner and the User as Owner folder-creation methods enable you to create a personal folder with a name based on the personal folder name format setting. By default, this setting is set to use the Okta Username Prefix, but you can create custom expressions with the help of the Okta Expression Language.</p>
            <ol style="list-style-type: lower-alpha;">
               <li>
                  <p>From the <span class="uicontrol">Personal folder name format</span> drop-down, select <span class="uicontrol">Custom</span> and then click <span class="uicontrol">custom expression</span>.</p>
                  <p>
                     <img src="../../../Resources/Images/box/box_create_user_cust_exp.png"
                          style="width: 778px;height: 498px;"
                          class="new"/>
                  </p>
               </li>
               <li>
                  <p>From the <span class="wintitle">Custom Field Mapping Expressions</span> dialog, specify the desired  personal folder name format.</p>
                  <p>
                     <img src="../../../Resources/Images/box/box_folder_name_format.png"
                          class="new"/>
                  </p>
               </li>
            </ol>
         </li>
      </ol>
      <h3>
         <a name="Deactiva"/>Configure Box offboarding</h3>
      <p>Okta deactivates a user's Box account when the user is deactivated in Okta. In Box, you can delete an account. To do this, sign into Box as an administrator  which allows content associated with the user to be transferred to another user. Okta does not delete the user. Okta sets the user to an inactive state, allowing administrators to clean things up before deciding on whether a deletion is necessary. When you set users to a deactivated state, they cannot access their Box accounts.</p>
      <p>To configure Box offboarding:</p>
      <ol>
         <li>
            <p>From the <span class="wintitle">Provisioning</span> tab, ensure that <span class="uicontrol">Deactivate Users</span> is enabled.</p>
         </li>
         <li>
            <p>From the <span class="uicontrol">Box user status on deactivation</span> drop-down, select <span class="uicontrol">Deleted</span>.</p>
            <p>
               <img src="../../../Resources/Images/box/box_deactivate_users.png"
                    class="new"/>
            </p>
         </li>
         <li>
            <p>From the <span class="wintitle">File management upon user deletion</span> drop-down, choose the desired option.</p>
            <p>
               <img src="../../../Resources/Images/box/box_file_mgmt_delete.png"
                    class="new"/>
            </p>
            <ul>
               <li>
                  <p>
                     <span class="uicontrol">Transfer user's files to account user</span> — For a deleted user, this file-management option transfers the user files to an account user. Next, you need to enter a valid, active Box account in the Box email address of service account user field to which the user files will be transferred when they are deactivated.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">Do not delete users with files, create manual de-provisioning task</span> — If this option is selected, users marked for deactivation will only be deleted from Box if they have no files stored in their Box account.  Users marked for deactivation that do have files stored in their Box accounts will instead be left active and in tact, and an Okta dashboard task will be generated (<span class="menucascade">
                        <span class="uicontrol">Dashboard</span>
                        <span class="uicontrol">Tasks</span>
                     </span>) to alert the Okta administrator that manual action is needed to de-provision the user.</p>
               </li>
               <li>
                  <p>
                     <span class="uicontrol">Delete all files - are you sure?</span> — When a user account is deactivated, this  file-management option permanently deletes the user account, including all the account files.</p>
               </li>
            </ul>
         </li>
      </ol>
   </body>
</html>
