<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Mark Cowan">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Prerequisites for integrating Hybrid Azure AD join</h1>
        <p>To integrate Hybrid Azure AD Join with Okta, you must fulfill the following prerequisites. These prerequisites are divided into two categories:</p>
        <ol>
            <li>
                <p>
                    <MadCap:xref href="#Prerequi">Prerequisites in Microsoft environment</MadCap:xref>
                </p>
            </li>
            <li>
                <p>
                    <MadCap:xref href="#Prerequi2">Prerequisites in Okta environment</MadCap:xref>
                </p>
            </li>
        </ol>
        <h2><a name="Prerequi"></a>Prerequisites in the Microsoft environment</h2>
        <ul>
            <li>
                <p>Windows Server 2016 or later.</p>
            </li>
            <li>
                <p>One or more servers within the same domain that collectively host all of the following functions:</p>
                <ul>
                    <li>The Domain Controller.</li>
                    <li>Active Directory.</li>
                    <li>Intune Connector for Active Directory. Intune Connector is a local service that is installed from Azure to facilitate creation of Hybrid-joined machines joining from Azure on the local domain.</li>
                    <li>DNS server or service that is accessible through the internet. This allows the off-prem client machine to resolve your local domain in order to register the client there.</li>
                    <li>Group Policy Objects (GPOs). A GPO is a component of Group Policy that can be used as a resource in Microsoft systems to control user accounts and user activity. Okta uses GPOs to set registry entries on on-prem Windows 10 clients, which allows AAD Connect to sync them to Azure AD.</li>
                </ul>
            </li>
            <div class="noteOkta">
                <p class="noteContent">Agentless or Integrated Windows Authentication (IWA) is required for the Kerberos endpoints.</p>
            </div>
        </ul>
        <ul>
            <li>
                <p>Azure Active Directory (AAD)</p>
                <ul>
                    <li>AAD tenant with Premium Plan 1 or 2</li>
                    <li>AAD Connect: AAD Connect is a sync agent that bridges the gap between on-premises Active Directory and Azure AD. It’s responsible for syncing computer objects between the environments.</li>
                </ul>
            </li>
        </ul>
        <ul>
            <li>
                <p>Microsoft 365 domain and licenses</p>
                <ul>
                    <li>Registered Microsoft 365 domain name to be used with federation</li>
                    <li>Microsoft 365 license with AAD and MDM services: Microsoft license that provides access to Azure AD, Windows Autopilot, and Mobile Device Management (MDM) solutions such as Microsoft Intune. Some of such licenses are:<ul style="list-style-type: circle;"><li>Microsoft 365 Business</li><li>Microsoft 365 F3</li><li>Microsoft 365 E3 or E5</li><li><p>Microsoft 365 A3 or A5</p></li><li>Enterprise Mobility &amp; Security E3 or E5</li></ul></li>
                </ul>
            </li>
        </ul>
        <h3>Suggested add-ons</h3>
        <ul>
            <li>
                <p>Windows Autopilot</p>
                <p>Windows Autopilot by Microsoft allows you to set up, reset, recover, and repurpose Windows devices without touching the device. It involves minimal efforts from end users and IT administrators. See <a href="https://docs.microsoft.com/en-us/mem/autopilot/">Windows Autopilot documentation</a> (Microsoft docs).</p>
            </li>
        </ul>
        <ul>
            <li><span class="uicontrol" style="font-weight: normal;">Mobile Device Management (MDM) solution</span>
                <p>You can choose from several MDM solutions. Here are a few commonly used MDM solutions:</p>
                <ul>
                    <li>Microsoft Intune: Microsoft Intune is a cloud-based service for mobile device management (MDM) and mobile application management (MAM). You can integrate Intune with Azure Active Directory (Azure AD) to control who can access your Microsoft resources, and to what extent. See <a href="https://docs.microsoft.com/en-us/mem/intune/fundamentals/">Microsoft Intune fundamentals</a> (Microsoft docs).</li>
                    <li>VMware Workspace ONE (including Airwatch): VMware Workspace ONE is a digital workspace platform that allows you to securely deliver and manage apps on remote devices. See <a href="https://docs.vmware.com/en/VMware-Workspace-ONE/index.html">VMware Workspace ONE Documentation</a> (VMware docs).</li>
                </ul>
            </li>
        </ul>
        <ul>
            <li>
                <p style="font-weight: normal;">Windows 10 Client</p>
                <p>Windows 10 Client version 1803 or above. For testing purposes, we recommend using a non-domain joined device.</p>
            </li>
        </ul>
        <h2><a name="Prerequi2"></a>Prerequisites in the Okta environment</h2>
        <ul>
            <li>
                <p>Integrate On-Premise Active Directory with Okta.</p>
                <p>Refer to the <MadCap:xref href="../../../Directory/ad-agent-main.htm">Active Directory integration</MadCap:xref> guide to configure the AD Agent and import your users and groups. For new integrations, ensure that the appropriate users and groups are now imported and confirmed within Okta.</p>
            </li>
        </ul>
        <ul>
            <li>
                <p>Integrate Azure AD tenant with Okta.</p>
                <p>Use the Microsoft Office 365 app in Okta to integrate your Azure AD tenant with Okta. See <MadCap:xref href="../../../Apps/Office365-Deployment/deploy-main.htm">Typical workflow for deploying Microsoft Office 365 in Okta</MadCap:xref>. </p>
                <p>Use the following options while integrating:</p>
                <ul>
                    <li>
                        <p>While configuring single sign-on, choose <span class="uicontrol">WS-Federation (automatic or manual)</span> method.</p>
                    </li>
                    <li>
                        <p>If you’re using Okta for provisioning, set the <span class="uicontrol">Provisioning Type</span> to either <span class="uicontrol">Licenses/Role Management Only</span> or <span class="uicontrol">Profile Sync</span>. The other options - User Sync and Universal Sync - aren’t compatible with Azure AD Connect, which is necessary for a Hybrid setup.</p>
                    </li>
                    <li>
                        <p>While configuring profile mapping during provisioning, set the <span class="uicontrol">Application Username format</span> field to match the username your users will use to sign into their devices. This is usually the Azure AD User Principal Name.</p>
                    </li>
                </ul>
            </li>
        </ul>
        <h2>Next steps</h2>
        <p>
            <MadCap:xref href="modify-o365-sign-on.htm">Configure Office 365 sign-on rules to allow on-prem and cloud access</MadCap:xref>
        </p>
    </body>
</html>