<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Jeanette Smith" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1><a name="Enable2"></a>Enable Salesforce provisioning</h1>
        <div class="noteOkta">
            <p class="noteContent">You can upgrade to the latest version of our Salesforce integration that uses OAuth authentication for Provisioning and Imports. This new version is the default version for new orgs. For more information, see <MadCap:xref href="sfdc-configure-provisioning-REST.htm">Configure OAuth and REST&#160;integration</MadCap:xref>.</p>
            <p class="noteContent">SOAP/REST&#160;integrations:&#160;REST functionality creates a complete profile for a user while legacy SOAP user creation is a multi-step process. Therefore all data/data types must be accurate or user profile creation may not take place. Take particular care with attributes for IDs (such as <span class="code">employeeID</span>, <span class="code">managerID</span>, and so forth). See <a href="https://developer.salesforce.com/docs/atlas.en-us.218.0.object_reference.meta/object_reference/sforce_api_objects_user.htm">Object Reference for Salesforce and Lightning Platform</a> for more details and troubleshooting.</p>
        </div>
        <p>To allow user and group data to be shared between <MadCap:variable name="okta-variables.ProductName" /> and Salesforce, you need to configure the provisioning settings. </p>
        <H2>Prerequisites</H2>
        <ul>
            <li>
                <p> A Salesforce account username and password and the token. In future, if you reset the account password, Salesforce provides you with a new token and you'll need to edit the Salesforce provisioning settings.</p>
            </li>
            <li>
                <p>A custom user profile in Salesforce (needed for both REST&#160;and SOAP integrations). Once you have created a custom profile in the Salesforce portal, edit the profile's Administrative Permissions to enable the following:</p>
                <ul>
                    <li>
                        <p>API&#160;Enabled.</p>
                    </li>
                    <li>
                        <p>Manage Users: Enabling this option automatically enables the following:&#160;Assign Permission Sets, Manage Internal UsersManage IP Addresses, Manage Login Access Policies, Manage Password Policies, Manage Profiles and Permission Sets, Manage Roles, Manage Sharing, Reset User Passwords and Unlock Users, View All Users, View Roles an, Hierarchy, View Setup and Configuration.</p>
                    </li>
                </ul>
                <p>See also&#160;Salesforce <a href="https://help.salesforce.com/s/articleView?id=sf.users_profiles_cloning.htm&amp;type=5">Create or Clone Profiles</a> documentation.</p>
                <div class="noteOkta">
                    <p class="noteContent">Assign the permissions directly to the profile. Don't add the permissions through permission sets.</p>
                </div>
            </li>
        </ul>
        <H2>Configure provisioning</H2>
        <ol>
            <li>Create an administrator account in Salesforce.</li>
            <li>
                <MadCap:snippetBlock src="../../../Resources/Snippets/task steps/Applications_Applications.flsnp" />
            </li>
            <li>In the search field, enter Salesforce and click Salesforce.com.</li>
            <li> Click the <span class="uicontrol">Provisioning</span> tab and click <span class="uicontrol">Configure API Integration</span>.</li>
            <li>Select the <span class="uicontrol">Enable API integration</span> check box.</li>
            <li>
                <p>Choose one of the following options, depending on your configuration.</p>
                <ul>
                    <li>Enter your Admin Credentials. Complete the <span class="uicontrol">Username</span> and <span class="uicontrol">Password + Token</span> fields. Do not add spaces or other characters between the password and token. </li>
                    <div class="noteOkta">
                        <ul style="list-style-type: square;">
                            <li>To avoid breaking the integration when the password is reset, use a dedicated API account for connecting Okta to Salesforce.</li>
                            <li>Do not enable delegated authentication in Salesforce for the API user specified here.</li>
                        </ul>
                    </div>
                    <li>If your instance is configured to use OAuth, enter your <span class="uicontrol">OAuth Consumer Key</span> and <span class="uicontrol">OAuth Consumer Secret</span>, then click <span class="uicontrol">Authentication with Salesforce.com</span>. See <MadCap:xref href="sfdc-configure-provisioning-REST.htm">Configure OAuth and REST&#160;integration</MadCap:xref> for more details.</li>
                </ul>
            </li>
            <li>
                <p>Optional. Select the <span class="uicontrol">Allow Pushing Null Values</span> check box to allow null values to be pushed from Salesforce to <MadCap:variable name="okta-variables.ProductName" />.</p>
            </li>
            <li>Optional. Click <span class="uicontrol">Test API Credentials</span> to test the API&#160;integration.</li>
            <li>Click <span class="uicontrol">Save</span>.</li>
            <li>Optional. To edit the <MadCap:variable name="okta-variables.ProductName" /> to Salesforce provisioning settings, select <span class="uicontrol">To App</span> in the  <span class="uicontrol">SETTINGS</span> list and then click <span class="uicontrol">Edit</span>.</li>
            <li>
                <MadCap:snippetBlock src="../../../Resources/Snippets/task steps/Click_Save.flsnp" />
            </li>
            <li>
                <p>Optional. To edit the Salesforce to  <MadCap:variable name="okta-variables.ProductName" /> provisioning settings, select <span class="uicontrol">To Okta</span> in the  <span class="uicontrol">SETTINGS</span> list and then click <span class="uicontrol">Edit</span>.</p>
            </li>
            <li>Click <span class="uicontrol">Save</span>.</li>
            <li>Assign users to Salesforce. See <MadCap:xref href="../../users-groups-profiles/usgp-assign-apps.htm">Assign applications to users</MadCap:xref>.</li>
        </ol>
    </body>
</html>