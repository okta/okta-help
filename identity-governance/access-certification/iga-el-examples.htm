<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Naini Khajanchi">
    <head>
        <link href="../../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%]</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Use Okta Expression Language (EL) to specify users and reviewers for an access certification campaign." />
    </head>
    <body>
        <h1>Examples of <MadCap:variable name="okta-feature-names.Okta EL" /></h1>
        <p><MadCap:variable name="okta-feature-names.Okta EL" /> (EL) allows super admins and access certifications admins to reference, transform, and combine user attributes and group information. While creating or modifying an access certification campaign, you can use <MadCap:variable name="okta-feature-names.Okta EL" /> expressions to take the following actions:
</p>
        <ul>
            <li>Restrict your campaign to a subset of users</li>
            <li>Customize reviewers for each user</li>
        </ul>
        <h3><a name="Tips"></a>Tips</h3>
        <ul>
            <li>Review the <a href="https://developer.okta.com/docs/reference/okta-expression-language-in-identity-engine/" target="_blank"><MadCap:variable name="okta-feature-names.Okta EL" /></a> documentation to familiarize yourself with the syntax.</li>
            <li>Use the ternary operator <span class="code">[Condition] ? [Value if TRUE] : [Value if FALSE]</span> to build conditions for defining the dynamic reviewers.</li>
            <li>Ensure that your expression evaluates to a boolean when defining users:<ul style="list-style-type: circle;"><li>True to include the users.</li><li>False to exclude them from the campaign.</li></ul></li>
            <li>Do the following tasks when you define reviewers:<ul style="list-style-type: circle;"><li>Ensure that your expression evaluates to either the user ID or the username of a single <MadCap:variable name="okta-variables.ProductName" /> user. If the expression doesn’t, the system assigns the Fallback reviewer defined in the campaign builder to review all items for that user.</li><li>It’s helpful to think of reviewer logic into IF/THEN terms for each user when building your expressions. For example, for user A, if condition P is true, then assign reviewer B.</li></ul></li>
            <li>Start with simple expressions and gradually add in conditions to make sure that your expression works as expected.</li>
            <li>Test your expression using the <span class="uicontrol">Preview</span> functionality on the <span class="wintitle">Users</span> and <span class="wintitle">Reviewers</span> pane.</li>
            <li>Use any value stored on a user’s profile and group to restrict the scope of a campaign.</li>
            <li>Use either the group's ID or name to reference a group in your expression. <MadCap:variable name="okta-variables.ProductName" /> recommends that you use a group's ID as it doesn’t change.</li>
            <li>Use the following symbols to denote an operator:<ul style="list-style-type: circle;"><li><span class="code">&amp;&amp;</span> to denote the And operator.</li><li><span class="code">||</span> to denote the Or operator.</li><li><span class="code">!</span> to denote the Not operator.</li></ul></li>
        </ul>
        <h3><a name="users"></a>Define user scope</h3>
        <p>Use <MadCap:variable name="okta-feature-names.Okta EL" /> to limit the scope of a campaign to certain users based on their profile attributes and group membership. Your custom expression must evaluate to true to include the users or false to exclude them from the campaign.</p>Ensure that your expression evaluates to a boolean: <span class="uicontrol">True</span> to include the users or <span class="uicontrol">False</span> to exclude them from the campaign.<p>See <a href="https://developer.okta.com/docs/reference/okta-expression-language-in-identity-engine/" target="_blank"><MadCap:variable name="okta-feature-names.Okta EL" /></a> for more information.</p><p><img src="../../../Resources/Images/identity-governance/users-el-eg.png" class="thumbnail" /></p><h4>Sample expressions</h4><table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0"><col class="TableStyle-standard-Column-Column1" /><col class="TableStyle-standard-Column-Column1" /><thead><tr class="TableStyle-standard-Head-Header1"><th class="TableStyle-standard-HeadF-Column1-Header1">Use case</th><th class="TableStyle-standard-HeadD-Column1-Header1">Sample expression</th></tr></thead><tbody><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">Restrict a campaign to members of a certain group. </td><td class="TableStyle-standard-BodyD-Column1-Body1"><span class="code">user.isMemberOf({'group.profile.name': 'West Coast Users'})</span> 
or 
<span class="code">user.isMemberOf({'group.id': '00gjitX9HqABSoqTB0g3'})</span></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">Include all users except members of certain groups.</td><td class="TableStyle-standard-BodyD-Column1-Body2"><span class="code">!user.isMemberOf({'group.profile.name': 'West Coast Users'}) 
</span> or 
<span class="code">!user.isMemberOf({'group.id': '00gjitX9HqABSoqTB0g3'})</span></td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">Include users who are a member of both groups.</td><td class="TableStyle-standard-BodyD-Column1-Body1"><span class="code">user.isMemberOf({'group.id': '00gjitX9HqABSoqTB0g3'}) &amp;&amp; user.isMemberOf({'group.id': '00garwpuyxHaWOkdV0g4'})
</span></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">Only include users who are a member of at least one of the two groups.</td><td class="TableStyle-standard-BodyD-Column1-Body2"><p><span class="code">user.isMemberOf({'group.id': '00gjitX9HqABSoqTB0g3'}) || user.isMemberOf({'group.id': '00garwpuyxHaWOkdV0g4'})
</span> or </p><p><span class="code">user.isMemberOf({'group.id': {'00gjitX9HqABSoqTB0g3', '00garwpuyxHaWOkdV0g4'}})</span><br /></p></td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">Include users who are a member of one group but aren't a member of another group</td><td class="TableStyle-standard-BodyD-Column1-Body1"><span class="code">user.isMemberOf({'group.profile.name': 'West Coast Users'}) &amp;&amp; !user.isMemberOf({'group.id': '00garwpuyxHaWOkdV0g4'})</span></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2"><p>Include users with Active status for campaigns.</p><p>This expression doesn't include users who have Provisioned or Staged status. </p></td><td class="TableStyle-standard-BodyD-Column1-Body2"><p><span class="code">user.status == 'ACTIVE' or user.status == 'PASSWORD_EXPIRED' or user.status = 'LOCKED_OUT' or user.status = 'RECOVERY'</span></p></td></tr><tr class="TableStyle-standard-Body-Body1" MadCap:conditions="Primary.do-not-publish"><td class="TableStyle-standard-BodyF-Column1-Body1"><p><MadCap:annotation MadCap:createDate="2023-04-11T16:11:26.7942316-04:00" MadCap:creator="naini.khajanchi" MadCap:initials="NA" MadCap:comment="https://okta.slack.com/archives/C7K8CP09W/p1681243570277459?thread_ts=1681152523.884449&amp;cid=C7K8CP09W" MadCap:editor="naini.khajanchi" MadCap:editDate="2023-04-11T16:11:27.7124729-04:00">Exclude </MadCap:annotation>users with Deprovisioned or Suspended status for campaigns.</p><p>These users retain their group assignments even when they're in a Suspended or Deactivated state. However, these users only retain their app assignments in a Suspended state.  </p></td><td class="TableStyle-standard-BodyD-Column1-Body1"><p><span class="code">user.status not in ['DEPROVISIONED','SUSPENDED']</span></p></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">Restrict a campaign based on the user's profile attributes, such as department, state, or cost center.</td><td class="TableStyle-standard-BodyD-Column1-Body2">For exact matches, use: 
<span class="code">user.profile.department == "Finance Department"</span> <p>
For partial matches, use:
<span class="code">user.profile.department.contains("Finance")</span></p></td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyC-Column1-Body1"><p>Use a combination of user profile attributes and groups to define complex expressions to include the following users:
					</p><ul><li>Users who are in a department whose name includes the word 'communications' or are in the Human Resources department; and</li><li>Users who aren’t a member of the EMEA group; and</li><li>Users who are in at least one of the three groups - Interns, Contractors, or Partners.</li></ul></td><td class="TableStyle-standard-BodyA-Column1-Body1"><span class="code">(user.profile.department.contains("Communications") || user.profile.department == "Human Resources") &amp;&amp; 

!user.isMemberOf({'group.profile.name': 'EMEA'}) &amp;&amp; user.isMemberOf({'group.profile.name': {"Interns", "Contractors", "Partners"}})
</span></td></tr></tbody></table><h3><a name="reviewers"></a> Define dynamic reviewers</h3><p>Use <MadCap:variable name="okta-feature-names.Okta EL" /> to customize the reviewer for each user. For example, you want to set a user’s manager to review their access, or designate a review for different teams or departments. Before creating <MadCap:variable name="okta-feature-names.Okta EL" /> expressions, see <MadCap:xref href="#Tips">Tips</MadCap:xref>.</p><p>Ensure that your expression evaluates to either the user ID or the username of a single <MadCap:variable name="okta-variables.ProductName" /> user. If the expression doesn’t return a user or is invalid, then the system assigns the Fallback reviewer you defined while creating the campaign to review all items for that user.</p><p>It’s helpful to think of reviewer logic into IF/THEN terms for each user when building your expressions. For example, for user A, if condition P is true, then assign reviewer B.</p><h4>Sample expressions</h4><table style="width: 100%;margin-left: 0;margin-right: auto;mc-table-style: url('../../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0"><col class="TableStyle-standard-Column-Column1" /><col class="TableStyle-standard-Column-Column1" /><thead><tr class="TableStyle-standard-Head-Header1"><th class="TableStyle-standard-HeadF-Column1-Header1">Use case</th><th class="TableStyle-standard-HeadD-Column1-Header1">Sample expression</th></tr></thead><tbody><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">
						Assign the user's manager to each user.
                
					</td><td class="TableStyle-standard-BodyD-Column1-Body1"><span class="code">user.profile.managerId</span></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">Assign a user’s manager to only users with a certain profile attribute (in this case, department is Department 1), and a specific reviewer for all other users.</td><td class="TableStyle-standard-BodyD-Column1-Body2"><span class="code">user.profile.department == "Human Resources" ? user.profile.managerId : "jsmith@example.com"</span></td></tr><tr class="TableStyle-standard-Body-Body1" MadCap:conditions=""><td class="TableStyle-standard-BodyF-Column1-Body1"><p> Assign one group owner as the reviewer for a group that has at least one defined owner.</p> </td><td class="TableStyle-standard-BodyD-Column1-Body1"><p><span class="code">user.findGroupAndGetOwners({'group.id': 'groupId'}, 'USER')[0]</span> </p></td></tr><tr class="TableStyle-standard-Body-Body2" MadCap:conditions=""><td class="TableStyle-standard-BodyF-Column1-Body2"><p>Assign the group owner as the reviewer for a group that has one or more owners.</p></td><td class="TableStyle-standard-BodyD-Column1-Body2"><p><span class="code">user.findGroupAndGetOwners({'group.id': 'groupId'}, 'USER')[0] </span></p></td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1"><p>Assign a reviewer for users who are members of a particular group.</p></td><td class="TableStyle-standard-BodyD-Column1-Body1"><p><span class="code">user.isMemberOf({'group.profile.name': 'West Coast Users'}) ? "westcoastreviewer@example.com" : "otherreviewer@example.com"
</span> </p><p>In addition, to assign the Fallback Reviewer for users who aren’t in the group, use:
</p><p><![CDATA[
]]><span class="code">user.isMemberOf({'group.profile.name': 'West Coast Users'}) ? "westcoastreviewer@example.com" ? null
</span></p></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyF-Column1-Body2">
                    Assign a reviewer for users who are members of two groups. Otherwise, assign the user's manager.               
            </td><td class="TableStyle-standard-BodyD-Column1-Body2"><span class="code">(user.isMemberOf({'group.id': '00gjitX9HqABSoqTB0g3'}) &amp;&amp; user.isMemberOf({'group.id': '00garwpuyxHaWOkdV0g4'})) ? 'groupreviewer@example.com' : user.profile.managerId</span></td></tr><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyF-Column1-Body1">
               
                    Assign a reviewer for users who are a member of at least one of the two groups. Otherwise, assign the Fallback reviewer.

</td><td class="TableStyle-standard-BodyD-Column1-Body1"><![CDATA[ 
]]><span class="code">user.isMemberOf({'group.id': {'00gjitX9HqABSoqTB0g3', '00garwpuyxHaWOkdV0g4'}}) ? "groupreviewer@example.com" : null
</span></td></tr><tr class="TableStyle-standard-Body-Body2"><td class="TableStyle-standard-BodyC-Column1-Body2">
                    Assign a reviewer for users who are a member of one group, but not a member of another group. Otherwise, assign the user's manager. </td><td class="TableStyle-standard-BodyA-Column1-Body2"><span class="code">(user.isMemberOf({'group.profile.name': 'West Coast Users'}) &amp;&amp; !user.isMemberOf({'group.id': '00garwpuyxHaWOkdV0g4'})) ? "groupreviewer@example.com" : user.profile.managerId</span></td></tr></tbody></table><h2><span>Related topics</span></h2><p><MadCap:xref href="../../identity-governance/access-certification/iga-ac-create-campaign.htm">Create an access certification campaign</MadCap:xref></p><p><MadCap:xref href="../../identity-governance/access-certification/iga-ac-modify-campaign.htm">Modify a scheduled access certification campaign</MadCap:xref></p><p><MadCap:xref href="../../identity-governance/access-certification/iga-ac-end-active-campaign.htm">End an active access certification campaign</MadCap:xref></p></body>
</html>