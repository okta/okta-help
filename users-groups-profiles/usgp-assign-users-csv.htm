<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:conditions="MultiProdPublish.Classic+OIE"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Use a CSV file to assign users to apps and allow the user to access the app."/>
   </head>
   <body>
      <h1>Assign users to apps using a CSV file</h1>
      <p>When provisioning is enabled, you cannot use a CSV file to assign users to a specific app. The CSV template uses attributes defined in the <span class="uicontrol">Profile Editor</span>. Make sure that the <span class="uicontrol">Base</span> attributes username, firstname, lastname, and email are included, they are mapped to <MadCap:variable name="okta-variables.ProductName"/>, and the default data type <span class="code">String</span> is used. </p>
      <ol>
         <li>
                In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Profile Editor</span>
            </span>.
         </li>
         <li>In the <span class="uicontrol">Search</span> field, enter the name of the application.</li>
         <li>Click  <span class="uicontrol">Profile</span> for the app and click <span class="uicontrol">Base</span> in the <span class="uicontrol">Filters</span> list. </li>
         <li>
                Optional. Click <span class="uicontrol">Add Attribute</span> and add the  username, firstname, lastname, and email  attributes if they are missing. To add attributes and mapping to <MadCap:variable name="okta-variables.ProductName"/>, see <MadCap:xref href="usgp-user-profiles-main.htm">Manage profiles</MadCap:xref>. </li>
         <li> Optional. Click <span class="uicontrol">Custom</span> in the <span class="uicontrol">FILTERS</span> list, click <span class="uicontrol">Add Attribute</span>, and add  custom attributes. </li>
         <li>Click <span class="uicontrol">Mappings</span> and map the new attributes from the app to <MadCap:variable name="okta-variables.ProductName"/>.</li>
         <li>Click <span class="menucascade">
               <span class="uicontrol">Applications</span>
               <span class="uicontrol">Applications</span>
            </span> and enter the name of the application in the <span class="uicontrol">Search</span> field.</li>
         <li>Click the app link and the <span class="uicontrol">Import</span> tab.</li>
         <li>Click <span class="uicontrol">Import from CSV</span>. If the button is labeled <span class="uicontrol">Import Now</span>, the app has provisioning enabled.</li>
         <li>In the <span class="uicontrol">Import Users from CSV</span> window, click  the <span class="uicontrol">CSV Template</span> link.</li>
      </ol>
      <p>The template populates columns for every attribute that is:</p>
      <ul>
         <li>defined in the AppUser schema for the App</li>
         <li>mapped from the App to <MadCap:variable name="okta-variables.ProductName"/>
         </li>
      </ul>
      <ol start="11">
         <li>Save the CSV file  in CSV UTF-8 format.</li>
         <li>Click <span class="uicontrol">Browse</span> and browse to the location of the CSV file you created in step 11.</li>
         <li>Click Upload CSV and upload the CSV file. A validation process ensures that it is properly formatted. </li>
         <li>Correct any errors or note the success message, and then click <span class="uicontrol">Next</span>.</li>
         <li>In the <span class="uicontrol">Import Users from CSV</span> window, select one of these options:<ul start="5">
               <li>
                  <p>
                     <span class="uicontrol">Automatically activate new users </span>— Newly imported users are automatically activated.</p>
               </li>
               <li>
                  <span class="uicontrol">Do not create a password and only allow login via Identity Provider </span>— Newly imported users are not sent activation emails or prompted to set up an <MadCap:variable name="okta-variables.ProductName"/> password. This is recommended only for users who will authenticate through an external Identity Provider.</li>
            </ul>
         </li>
         <li>Click <span class="uicontrol">Import Users</span>.</li>
      </ol>
      <p>
         <MadCap:variable name="okta-variables.ProductName"/> validates that the CSV file is formatted correctly and that all attribute requirements are met. A summary  lists the number of new users, uploaded users, unchanged users, and the number of users that incurred errors. If errors are found, click the <span class="uicontrol">Download</span> link to view the error report.</p>
      <p>The import summary includes detail about any imported users requiring further review or action.</p>
   </body>
</html>
