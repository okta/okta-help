<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan"
      MadCap:conditions="MultiProdPublish.Classic+OIE">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <meta name="description"
            content="If a company computer is lost or stolen, revoke an end user Device Trust certificate from the Okta Certificate Authority."/>
   </head>
   <body>
      <h1>Revoke a user's certificate from the <MadCap:variable name="okta-variables.ProductName"/> Certificate Authority</h1>
      <p>Revoke a user's Device Trust certificate(s) from the Okta Certificate Authority if their computer is lost or stolen, or if their account is deactivated. If you have revoked a user's Device Trust certificate and you want to secure their computer again, you'll need to remove the revoked certificate from their computer before enrolling a new certificate.</p>
      <h2>
         <a name="RevokeWinDTCert-People"/>Managed Windows computers</h2>
      <a name="RevokeWinDTCert-People"/>
      <ol>
         <li>
                In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">People</span>
            </span>.
            </li>
         <li>
                Click a  user name in the <span class="uicontrol">Person &amp; Username</span> column.
            </li>
         <li>Click <span class="uicontrol">More Actions</span> and select <span class="uicontrol">Revoke Trust Certificate</span>. </li>
         <li>
                Click <span class="uicontrol">Revoke Trust Certificate</span>.
            </li>
         <li>
                To remove the Device Trust certificate:
                <ul>
               <li>
                  <span class="uicontrol">Single computer</span>: Use a third-party management tool such as <a href="https://docs.microsoft.com/en-us/dotnet/framework/tools/certmgr-exe-certificate-manager-tool"
                     target="_blank">Certificate Manager Tool</a> (Certmgr.exe) to remove the certificate issued by the <span class="term">
                     <MadCap:variable name="okta-variables.ProductName"/> MTLS Certificate Authority</span>.
                    </li>
               <li>
                  <span class="uicontrol">Multiple computers</span>: Use a third-party management tool such as <a href="https://support.microsoft.com/en-us/help/816102/how-to-use-group-policy-to-remotely-install-software-in-windows-server"
                     target="_blank">GPO</a> or <a href="https://docs.microsoft.com/en-us/sccm/core/understand/introduction"
                     target="_blank">SCCM</a> to remove the certificate issued by the <i>
                     <span class="term">
                        <MadCap:variable name="okta-variables.ProductName"/> MTLS Certificate Authority</span>
                  </i>
                  <span class="term">.</span>
               </li>
            </ul>
         </li>
      </ol>
      <h2>Jamf Pro managed macOS devices</h2>
      <div>
         <ol>
            <li>
                    In the <MadCap:variable name="okta-feature-names.Administrator dashboard"/>, go to <span class="menucascade">
                  <span class="uicontrol">Directory</span>
                  <span class="uicontrol">People</span>
               </span>.
                </li>
            <li>
                    Click a  user name in the <span class="uicontrol">Person &amp; Username</span> column.
                </li>
            <li>
							Click <span class="uicontrol">More Actions</span> and select <span class="uicontrol">Revoke Trust Certificate</span>.</li>
            <li>
                   Click <span class="uicontrol">Revoke Trust Certificate</span>.
                </li>
            <li>
               <a name="remove-cert"/>To remove the Device Trust certificate:</li>
            <ul>
               <li>
                  <span class="uicontrol">Command line</span>: Open a terminal on the target computer and issue the command <span class="code">python &lt;fileName&gt;.py uninstall</span> where <span class="varname">&lt;fileName&gt;</span> is the name of <MadCap:variable name="okta-variables.ProductName"/> Device Registration Task. For example, if the name of the <MadCap:variable name="okta-variables.ProductName"/> Registration Task is <span class="msgblock">MacOktaDeviceRegistrationTaskSetup.1.0.2.py</span>, you would issue this command:
                                    <p>
                     <span class="code">python MacOktaDeviceRegistrationTaskSetup.1.0.2.py uninstall</span>
                  </p>
                  <p>If you  reuse a script, remove the Org Token. The token is not necessary for the uninstall operation.                                   </p>
               </li>
               <li>
                  <span class="uicontrol">Uninstall script</span>: Create an uninstall script in Jamf Pro configured to pass the <span class="code">uninstall</span> parameter. See <a href="http://docs.jamf.com/10.6.0/jamf-pro/administrator-guide/Managing_Scripts.html#src-18787582_id-.ManagingScriptsv10.6.0-AddingaScripttoJamfPro"
                     target="_blank">Adding a Script to Jamf Pro</a>.</li>
            </ul>
         </ol>
      </div>
   </body>
</html>
