<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/task-assign-lb.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Enable <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancing in an application</h1>
        <p>Load balancing enables you to distribute the request load for an application across multiple servers.</p>
        <h2>Configure load balancing</h2>
        <ol>
            <li>In the <MadCap:variable name="okta-feature-names.Access&#160;Gateway UI" />, select the <span class="wintitle">Applications</span> tab.</li>
            <li>Click the pencil icon in the row containing the application to edit it.</li>
            <li>Select the <span class="wintitle">Settings</span> tab.</li>
            <li>Expand the <span class="wintitle">Protected Web Resources</span> tab. </li>
            <li>Select the <span class="uicontrol">Load Balancing</span> option to enable it. A table appears that displays each hostname and its load-balancing weight.</li>
            <li>Click the pencil icon for a hostname to edit it.</li>
            <li>Select either <span class="userinput">HTTP</span> or <span class="userinput">HTTPS</span> as the <span class="uicontrol">URL scheme</span>. Each protected web resource that you add inherits this scheme.</li>
            <li>Optional. Enable the <span class="uicontrol">Host Header value</span> option and specify a value for it.</li>
            <li>Click <span class="uicontrol">Add protected web resource</span>.</li>
            <li>Enter a fully qualified hostname and port combination, such as <span class="url">https://backendserver1.atko.com:7001</span>.</li>
            <li>Enter a weight from 1 to 100. Enter 0 to specify that a host is disabled. Weights represent the percentage of requests to route to this host. If you configure one host with a weight of 2 and a second host with a weight of 1, the first host receives double the requests of the second host.
						</li>
            <li>Click <span class="uicontrol">Okay</span>.</li>
            <li>Optional. Enable the <span class="uicontrol">Load Balancer Health Checks</span> option.  Health checks use GET&#160;operations to indicate that resources are functional. Resources that <MadCap:variable name="okta-variables.ProductName" /> classifies as unhealthy aren't routed new requests to them.</li>
            <li>Click <span class="uicontrol">Edit</span> to modify the health check settings.
					<ul><li>Path: The URI to the resource verified by the health check. The default path is / (forward slash).</li><li>Method: The HTTP method used by the health check. The default method is Always GET.</li><li>Status code: The HTTP status code that indicates the health of the request. The default status code is 200.</li><li>Interval: The interval between health check verifications in seconds. The default interval is 10 seconds.</li><li>Request timeout: The timeout value in seconds. The default request timeout is one second.</li><li>Healthy threshold: The number of successful requests that must be recorded before a host is considered healthy. The default healthy threshold is three requests.</li><li>Unhealthy threshold: The number of failed requests that must be recorded for a host to be considered unhealthy. The default unhealthy threshold is three requests.</li></ul></li>
            <li>Click <span class="uicontrol">Save</span>.</li>
            <li>Click <span class="uicontrol">Done</span>.</li>
        </ol>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="about-application-prot-web-res.htm">Application-protected web resources</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="about-oag-lb-health-checks.htm">Health checks for load balancing</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="task-assign-lb.htm">Enable [%=okta-feature-names.Access Gateway%] load balancing in an application</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="ref-architectures.htm">Reference architectures</MadCap:xref>
        </p>
    </body>
</html>