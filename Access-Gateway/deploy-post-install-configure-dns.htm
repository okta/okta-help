<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/deploy-post-install-configure-dns.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Configure <MadCap:variable name="okta-feature-names.Access Gateway" /> DNS</h1>
        <div>
            <p>After deployment <MadCap:variable name="okta-feature-names.Access Gateway" /> requires multiple DNS entries, for the gateway itself, testing and production. </p>
            <ul>
                <li>
                    <MadCap:xref href="#Initial">Required configuration</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#Testing">Testing and production</MadCap:xref>
                </li>
            </ul>
            <div class="noteOkta">
                <p class="noteContent">This page:</p>
                <p class="noteContent">
                    <ul>
                        <li>
                            <p>Uses the generic address 192.168.A.B to represent the IP address of a <MadCap:variable name="okta-feature-names.Access Gateway" /> deployment. This is an example only.</p>
                        </li>
                        <li>
                            <p>Uses the fictional company <span class="varname">atko.com</span> in examples. </p>
                        </li>
                    </ul>
                </p>
            </div>
            <div MadCap:conditions="Primary.do-not-publish">
                <p>Okta <MadCap:variable name="okta-feature-names.Access Gateway" /> uses the <span class="varname">HTTP_HOST</span> header variable supplied by the browser to map the hostname to specific applications. Multiple host names are used to access gateway instances.  The following table lists some suggested hostnames that should be created within your DNS domain.</p>
                <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                    <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                    <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                    <thead>
                        <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                            <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Domain Name</th>
                            <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">IP Address</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                            <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">gw-admin<span class="varname">[yourdomain]</span>.gateway.info</td>
                            <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1" rowspan="3">
                                <p rowspan="3">IP Address of Okta <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p>
                                <p rowspan="3">(AWS&#160;Elastic IP, otherwise instance IP address)</p>
                                <p rowspan="3">*Not strictly required, but recommend for initial <MadCap:variable name="okta-feature-names.Access Gateway" /> testing. </p>
                            </td>
                        </tr>
                        <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                            <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">gw-admin.gateway.info</td>
                        </tr>
                        <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                            <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">header.gateway.info*</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <h2><a name="Initial"></a>Required configuration</h2>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/oag-core-dns.flsnp" />
            <div class="noteOkta" MadCap:conditions="Primary.do-not-publish">
                <p class="noteContent">Okta <MadCap:variable name="okta-feature-names.Access Gateway" /> uses the <span class="varname">HTTP_HOST</span> header variable supplied by the browser to map the hostname to specific applications. Multiple host names are used to access gateway instances.  </p>
            </div>
            <p>See <a href="command-line-console-reference-network.htm#Show">Show a running configuration</a> to determine <MadCap:variable name="okta-feature-names.Access Gateway" /> IP address. </p>
            <h2><a name="Testing"></a>Testing and production configuration</h2>
            <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                <col class="TableStyle-standard-Column-Column1" />
                <col class="TableStyle-standard-Column-Column1" />
                <col class="TableStyle-standard-Column-Column1" />
                <thead>
                    <tr class="TableStyle-standard-Head-Header1">
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Name</th>
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Description</th>
                        <th class="TableStyle-standard-HeadD-Column1-Header1">
                            <p>Example</p>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-weight: bold;">header.[yourdomain.tld]</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">
                            <p>For testing.</p>
                            <p>IP address of <MadCap:variable name="okta-feature-names.Access Gateway" /> when entered into <span class="filepath">/etc/hosts</span></p>
                            <p>Example of a DNS&#160;name required for header application testing. </p>
                        </td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1"><span class="varname">192.168.A.B header.atko.xyz</span>
                        </td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-weight: bold;">policy.[yourdomain.tld]</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">For testing.<p>IP address of <MadCap:variable name="okta-feature-names.Access Gateway" /> when entered into <span class="filepath">/etc/hosts</span></p><p>Example of a DNS&#160;name required for policy application testing. </p></td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2"><span class="varname">192.168.A.B policy.atko.xyz</span>
                        </td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyC-Column1-Body1"><span class="varname">peoplesoft.[yourdomain.tld]</span>
                        </td>
                        <td class="TableStyle-standard-BodyC-Column1-Body1">Production example.<p>Example of the DNS required for an application being protected by <MadCap:variable name="okta-feature-names.Access Gateway" />. This example would be used as the external (public) facing DNS name. </p><p>IP address of <MadCap:variable name="okta-feature-names.Access Gateway" /> when entered into <span class="varname">/etc/hosts</span> for testing. </p><p>CNAME record pointing to <span class="varname">[prefix]-admin[.yourdomain.tld]</span> when entered into DNS for actual production use.</p></td>
                        <td class="TableStyle-standard-BodyA-Column1-Body1"><span class="varname">peoplesoft.akto.xyz </span>
                            <p><span class="varname">oag-admin.akto.xyz</span>
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="noteOkta" MadCap:conditions="Primary.do-not-publish">
                <p class="noteContent">During initial testing and development, these values are typically entered into a local <span class="filepath">/etc/hosts</span> file. </p>
            </div>
            <h3>See also</h3>
            <ul>
                <li>For more information about <MadCap:variable name="okta-feature-names.Access Gateway" /> DNS use see <MadCap:xref href="about-oag-dns.htm">About [%=okta-feature-names.Access Gateway%] DNS use</MadCap:xref>.</li>
                <li>Determine IP&#160;address of <MadCap:variable name="okta-feature-names.Access Gateway" />. &#160;See <a href="command-line-console-reference-network.htm#Show">Show a running configuration</a>.</li>
                <li>Configure <MadCap:variable name="okta-feature-names.Access Gateway" /> primary and secondary DNS servers. &#160;See <a href="command-line-console-reference-network.htm#Manage">Manage DNS&#160;settings</a>. </li>
            </ul>
        </div>
    </body>
</html>