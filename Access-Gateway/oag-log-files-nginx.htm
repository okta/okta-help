<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" class="concept" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/oag-log-files-nginx.htm" />
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%]</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1><MadCap:variable name="okta-feature-names.Access Gateway" /> NGINX log</h1>
        <div>
            <p><MadCap:variable name="okta-feature-names.Access Gateway" /> NGINX logs contain the following events:</p>
            <ul>
                <li>System start, stop, and related events.</li>
                <li>Inaccessible domain errors (for example, failure to reach www.somedomain.tld).</li>
            </ul>
            <div>
                <h3>Before you begin</h3>
                <ul>
                    <li>See <MadCap:xref href="admin-settings-log-download.htm">Download logs</MadCap:xref> for details on downloading logs.</li>
                    <li>See <MadCap:xref href="decompressing-logs.htm">Decompressing logs</MadCap:xref> for details on decompressing log files. </li>
                </ul>
            </div>
            <h3>Event Fields</h3>
            <p>
                <div>
                    <table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                        <col class="TableStyle-standard-Column-Column1" />
                        <col class="TableStyle-standard-Column-Column1" />
                        <tbody>
                            <tr class="TableStyle-standard-Body-Body1">
                                <td style="font-weight: bold;background-color: #dcdcdc;padding-left: 7px;padding-right: 7px;padding-top: 7px;padding-bottom: 7px;border-right-style: solid;border-right-width: 1px;border-right-color: #c0c0c0;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #c0c0c0;" class="TableStyle-standard-BodyF-Column1-Body1">
                                    <p>Field</p>
                                </td>
                                <td style="font-weight: bold;background-color: #dcdcdc;" class="TableStyle-standard-BodyD-Column1-Body1">
                                    <p>Description</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-Body-Body2">
                                <td class="TableStyle-standard-BodyF-Column1-Body2">
                                    <p>TIMESTAMP</p>
                                </td>
                                <td class="TableStyle-standard-BodyD-Column1-Body2">
                                    <p>The current system date and time.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-Body-Body1">
                                <td class="TableStyle-standard-BodyF-Column1-Body1">
                                    <p>HOSTNAME</p>
                                </td>
                                <td class="TableStyle-standard-BodyD-Column1-Body1">
                                    <p>The hostname of the node generating the event.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-Body-Body2">
                                <td class="TableStyle-standard-BodyF-Column1-Body2">
                                    <p>SUBSYSTEM or HOST</p>
                                </td>
                                <td class="TableStyle-standard-BodyD-Column1-Body2">
                                    <p>The subsystem or host that generated the error, such as: </p>
                                    <ul>
                                        <li>systemd - system daemon running NGINX</li>
                                        <li>emerge</li>
                                    </ul>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-Body-Body1">
                                <td class="TableStyle-standard-BodyC-Column1-Body1">MESSAGE</td>
                                <td class="TableStyle-standard-BodyA-Column1-Body1">Free form message information about the error</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </p>
            <div>
                <h3>Host not found in upstream</h3>
                <p>Event issued when NGINX can't reach an external host.</p>
                <p>Messages:</p>
                <ul>
                    <li>
                        <p>host not found in upstream my.application.com in <span class="filepath">/etc/nginx/conf.d/icsgw_. . . active.conf	</span></p>
                    </li>
                </ul>
                <p>Likely cause:</p>
                <ul>
                    <li>
                        <p>The service &lt;domain.tld&gt; is down or not responding to requests.</p>
                    </li>
                </ul>
                <p>Example:</p>
                <ul>
                    <li><span class="code">2020-06-24T05:40:12 [emerg] 1092#0: host not found in upstream "&lt;domain.tld&gt;" in /etc/nginx/conf.d/icsgw_app_87d7fdd2-131b-46ba-8ed1-868b8e97c12b.active.conf:6</span>
                    </li>
                </ul>
            </div>
            <div>
                <h3>System start or stop</h3>
                <p>Event issued when NGINX starts or stops.</p>
                <p>Messages:</p>
                <ul>
                    <li>
                        <p> Stopped <MadCap:variable name="okta-feature-names.Access Gateway" /> Reverse Proxy 
		</p>
                    </li>
                </ul>
                <ul>
                    <li>
                        <p> Started <MadCap:variable name="okta-feature-names.Access Gateway" /> Reverse Proxy</p>
                    </li>
                </ul>
                <p>Cause:</p>
                <ul>
                    <li>The instance is starting or stopping.</li>
                </ul>
                <p>Examples:</p>
                <ul>
                    <li><span class="code">2020-07-07-18:45:57 example.myaccessgateway.com systemd[1]: Stopped Access Gateway Reverse Proxy."
</span>
                    </li>
                    <li><span class="code">2020-07-07-18:45:57 example.myaccessgateway.com systemd[1]: Started Access Gateway Reverse Proxy."
</span>
                    </li>
                    <li><span class="code">2020-07-07-18:45:57 example.myaccessgateway.com systemd[1]: Failed to start Access Gateway Reverse Proxy.</span>
                    </li>
                </ul>
            </div>
            <div>
                <h3>System start or stop</h3>
                <p>Event issued when NGINX failed to proxy a request.</p>
                <p>Messages:</p>
                <ul>
                    <li>Various</li>
                </ul>
                <p>Cause:</p>
                <ul>
                    <li>Failed to set proxy server address.</li>
                </ul>
                <p>Examples:</p>
                <ul>
                    <li><span class="code">22020-06-25T03:36:38.000-05:00 example.&lt;externamedomain&gt;.com example.&lt;externaldomain&gt;.com 0GW5gl0Nd: 2020/06/25 03:36:38 [error] 49257#0: *       4983439 [lua] authSession.lua:298: setProxyServerAddr(): scheme:https host:10.148.80.194 port:443, client: 10.148.80.240, server:        example.remotehost.com, request: "GET /test/lookup?req_params=params HTTP/1.1",        host: "example.remotehost.com", referrer: "https://example.myaccessgateway.com/test/lookup?req_params_page=params"."
</span>
                    </li>
                </ul>
            </div>
        </div>
    </body>
</html>