<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Primary.deprecated" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link href="../../Resources/TableStyles/standard-shade-col1.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/standard-no-borders-alt-row-color.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/ref-arch-many-apps.htm" />
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Workforce heterogeneous application reference architecture</h1>
        <p>Many workforce customers have a number of applications running inside the corporate network for their employees.  These applications have been deployed over many years or even decades and can consist of home developed applications using various languages/platforms and also third-party Commercial Off The Shelf (COTS) solutions.  There may even be a current Web Access Management solution securing some or all of these applications.  Applications may be capable of looking for HTTP headers, Windows Kerberos tokens, or SAML / oAuth tokens to identify the user.    Applications may be deployed into HA clusters inside of multiple Datacenters using active/active active/passive(standby) or active/DR availability models.</p>
        <p>Users may be stored in the corporate Active Directory, or in a separate LDAP Directory or database, or both.  Users may be accessing the applications from a network located physically on the corporate network, virtually on the corporate network via a VPN connection, or over the internet.</p>
        <div>
            <h3>Topics</h3>
            <ul>
                <li>
                    <MadCap:xref href="#Approach">Approach</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#architectures">[%=okta-feature-names.Access Gateway%] architectures</MadCap:xref>
                </li>
            </ul>
        </div>
        <h2><a name="Approach"></a>Approach</h2>
        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-approach.flsnp" MadCap:conditionTagExpression="include[SnippetConditionsForOAG.IncludeWF]" />
        <h2><a name="architectures"></a><MadCap:variable name="okta-feature-names.Access Gateway" /> workforce architectures</h2>
        <p><MadCap:variable name="okta-feature-names.Access Gateway" /> workforce installations can be deployed in any number of possible combinations. Common architecture are:</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Single <MadCap:variable name="okta-feature-names.Access Gateway" /> server architecture</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">The simplest of all architectures, the single <MadCap:variable name="okta-feature-names.Access Gateway" /> server architecture is typical in development and test scenarios. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Internal only single data center architecture</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">The internal only single data center cluster expands on the single server architecture and introduces an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster to extend capacity and provide fault tolerance, but for internal use only applications. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">External only single data center architecture</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">The external single data center cluster expands on the single server architecture and introduces an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster to extend capacity and provide fault tolerance. <br /></td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Multiple data center architecture</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">The multi-data center <MadCap:variable name="okta-feature-names.Access Gateway" /> architecture expands on both the single internal and external architecture but in a multiple data center environment with fault tolerance a both the <MadCap:variable name="okta-feature-names.Access Gateway" /> and environment levels.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">
                        <p>Comprehensive architecture</p>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                        <p>A comprehensive architecture showing all applications, but only as a single data center. </p>
                    </td>
                </tr>
            </tbody>
        </table>
        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-funct-areas.flsnp" />
        <ul class="tabs" data-tabs="data-tabs" data-deep-link="true" id="oag-ref-arch">
            <li class="tabs-title is-active"><a href="#tab1" aria-selected="true">Single server</a>
            </li>
            <li class="tabs-title"><a href="#tab2">Internal single data center</a>
            </li>
            <li class="tabs-title"><a href="#tab3">External single data center</a>
            </li>
            <li class="tabs-title"><a href="#tab4">General multiple data center</a>
            </li>
            <li class="tabs-title"><a href="#tab99">Comprehensive</a>
            </li>
        </ul>
        <div class="tabs-content" data-tabs-content="oag-ref-arch">
            <div class="tabs-panel is-active" id="tab1">
                <div style="background-color: #f7f7f7;">
                    <p>The <span class="uicontrol">single server </span><MadCap:variable name="okta-feature-names.Access Gateway" /> architecture represent the minimum components required for protecting web resources using <MadCap:variable name="okta-feature-names.Access Gateway" />. In this simple architecture, a set of applications, referred to as <span class="term">protected web resources</span>, are served to requesting clients using <MadCap:variable name="okta-feature-names.Access Gateway" />.  </p>
                    <div class="noteOkta">
                        <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Note" alt="Note" />
                        <p class="noteContent">This is a minimal architecture typically used for informational purposes.</p>
                    </div>
                    <div>
                        <p> This architecture is designed to meet the following requirements:</p>
                        <ul>
                            <li>Providing secure access to a set of applications, accessed from the <span class="term">external</span> internet, but housed within an internal network.</li>
                        </ul>
                    </div>
                    <div>
                        <h2>Benefits and drawbacks</h2>
                        <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                            <thead>
                                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th>
                                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">
                                        <ul>
                                            <li>Simple, minimal installation</li>
                                            <li>Baseline for testing, proof of concept etc</li>
                                        </ul>
                                    </td>
                                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                                        <ul>
                                            <li>Provides no support for fault tolerance </li>
                                            <li>Not intended for production<br /></li>
                                            <li>Administration server access requires SSH port 22, and HTTPS ports 443, be open. See <MadCap:xref href="about-oag-prereqs.htm">Prerequisites for deploying [%=okta-feature-names.Access Gateway%]</MadCap:xref> for details.</li>
                                        </ul>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h2>Architecture</h2>
                    <p>
                        <img src="../../Resources/Images/access-gateway/ref-arch-single-oag.png" id="img_new" class="thumbnail" />
                    </p>
                    <h3>Components</h3>
                    <table style="mc-table-style: url('../../Resources/TableStyles/standard-no-borders-alt-row-color.css');" class="TableStyle-standard-no-borders-alt-row-color" cellspacing="20">
                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 151px;" />
                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                        <thead>
                            <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                                <th class="TableStyle-standard-no-borders-alt-row-color-HeadI--">
                                    <p>Location</p>
                                </th>
                                <th class="TableStyle-standard-no-borders-alt-row-color-HeadI--">Component</th>
                                <th class="TableStyle-standard-no-borders-alt-row-color-HeadG--">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body1">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1" rowspan="3">
                                    <p>External internet</p>
                                </td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1">Web clients</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body1">
                                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" />
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body2">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body2">
                                    <p><span id="code">appN.example.com</span>
                                    </p>
                                </td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body2">
                                    <p>URL representing one of the applications an external web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body1">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1">Okta org</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body1">
                                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" />
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body2">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body2">Firewall</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body2">External internet to DMZ
                        </td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body2">
                                    <p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body1">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1">DMZ</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1"><MadCap:variable name="okta-feature-names.Access Gateway" />
                                </td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> instance, located in the DMZ is used to provide access to applications used by  external internet clients. <br />Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body2">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body2">Firewall</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body2">DMZ to internal internet
						</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body2">Traditional firewall between&#160;DMZ and the internal network hosting the protected web resources referenced by <MadCap:variable name="okta-feature-names.Access Gateway" /></td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body1">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1" rowspan="2">
                    Internal network</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyF--Body1">
                                    <p><span id="code">appN.example.com</span>
                                        <br />
                                    </p>
                                </td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyD--Body1">
                                    <p>URL representing one of the applications a web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-standard-no-borders-alt-row-color-Body-Body2">
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyC--Body2">Protected applications</td>
                                <td class="TableStyle-standard-no-borders-alt-row-color-BodyA--Body2">The set of protected web resources, accessed using the <span class="url">protd-N.internal-example.com</span> URLs. These are the traditional or historic applications which <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the Protected Web Resource field within each application definition. <br />Possibly fronted by <MadCap:variable name="okta-feature-names.Access Gateway" /> as a load balancer. &#160;See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</td>
                            </tr>
                        </tbody>
                    </table>
                    <div>
                        <h2>Other considerations</h2>
                        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-simple-0-other-considerations.flsnp" />
                    </div>
                </div>
            </div> <!-- end tab 1 --><div class="tabs-panel" id="tab2"><div style="background-color: #f7f7f7;"><p>The internal <MadCap:variable name="okta-feature-names.Access Gateway" /> is a single data center architecture representing the components required for protecting internal-only access web resources using <MadCap:variable name="okta-feature-names.Access Gateway" />. This architecture extends the single <MadCap:variable name="okta-feature-names.Access Gateway" style="font-weight: normal; font-style: normal;" /> instance architecture by introducing an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. However, it differs in that all components are deployed and accessed exclusively from within an internal network. </p><div><p> This architecture is designed to meet the following requirements:</p><ul><li>Secure access to a set of internal use applications - Accessible only from the internal network.</li><li>Provide fault tolerance -  Provide additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> as cluster workers, so that if one is unavailable, the cluster continues to perform normally. </li><li>Manage capacity - Provide additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> to handle expected load. </li></ul></div><div><h2>Benefits and drawbacks</h2><table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0"><col class="TableStyle-standard-Column-Column1" /><col class="TableStyle-standard-Column-Column1" /><thead><tr class="TableStyle-standard-Head-Header1"><th class="TableStyle-standard-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-standard-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-standard-Body-Body1"><td class="TableStyle-standard-BodyC-Column1-Body1"><ul><li>Relatively simple installation</li><li>Provides basic fault tolerance and capacity support</li><li>Can be expanded with additional workers as required to add additional capacity</li><li>Load balanced</li></ul></td><td class="TableStyle-standard-BodyA-Column1-Body1"><ul><li>Single data center </li><li>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> DMZ based load balancer must support session affinity (sticky sessions)</li><li>Requires a proxy to reach the outside internet</li></ul> </td></tr></tbody></table></div><h2>Architecture</h2><p><img src="../../Resources/Images/access-gateway/ref-arch-int-1dc.png" id="img_new" class="thumbnail" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location </p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="3" style="font-weight: bold;"><p><br /><br />External internet</p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Web client</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>Not applicable, there are no external use clients in this architecture.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Firewall</p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>External internet to DMZ</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="8"><p><br /><br /><br /><br /><br /><br /><br /><br />Internal network</p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Internal clients</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Proxy server</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Internal proxy server. Proxying <MadCap:variable name="okta-feature-names.Access Gateway" /> and internal client traffic to the external internet.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.</p><p>Accessed by administrators within the internal network.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Balances load between clients and the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. </p><p>Positioned between clients and the internal use <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instance, located in the DMZ is used to provide access to applications used by  external internet clients. </p><p>Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI, or similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> as internal application load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p style="font-weight: normal;">Balances load between the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the protected applications.</p><p style="font-weight: normal;">See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p><span id="code">appN.example.com</span><br />(URLs not shown) </p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>URL representing one of the applications a web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Protected applications<br />(URLs not shown)</td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">The set of protected web resources, accessed using the <span id="code">protd-N.internal-example.com</span> URLs. These are the traditional or historic applications which <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the <span class="uicontrol">Protected Web Resource</span> field within each application definition. </td></tr></tbody></table><div><h2>Other considerations</h2><div><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-dns.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div><p>Not shown in this architecture are the data centers housing architecture components. </p></div></div></div> <!-- End tab 2--><div class="tabs-panel" id="tab3"><div style="background-color: #f7f7f7;"><p>The external  <MadCap:variable name="okta-feature-names.Access Gateway" /> in a one data center architecture representing the components required for protecting web resources using <MadCap:variable name="okta-feature-names.Access Gateway" />. <br />This architecture extends the single <MadCap:variable name="okta-feature-names.Access Gateway" />instance architecture by introducing an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p><p>In this architecture, a set of applications, referred to as protected web resources, are served to requesting clients using an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p><div><p> This architecture is designed to meet the following requirements:</p><ul><li>Secure access to a set of applications - Accessed from the external internet, but housed within an internal network.</li><li>Provide fault tolerance - Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" />, as cluster workers, such that if one is unavailable the cluster continues to perform normally. </li><li>Manage capacity - Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> to handle expected load. </li></ul></div><div><h2>Benefits and drawbacks</h2><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><ul><li>Relatively simple installation</li><li>Provides basic fault tolerance and capacity support</li><li>Can be expanded with additional workers as required to add additional capacity</li><li>Load balanced</li></ul></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><ul><li>Single data center </li><li>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> DMZ-based load balancer must support session affinity (sticky sessions)</li></ul>&#160;</td></tr></tbody></table></div><h3>Architecture</h3><p><img src="../../Resources/Images/access-gateway/ref-arch-ext-1dc.png" id="img_new" class="thumbnail" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location</p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="4" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p><br /><br /><br /><br />External internet
                            </p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Web clients</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><span class="url">appN.example.com</span><br />URLs not shown</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>URL representing one of the applications an external web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Firewall
                            </p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>External internet to DMZ</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td rowspan="2" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><br /><br /><br />DMZ
                            </p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Load balancer for the DMZ based <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Positioned between outside clients and the external use <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> cluster, located in the DMZ is used to provide access to applications used by  external internet clients. <br />Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Firewall
                            </p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>DMZ to internal firewall</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Traditional firewall between&#160;DMZ and the internal network.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="3" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"> <p><br /><br /><br />Internal network
                            </p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.<br />Accessed by administrators within the internal network.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-post-lb.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Protected applications<br />URLs not shown</td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">The set of protected web resources, accessed using the <span id="code">protd-N.internal-example.com</span> URLs. These are the traditional or historic applications which <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the Protected Web Resource field within each application definition. </td></tr></tbody></table><div><h2>Other considerations</h2><div><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-dns.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div><p>Not shown in this architecture are the data centers housing architecture components. <br />The following is a possible high level breakdowns of where different components are housed.</p><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 718px;" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Data center</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">External <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Pre external <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Virtual data center 1 <br />Likely AWS, OCI or MSAzure based</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Post external <MadCap:variable name="okta-feature-names.Access Gateway" /> load balance</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Physical data center 1 <br />Likely co-located with the internal use applications </p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>Likely virtual data center 2<br />Possibly co-located with either internal applications or internal <MadCap:variable name="okta-feature-names.Access Gateway" /></p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Internal <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Virtual data center 2 (Possibly AWS etc, also possibly VMWare)</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>External use applications</p><p>Internal use applications</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Physical data center 1</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2"><p>Internal proxy server</p></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2"><p>Possibly in Virtual data center 2, likely co-located with other internal servers.</p></td></tr></tbody></table></div></div></div> <!-- End tab 3--><div class="tabs-panel" id="tab4"><div style="background-color: #f7f7f7;"><p>The multiple data center <MadCap:variable name="okta-feature-names.Access Gateway" /> architecture represents the set of components required to deploy <MadCap:variable name="okta-feature-names.Access Gateway" /> in a high performing, fault tolerant multi-data center environment.</p><p>Typically this architecture is where active-active or active-warm standby data centers are required, although fail over can be provided at multiple levels in this architecture.  As shown this architecture depicts an active-active configuration where each datacenter has fault tolerance built in.  This architecture is for highly available applications where the application is configured to run in both datacenters at the same time.</p><div><p> This architecture is designed to meet the following requirements:</p><ul><li><p>Providing secure access to a set of applications, accessed from the external internet, although a similar approach can be done for internal only accessible applications.</p></li><li><p>Support user access by data centers, selected by location, or other criteria to improve access rates</p></li><li><p>Provide a high level of performance, including fault tolerant load balancers both within each data center and across data centers (the app will remain accessible if any single component is lost inside the DC, or if an entire DC is not available)</p></li><li><p>Provide a high level of fault tolerance inside of each data center :</p><ul><li>Load balancer level - one load balancer per data center at the <MadCap:variable name="okta-feature-names.Access Gateway" /> and protected application levels</li><li><MadCap:variable name="okta-feature-names.Access Gateway" /> workers segmented by data center, with a single admin node</li><li>Protected web resources replicated at the data center level</li></ul></li></ul></div><div><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><ul><li>Extremely fault tolerant</li><li>Extremely high performing</li><li>Provides failover at multiple levels or locations within the architecture</li></ul></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><ul><li>Complex</li><li><p>Additional hardware / virtual servers needed for redundancy</p></li></ul></td></tr></tbody></table></div><h2>Architecture</h2><p><img src="../../Resources/Images/access-gateway/ref-arch-gen-2dc.png" id="img_new" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shade-col1.css');" class="TableStyle-standard-shade-col1" cellspacing="0"><col class="TableStyle-standard-shade-col1-Column-Column1" /><col class="TableStyle-standard-shade-col1-Column-Column" /><col class="TableStyle-standard-shade-col1-Column-Column" /><thead><tr class="TableStyle-standard-shade-col1-Head-Header1"><th class="TableStyle-standard-shade-col1-HeadE-Column1-Header1">Location</th><th class="TableStyle-standard-shade-col1-HeadF-Column-Header1">Component</th><th class="TableStyle-standard-shade-col1-HeadD-Column-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-standard-shade-col1-Body-Body1"><td class="TableStyle-standard-shade-col1-BodyE-Column1-Body1" rowspan="4"><p rowspan="4">&#160;</p><p rowspan="4">&#160;</p><p rowspan="4">&#160;</p><p rowspan="4">External internet</p></td><td class="TableStyle-standard-shade-col1-BodyF-Column-Body1">Web clients</td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body2"><td class="TableStyle-standard-shade-col1-BodyF-Column-Body2"><span id="code">appN.example.com</span><br />(URLs not shown) </td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body2">URL representing one of the applications an external web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</td></tr><tr class="TableStyle-standard-shade-col1-Body-Body1"><td class="TableStyle-standard-shade-col1-BodyF-Column-Body1">Okta org</td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body2"><td class="TableStyle-standard-shade-col1-BodyF-Column-Body2">Okta org Universal Directory</td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body1"><td class="TableStyle-standard-shade-col1-BodyE-Column1-Body1">Firewall</td><td class="TableStyle-standard-shade-col1-BodyF-Column-Body1"><p>External internet to DMZ</p></td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body2"><td class="TableStyle-standard-shade-col1-BodyE-Column1-Body2" rowspan="2"><br /><br /><br />DMZ</td><td class="TableStyle-standard-shade-col1-BodyF-Column-Body2"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancers</p></td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body2"><p>Load balancers for the DMZ based <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Potentially providing failover between data centers.</p></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body1"><td class="TableStyle-standard-shade-col1-BodyF-Column-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> workers</td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, distributed in both data centers but sharing an administration instance.<br />Workers use DNS to select the appropriate protected web resources.</td></tr><tr class="TableStyle-standard-shade-col1-Body-Body2"><td class="TableStyle-standard-shade-col1-BodyE-Column1-Body2"><p>Firewall</p></td><td class="TableStyle-standard-shade-col1-BodyF-Column-Body2"><p>DMZ to internal firewall</p></td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body2"><p>Traditional firewall between&#160;DMZ and the internal network.</p></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body1"><td class="TableStyle-standard-shade-col1-BodyE-Column1-Body1" rowspan="3"><br /><br /><br />Internal network&#160;</td><td class="TableStyle-standard-shade-col1-BodyF-Column-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.<br />Access by administrators within the internal network.</td></tr><tr class="TableStyle-standard-shade-col1-Body-Body2"><td class="TableStyle-standard-shade-col1-BodyF-Column-Body2"><p>Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancers</p></td><td class="TableStyle-standard-shade-col1-BodyD-Column-Body2"><p>Load balancers between <MadCap:variable name="okta-feature-names.Access Gateway" /> and the protected web resources. &#160;<br />Potentially providing failover between data centers.<br />See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-standard-shade-col1-Body-Body1"><td class="TableStyle-standard-shade-col1-BodyC-Column-Body1"><p>Protected applications<br />(URLs not shown)</p></td><td class="TableStyle-standard-shade-col1-BodyA-Column-Body1"><p>The set of protected web resources, accessed using the <span id="code">protd-N.internal-example.com</span> URLs. <br />Replicated set of highly available back end protected web resources. </p></td></tr></tbody></table><div><h2>Other considerations</h2><p>Geographic or other load balancing techniques such as DNS round robin have been deployed to route session traffic to the different data centers.  This data center routing should be “sticky” (session affinity) and route the user to the same data center for the life of the session or until a data center is no longer accessible.</p> <p>SSL may be terminated on either the Load balancers or the <MadCap:variable name="okta-feature-names.Access Gateway" /> servers themselves.  if SSL is terminated on the Load balancers the communications from the LB to OAG must be over SSL, but a self signed certificate on <MadCap:variable name="okta-feature-names.Access Gateway" /> may be used.</p><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div></div></div> <!-- End tab 4--><div class="tabs-panel" id="tab99"><div style="background-color: #f7f7f7;"><p>The comprehensive  architecture is really a super set architecture, representing most of components that might be part of<MadCap:variable name="okta-feature-names.Access Gateway" />. This architecture is designed to meet a number of requirements including:</p><ul><li><p>Providing external access to a set of applications, hosted inside a corporate network. Represented in this architecture by external use applications. </p></li><li><p>Proving secure use to a set of applications, access from inside the network, but secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Represented by internal use applications. </p></li><li><p>Providing scalable managed access, using a variety of load balancers, located in strategic locations throughout the architecture.</p></li><li><p>Securing Kerberos based applications using <MadCap:variable name="okta-feature-names.Access Gateway" /> and Okta's Kerberos support.</p></li><li><p>In-directing all internal network access using a proxy server.</p></li></ul><h3>Architecture</h3><p><img src="../../Resources/Images/access-gateway/ref-arch-many-apps-arch.png" id="img_new" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location</p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="3"><p><br /><br /><br />External internet
                            </p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Clients</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2" rowspan="2"><p><br /><br /><br /><br /><br />DMZ
                            </p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-post-lb.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">External use<MadCap:variable name="okta-feature-names.Access Gateway" /> cluster</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">The <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster, located in the DMZ, used to provide access to applications used by  external internet clients. Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2" rowspan="10"><p><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />Internal
                            </p>   &#160;&#160;&#160;&#160;&#160;&#160;</td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">External use <MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">The admin instance for the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster located in the DMZ is typically located inside the internal network, and only accessible to administrators also inside the internal network. </td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Post external Load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Positioned between the external use <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the backing protected web resources, the post external load balancer manages load between <MadCap:variable name="okta-feature-names.Access Gateway" /> and the protected web resources.<br /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">External use application</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">External use applications are those protected web resources exposed by <MadCap:variable name="okta-feature-names.Access Gateway" />, but physically hosted within the internal network. These applications may be <a href="add-generic-header-app.htm">Header</a>, <a href="add-app-kerberos.htm">Kerberos</a>, <a href="add-app-saml-pass-thru.htm">SAML</a>, SWA or other applications. </td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Internal clients</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Internal clients are users accessing applications from within the internal network itself.&#160;These clients are typically physically inside the customers network.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-post-lb.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Internal use <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Internal use only <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster, completely separate from DMZ based <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and used to provide access to internal use applications. </td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Internal <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Positioned between the internal use <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the backing protected web resources, the post internal load balancer manages load between <MadCap:variable name="okta-feature-names.Access Gateway" /> and internal protected web resources.<br />See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Internal use applications</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Internal use applications are those protected web resources exposed by <MadCap:variable name="okta-feature-names.Access Gateway" />, but physically hosted within the internal network and only available to internal network clients</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Active directory server(s)</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Internal use active directory servers used to support Kerberos applications are required.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><p>Active directory agent(s)</p></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><p>Co-located Okta active directory agents, configured to communicate via a proxy, and providing user information.</p></td></tr></tbody></table><h2>Other considerations</h2><p>Not shown in this architecture are the data centers housing architecture components. <br />The following is a possible high level breakdowns of where different components are housed.</p><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 718px;" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Data center</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">External <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Pre external <MadCap:variable name="okta-feature-names.Access Gateway" />load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Virtual data center 1 <br />Likely AWS, OCI or MSAzure based</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Post external <MadCap:variable name="okta-feature-names.Access Gateway" /> load balance</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Physical data center 1 <br />Likely co-located with the internal use applications </p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>Likely virtual data center 2<br />Possibly co-located with either internal applications or internal <MadCap:variable name="okta-feature-names.Access Gateway" /></p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Internal <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Virtual data center 2 (Possibly AWS etc, also possibly VMWare)</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>External use applications</p><p>Internal use applications</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Physical data center 1</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2"><p>Internal proxy server</p></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2"><p>Possibly in Virtual data center 2, likely co-located with other internal servers.</p></td></tr></tbody></table></div></div> <!-- End tab99--></div> <!-- End tabs-content div--><div><h2>Related topics</h2><p><MadCap:xref href="ref-arch-flow-dep.htm">Common [%=okta-feature-names.Access Gateway%] flows</MadCap:xref></p><p><MadCap:xref href="about-oag-dns.htm">About [%=okta-feature-names.Access Gateway%] DNS use</MadCap:xref></p><p><MadCap:xref href="about-high-availability.htm">About [%=okta-feature-names.Access Gateway%] high availability</MadCap:xref></p><p><a href="about-oag-prereqs.htm">About [%=okta-feature-names.Access Gateway%] prerequisites</a></p></div></body>
</html>