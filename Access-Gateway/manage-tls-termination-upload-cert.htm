<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/manage-tls-termination-upload-cert.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Upload certificates</h1>
        <p>Certificates must be uploaded to <MadCap:variable name="okta-feature-names.Access Gateway" /> before they can be associated with applications. </p>
        <div>
            <p>These steps show how the command-line console can upload a user-supplied certificate. </p>
            <div class="noteOkta">
                <p class="noteContent">A trusted Certificate Authority (CA) normally issues and signs user-supplied certificates, but they can also be self-signed.</p>
            </div>
            <ol>
                <li>Use Secure Shell (SSH) to connect to the <MadCap:variable name="okta-feature-names.Access Gateway CMD" />.</li>
                <li>
                    <p>Enter <span class="uicontrol">2</span> to go to the <span class="uicontrol">Services</span> submenu.</p>
                </li>
                <li>
                    <p>Enter <span class="uicontrol">1</span> to go to the <span class="uicontrol">NGINX</span> submenu.</p>
                </li>
                <li>
                    <p>Enter <span class="uicontrol">6</span> to update an SSL certificate. All existing certificates are displayed, similar to the following:<span class="codeblock">Available Certificates:
-----------------------
[1] admin.crt
[2] gateway_info.crt
[3] localhost.crt
. . . 
[a] Add new certificate
[x] Exit
[#, a, x]: 
</span></p>
                </li>
                <li>
                    <p>Select a command to perform:</p>
                    <ol style="list-style-type: lower-alpha;">
                        <li><span class="uicontrol">x</span> - Exit the add/modify certificates submenu.</li>
                        <li><span class="uicontrol">a</span> - Add a new certificate.</li>
                        <li><span class="uicontrol">#</span> - Modify an existing certificate.</li>
                    </ol>
                </li>
            </ol>
            <div>
                <h2><a name="Add_a_new_certificate"></a>Add a certificate</h2>
                <p>You can add certificates using cut and paste operations.</p>
                <div class="noteOkta">
                    <p class="noteContent">Both the certificate and the key must be in Privacy Enhanced Mail&#160;(PEM) format.</p>
                </div>
                <div class="noteOkta">
                    <p class="noteContent">Depending on your OS, the command sequence for copy and paste operations may be different.</p>
                    <p class="noteContent">This applies only to copy and paste operations and not completing the entry of certificate contents.</p>
                </div>
                <ol>
                    <li>In a text editor, open the new certificate file.</li>
                    <li>Within the editor, select and copy the contents of the certificate file.</li>
                    <li>Return to the command-line console and paste the certificate file contents.</li>
                    <li>Enter Ctrl+D to save the certificate contents.<div class="noteOkta"><p class="noteContent">The command-line console opens an editor for the certificate's associated key contents.</p></div></li>
                    <li>In a text editor, open the key file.</li>
                    <li>In the editor, select and copy the contents of the key.</li>
                    <li>Return to the command-line console and paste the key file contents.</li>
                    <li>When complete, enter Ctrl+D to save the key contents. </li>
                </ol>
                <div class="noteOkta">
                    <p class="noteContent">The hostname and certificate type are pulled automatically for the certificate.</p>
                </div>
                <p>
							If a certificate is being updated, a prompt asks if you want to replace the existing certificate.  To proceed with the certificate update, press <span class="uicontrol">y</span> 
							followed by <span class="uicontrol">Enter</span>.</p>
            </div>
            <div>
                <h2><a name="Modify_An_Existing_Certificate"></a>Modify an existing certificate</h2>
                <p>When modifying an existing certificate, you're presented with three options:</p>
                <ul>
                    <li>[d] - Delete certificate </li>
                    <li>[u] - Update certificate</li>
                    <li>[x] - Return without change. </li>
                </ul>
                <p>To exit without change, enter <span class="uicontrol">x</span>.</p>
                <p>To update a certificate, enter <span class="uicontrol">u</span>. Follow the prompts to copy and paste the replacement certificate's key and certificate file, both of which must be in PEM format.</p>
                <p>To delete a certificate, enter <span class="uicontrol">d</span>.  Follow the prompt to confirm the deletion.</p>
            </div>
        </div>
        <h2>Next steps</h2>
        <p>
            <MadCap:xref href="cert-workflow-associate-cert.htm">Associate certificates</MadCap:xref>
        </p>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="command-line-console-reference.htm">Command line management console reference</MadCap:xref>
        </p>
    </body>
</html>