<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link href="../../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/ref-arch-prot-app.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Masked DNS protected application reference architecture</h1>
        <p>The Masked DNS  protected application  <MadCap:variable name="okta-feature-names.Access Gateway" /> architecture is the first step in isolating a protected web resource from the external internal. <br />In this architecture the protected web resource internal URL and the external URL are served by different DNS, effectively hiding or masking the actually application URL. In addition, the internal DNS server is isolated from the external web. Application users, in both the internal and external cases, use the same URL, which is directed to <MadCap:variable name="okta-feature-names.Access Gateway" />. The protected web application is then 'masked' in that only <MadCap:variable name="okta-feature-names.Access Gateway" /> accesses the protected web application by its internal, or 'masked' DNS&#160;name. </p>
        <h2>Benefits and drawbacks</h2>
        <table style="mc-table-style: url('../../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <thead>
                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th>
                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">
                        <ul>
                            <li>Simple</li>
                            <li>Internal application URL&#160;not resolvable externally</li>
                        </ul>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                        <ul>
                            <li>Protected web resource reachable from the external internet and internal network by name or IP</li>
                            <li>Requires secondary (internal)&#160;DNS server</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Architecture</h2>
        <img src="../../../Resources/Images/access-gateway/ref-arch-prot-app-1.png" id="img_new" class="thumbnail" />
        <p>Note that while hidden or masked, the protected web resource is still accessible by name or IP, from both the internal and external networks, if the masked DNS name or IP address is known.</p>
        <h3>Components</h3>
        <table style="mc-table-style: url('../../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <thead>
                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">
                        <p>Location</p>
                    </th>
                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th>
                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="2" style="font-weight: bold;vertical-align: middle;padding-left: 7px;padding-right: 7px;padding-top: 7px;padding-bottom: 7px;border-right-style: solid;border-right-width: 1px;border-right-color: #c0c0c0;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #c0c0c0;">External internet</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">External URL</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">External URL used by clients to access <MadCap:variable name="okta-feature-names.Access Gateway" /> on behalf of the protected web resource.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">DNS</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">DNS server providing DNS resolution for external URL. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" style="font-weight: bold;vertical-align: middle;padding-left: 7px;padding-right: 7px;padding-top: 7px;padding-bottom: 7px;border-right-style: solid;border-right-width: 1px;border-right-color: #c0c0c0;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #c0c0c0;">DMZ</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" />
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> cluster, located in the DMZ, uses multiple DNS servers to resolve internal and external URLs. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2" rowspan="3" style="font-weight: bold;vertical-align: middle;padding-left: 7px;padding-right: 7px;padding-top: 7px;padding-bottom: 7px;border-right-style: solid;border-right-width: 1px;border-right-color: #c0c0c0;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #c0c0c0;">Internal network</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
                        <p>Internal DNS and URL</p>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                        <p>Internal DNS server serving internal URL representing protected web resource in <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
                    </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                        <p>Load Balancer</p>
                    </td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                        <p>Internal load balancer. In some situations it may be possible to substitute <MadCap:variable name="okta-feature-names.Access Gateway" /> as a load balancer. </p>
                    </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Application</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">Protected web resource (application)</td>
                </tr>
            </tbody>
        </table>
        <div MadCap:conditions="Primary.do-not-publish">
            <h2>Other considerations</h2>
            <p>Are there any?</p>
        </div>
        <div>
            <h2>Related topics</h2>
            <p>
                <MadCap:xref href="ref-arch-flow.htm">Common [%=okta-feature-names.Access Gateway%] flows</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../about-oag-dns.htm">About [%=okta-feature-names.Access Gateway%] DNS use</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../about-high-availability.htm">About [%=okta-feature-names.Access Gateway%] high availability</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="../about-oag-prereqs.htm">Prerequisites for deploying [%=okta-feature-names.Access Gateway%]</MadCap:xref>
            </p>
        </div>
    </body>
</html>