<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/about-oag-prereqs.htm" />
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Learn about Access Gateway Prerequisites so that your organization can successfully deploy Access Gateway to secure on-prem apps." />
    </head>
    <body>
        <h1><MadCap:variable name="okta-feature-names.Access Gateway" /> deployment prerequisites</h1>
        <div>
            <p>This topic describes the prerequisites for deploying <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
            <p><MadCap:variable name="okta-feature-names.Access Gateway Full" /> runs in on-premises or customer infrastructure as a service (IaaS) environments.</p>
            <p>See <MadCap:xref href="support-matrix.htm">Supported technologies</MadCap:xref> for more information.</p>
            <h2><a name="UnderlyingHW"></a>Hardware requirements</h2>
            <p>The hardware that hosts the <MadCap:variable name="okta-feature-names.Access Gateway" /> virtual appliance must meet certain instruction set requirements.</p>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/OAG-instruction-set.flsnp" />
            <h2><a name="Okta"></a>Account requirements for Okta orgs</h2>
            <p>The <MadCap:variable name="okta-feature-names.Access Gateway" /> configuration process requires a super admin account to configure your Okta org as the Identity Provider. See <MadCap:xref href="configure-idp-okta.htm">Configure your Okta org as an Identity Provider</MadCap:xref>.</p>
            <h2><a name="Firewall_Rules"></a>Firewall and access requirements</h2>
            <h3>Ports and protocols</h3>
            <p><MadCap:variable name="okta-feature-names.Access Gateway" /> requires that various ports and protocols be open for use. This allows <MadCap:variable name="okta-feature-names.Access Gateway" /> to accept incoming requests, proxy those requests to applications, provide administrative interfaces, and  communicate with Okta and log server products.</p>
            <table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                <col class="TableStyle-standard-Column-Column1" />
                <col class="TableStyle-standard-Column-Column1" />
                <col class="TableStyle-standard-Column-Column1" style="width: 179px;" />
                <col class="TableStyle-standard-Column-Column1" style="width: 221px;" />
                <col class="TableStyle-standard-Column-Column1" />
                <thead>
                    <tr class="TableStyle-standard-Head-Header1">
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Description</th>
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Direction</th>
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Protocol</th>
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Port</th>
                        <th class="TableStyle-standard-HeadD-Column1-Header1">
                            Comments
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Okta org API access</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">TCP/HTTPS</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">443</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1">Your Okta org IP addresses may change. See <a href="https://help.okta.com/en-us/Content/Topics/Security/ip-address-allow-listing.htm#Implementation Details" target="blank">Allow access to Okta IP&#160;addresses</a> if you require specific IP address ranges to use as part of your firewall ACL.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> updates</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">TCP/HTTPS</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">443</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2">If you require finer controls to access <span class="url">yum.oag.okta.com</span>, you can configure access by IP address.<MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/firewall.ip.caution.flsnp" /></td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Integrated applications</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">TCP/HTTPS</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">application ports</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> communication to the protected application.
                        </td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access&#160;Gateway UI" /> and apps
                        </td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">
                            Inbound
                        </td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">
                            TCP/HTTPS
                        </td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">
                            443
                        </td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2">
                            All end users must be able to access <MadCap:variable name="okta-feature-names.Access Gateway" /> directly using port 443 if it's acting as an internet-facing reverse proxy or is deployed in the DMZ.
                        </td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Secure Shell (SSH) management</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Inbound/<br />Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">TCP/SSH</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">22</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1">Optional. This port carries internal SSH access to each node for accessing the <MadCap:variable name="okta-feature-names.Access Gateway CMD" />. By default, access to the <MadCap:variable name="okta-feature-names.Access Gateway CMD" /> is only allowed using the virtual environment console. Okta recommends that you don't open port 22 to general internet traffic.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> High Availability</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">Inbound/<br />Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">TCP/SSH</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">22</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2">Internal bi-directional communication between <MadCap:variable name="okta-feature-names.Access Gateway" /> nodes for configuration replication.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> High Availability</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Worker to admin</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">TCP/HTTPS</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">443</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1">During initial configuration of high-availability <MadCap:variable name="okta-feature-names.Access Gateway" /> worker instances, communicate using HTTPS over port 443 to the <MadCap:variable name="okta-feature-names.Access Gateway" /> admin.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2">NTP</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">TCP</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">123</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2">Network time and date synchronization.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Okta Support" /> connection</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">TCP</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">443</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1">If you require finer controls to access <span class="url">vpn.oag.okta.com</span> and <span class="url">support.oag.okta.com</span>, you can configure access through the IP address. <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/firewall.ip.caution.flsnp" /></td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2">System Log</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">System Log TCP</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">Customer-supplied</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2">Event log forwarding to a log server product.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> to the Key Distribution Center (KDC)</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">TCP/UDP</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">88</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> communication with the Key Distribution Center (KDC).</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> to DNS</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">TCP/UDP</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body2">53</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> communication with the DNS.</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body1" MadCap:conditions="Primary.review-only">
                        <td class="TableStyle-standard-BodyC-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> to Prometheus</td>
                        <td class="TableStyle-standard-BodyC-Column1-Body1">Inbound/<br />Outbound</td>
                        <td class="TableStyle-standard-BodyC-Column1-Body1">TCP/HTTP</td>
                        <td class="TableStyle-standard-BodyC-Column1-Body1">8889</td>
                        <td class="TableStyle-standard-BodyA-Column1-Body1">Metrics-based monitoring using Representational State Transfer (REST) between <MadCap:variable name="okta-feature-names.Access Gateway" /> and Prometheus.</td>
                    </tr>
                </tbody>
            </table>
            <h3>Application-specific access</h3>
            <p>Depending on how an application is configured, <MadCap:variable name="okta-feature-names.Access Gateway" /> may require access to the following services and ports:</p>
            <table style="mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
                <col class="TableStyle-standard-Column-Column1" style="width: 202pt;" />
                <col class="TableStyle-standard-Column-Column1" style="width: 57pt;" />
                <col class="TableStyle-standard-Column-Column1" />
                <col class="TableStyle-standard-Column-Column1" style="width: 279pt;" />
                <thead>
                    <tr class="TableStyle-standard-Head-Header1">
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Description</th>
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Direction</th>
                        <th class="TableStyle-standard-HeadF-Column1-Header1">Protocol</th>
                        <th class="TableStyle-standard-HeadD-Column1-Header1">Port</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-standard-Body-Body1">
                        <td class="TableStyle-standard-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> to the Data Store</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">Outbound</td>
                        <td class="TableStyle-standard-BodyF-Column1-Body1">LDAP/ODBC</td>
                        <td class="TableStyle-standard-BodyD-Column1-Body1">Customer-supplied (for example, 389/636)</td>
                    </tr>
                    <tr class="TableStyle-standard-Body-Body2">
                        <td class="TableStyle-standard-BodyC-Column1-Body2">Oracle E-Business Rapid SSO</td>
                        <td class="TableStyle-standard-BodyC-Column1-Body2">Outbound</td>
                        <td class="TableStyle-standard-BodyC-Column1-Body2">TCP/JDBC/SQL</td>
                        <td class="TableStyle-standard-BodyA-Column1-Body2">Customer-supplied (for example, 1521)</td>
                    </tr>
                </tbody>
            </table>
            <h3>General site accessibility</h3>
            <p>The following URLs must be reachable from the <MadCap:variable name="okta-feature-names.Access Gateway" /> appliance:</p>
            <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 462px;" />
                <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 382px;" />
                <thead>
                    <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                        <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">URL</th>
                        <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><span class="url">vpn.oag.okta.com</span>
                        </td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Okta Support" /> VPN</td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><span class="url">yum.oag.okta.com</span>
                        </td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">Update support</td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                        <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><span class="url">www.okta.com</span>
                        </td>
                        <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">Network testing</td>
                    </tr>
                    <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                        <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2"><span class="url">{client org}.okta.com</span>
                        </td>
                        <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">Client-specific Okta org</td>
                    </tr>
                </tbody>
            </table>
            <h2><a name="Load"></a>Front-end load balancer requirements</h2>
            <p>If <MadCap:variable name="okta-feature-names.Access Gateway" /> is installed in a high-availability
configuration, your organization must provide a load balancer to manage the traffic. You can use either the Source Network Address Translation (SNAT) or Dynamic Network Address Translation (DNAT) protocols. Configure the load balancer to
balance through a hash of the source port and IP address. See <MadCap:xref href="architecture.htm">Example architecture</MadCap:xref> and <MadCap:xref href="about-load-balancers.htm">Load balancers</MadCap:xref>.</p>
        </div>
    </body>
</html>