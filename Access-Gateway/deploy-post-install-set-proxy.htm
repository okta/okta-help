<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/deploy-post-install-set-proxy.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Set <MadCap:variable name="okta-feature-names.Access Gateway" /> proxy server</h1>
        <p>This procedure describes how to set a proxy for <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
        <p>Worker nodes retrieve information from the admin node over HTTPS. The following traffic is routed through the proxy:</p>
        <ul>
            <li>Communication to the <MadCap:variable name="okta-feature-names.Identity Provider full name" />.</li>
            <li>Communication with the support VPN connection.</li>
            <li>Communication with the YUM repositories.</li>
        </ul>
        <div class="noteOkta">
            <p class="noteContent">Setting or unsetting a proxy requires a system restart. Ensure that sufficient restart downtime is accounted for.</p>
        </div>
        <h2>Before you begin</h2>
        <p>Nodes, workers, and admin nodes must be set up in the following ways before you can set a proxy for <MadCap:variable name="okta-feature-names.Access Gateway" />:</p>
        <ul>
            <li>All nodes must be in the proxy bypass when you sync nodes.</li>
            <li>The worker node requires that the admin node is in the proxy bypass.</li>
            <li>The admin node requires that the worker nodes are in the proxy bypass.</li>
        </ul>
        <h2>Set the proxy for <MadCap:variable name="okta-feature-names.Access Gateway" /></h2>
        <ol>
            <li>
                <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/oag-cmd-line-console-signin.flsnp" />
            </li>
            <li>Enter 1 - <span class="uicontrol">Network</span>.</li>
            <li>Enter <span class="uicontrol">5 </span>-<span class="uicontrol"> Proxy settings</span>. See <a href="command-line-console-reference-network.htm#proxy">Proxy settings</a> for a complete list of all proxy-related commands.</li>
            <li>Choose either <span class="uicontrol">1</span> - <span class="uicontrol">Set proxy</span> or <span class="uicontrol">2</span> - <span class="uicontrol">Unset proxy</span> . Enter <span class="uicontrol">Ctrl</span> +  <span class="uicontrol">c</span> at any time to abort.<p>To set a proxy:</p><ul><li><span class="uicontrol">Enter proxy host</span>: &lt;proxy host name&gt; or &lt;ip address of proxy&gt;</li><li><span class="uicontrol">Enter proxy port</span>: &lt;port where proxy is listening&gt;</li><li><span class="uicontrol">Enter hosts that need to bypass proxy</span>: &lt;comma separated list of hosts that bypass proxy&gt;</li><li>Enter <span class="uicontrol">y</span> to confirm or <span class="uicontrol">N</span> to cancel.</li></ul><p>To unset a proxy:</p><ul><li>Enter <span class="uicontrol">y</span> to unset proxy, or <span class="uicontrol">N</span> to cancel.</li></ul></li>
            <li>Enter <span class="uicontrol">x</span> to return to the <span class="uicontrol">Proxy settings</span> menu.</li>
            <li>Enter <span class="uicontrol">x</span> to return the <span class="uicontrol">Network</span> menu.</li>
            <li>Enter <span class="uicontrol">x</span> to return to the main menu.</li>
            <li>Enter <span class="uicontrol">5</span> - <span class="uicontrol">System</span>.</li>
            <li>Enter <span class="uicontrol">5</span> - <span class="uicontrol">Reboot</span>.</li>
            <li>Enter <span class="uicontrol">y</span> to confirm reboot.</li>
        </ol>
        <div class="noteOkta">
            <p class="noteContent" style="font-weight: bold;">High availability clusters: Repeat the process on all cluster members.</p>
        </div>
    </body>
</html>