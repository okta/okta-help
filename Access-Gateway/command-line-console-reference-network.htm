<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Network</h1>
        <p>The <span class="uicontrol">Network</span> menu contains options for checking the status of the network and modifying the network settings. </p>
        <p>Select <span class="uicontrol">1</span> at the main menu to enter the <MadCap:variable name="okta-feature-names.Access Gateway" style="font-weight: bold;" /> <span class="uicontrol"> Network Setup</span> submenu.</p>
        <h2>Network commands</h2>
        <ul>
            <li>
                <MadCap:xref href="#ManageInterfaces">Manage Interfaces</MadCap:xref>: Manage 
network interfaces including routing for the <MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</li>
            <li>
                <MadCap:xref href="#Test">Test network configuration</MadCap:xref>: Attempt
to connect to several websites and check the NGINX
configuration and status.</li>
            <li>
                <MadCap:xref href="#Edit">Edit the /etc/hosts file</MadCap:xref>: Edit the <span class="filepath">/etc/hosts</span> file on the
<MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</li>
            <li>
                <MadCap:xref href="#Set">Set up NIC bonding</MadCap:xref>: Configure a NIC bonding
configuration similar to a static network configuration.</li>
            <li>
                <MadCap:xref href="#proxy">Proxy Settings</MadCap:xref>: Set up a proxy connection
for the <MadCap:variable name="okta-feature-names.Access Gateway" /> appliance, or remove a proxy configuration from
the appliance.</li>
            <li>
                <MadCap:xref href="#ping">Ping</MadCap:xref>: This command determines if a destination host is reachable from the
<MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</li>
            <li>
                <MadCap:xref href="#ConnectivityTest">Connectivity Test</MadCap:xref>: This test validates a connection between the <MadCap:variable name="okta-feature-names.Access Gateway" />
appliance and any other system. Use this tool to validate whether a back-end
application or server can reach the <MadCap:variable name="okta-feature-names.Access Gateway" />.</li>
            <li>
                <MadCap:xref href="#Manage">Manage DNS Settings</MadCap:xref>: Configure primary and secondary DNS servers.</li>
            <li>
                <MadCap:xref href="#View">View the configuration change plan</MadCap:xref>: View the configuration
change plan.</li>
            <li>
                <MadCap:xref href="#DNSLookup">DNS Lookup</MadCap:xref>: Perform a DNS lookup for a given hostname.
            </li>
            <li>
                <MadCap:xref href="#curl">Connectivity test (cURL)</MadCap:xref>: Validate a connection using cURL.
            </li>
            <li>
                <MadCap:xref href="#ManageTrustedDomains">Manage Trusted Domains</MadCap:xref>: Enable, disable, and view trusted domains.</li>
            <li>
                <MadCap:xref href="#Show">Show a running configuration</MadCap:xref>: View the current
configuration of the <MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</li>
            <li>
                <MadCap:xref href="#Commit">Commit the changes</MadCap:xref>: Commit any unsaved changes to the
<MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</li>
            <li>
                <MadCap:xref href="#Restart">Restart Networking</MadCap:xref>: Restart the networking services on the
<MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</li>
            <li>Exit: Exit to the Management Console.</li>
        </ul>
        <div>
            <h3><a name="ManageInterfaces"></a>Manage Interfaces</h3>
            <div>
                <p>The <span class="uicontrol">Manage Interfaces</span> submenu allows you to perform the following tasks:</p>
                <ul>
                    <li>Set up DHCP&#160;management for an interface.</li>
                    <li>Assign or remove an IP address from an interface (available since <MadCap:variable name="okta-feature-names.Access Gateway" /> version
    <MadCap:variable name="oag-versions.2020-07" />).</li>
                    <li>Assign or remove a route from an interface. </li>
                </ul>
            </div>
            <div class="noteOkta">
                <p class="noteContent">All networking changes made using the <span class="uicontrol">Manage Interfaces</span> submenu are collected and must be persisted when completed using the <span class="uicontrol">Commit changes to system</span> menu element.</p>
                <p class="noteContent">Changes are made immediately but are only persisted when committed using <span class="uicontrol">Commit changes to system</span>. </p>
            </div>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/network-manage-assign-ip.flsnp" />
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/network-manage-manage-route.flsnp" />
        </div>
        <blockquote MadCap:conditions="Primary.deprecated">
            <h3>Set up DHCP networking</h3>
            <ol>
                <li>
                    <p>Press <span class="uicontrol">2</span> to enter the DHCP networking setup and enable DHCP.</p>
                </li>
                <li>
                    <p>In this option, changes are written immediately and you don't need to commit the change later. The system prompts you to confirm each change.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">y</span> and <span class="uicontrol">Enter</span> to confirm, or press <span class="uicontrol">n</span> and <span class="uicontrol">Enter</span> to return to the main <span class="uicontrol">Networking</span> menu.</p>
                </li>
                <li>
                    <p>After the network interface is restarted, press <span class="uicontrol">Enter</span> to continue.</p>
                </li>
            </ol>
        </blockquote>
        <div>
            <h3><a name="Test"></a>Test network configuration</h3>
            <ol>
                <li>
                    <p>Press <span class="uicontrol">3</span> to begin the network configuration test.</p>
                </li>
                <li>
                    <p>The system attempts to connect to <span class="uicontrol">www.okta.com</span> and displays the status. Press <span class="uicontrol">Enter</span> to continue.</p>
                </li>
                <li>
                    <p>The system checks the NGINX configuration and displays the status. Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</p>
                </li>
            </ol>
        </div>
        <div>
            <h3><a name="Edit"></a>Edit the /etc/hosts file</h3>
            <p>The <span class="filepath">/etc/hosts</span> file is used to configure statically assigned hostnames. Adminstrators can override DNS addresses for specific hostnames or provide addresses for hosts not in DNS by adding entries to <span class="filepath">/etc/hosts</span>. This helps Okta <MadCap:variable name="okta-feature-names.Access Gateway" /> connect to the correct host. </p>
            <ol>
                <li>
                    <p>Press <span class="uicontrol">4</span> to edit the <span class="filepath">/etc/hosts</span> file. This shows you the current entries in the hosts file by line number.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">a</span> to add an entry.</p>
                </li>
                <li>
                    <p>Add the entry following the standard format.</p>
                </li>
                <li>
                    <p>To delete an entry, press <span class="uicontrol">d</span> and enter the line number that corresponds to the entry you want to delete.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">c</span> to commit the changes to the hosts file.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">x</span> to return to the main <span class="uicontrol">Networking</span> menu.</p>
                </li>
            </ol>
        </div>
        <div>
            <h3><a name="Set"></a>Set up NIC bonding</h3>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/manage-network-nic-bonding.flsnp" />
        </div>
        <div MadCap:conditions="Primary.deprecated">
            <h3>Change Interface</h3>
            <p>Change the <MadCap:variable name="okta-feature-names.Access Gateway" /> application network interface.</p>
            <div class="noteOkta">
                <p class="noteContent">You need the name of the switch-to interface before you begin this task. For example, <span class="wintitle">eth0</span>, or <span class="wintitle">eth1</span>.</p>
            </div>
            <ol>
                <li>
                    <p>Press <span class="uicontrol">6</span> to change the network interface.</p>
                </li>
                <li>
                    <p>Enter the network interface that you want to use (for example, <span class="uicontrol">eth0</span>, <span class="uicontrol">eth1</span>, <span class="uicontrol">eth</span>, and so on).</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">Enter</span> to return to the main <span class="uicontrol">Networking</span> menu, and confirm that the interface has changed in the <span class="uicontrol">6 — Change interface [interface name]</span> menu option. The new interface appears in the menu option.</p>
                </li>
            </ol>
        </div>
        <div>
            <h3><a name="proxy"></a>Proxy Settings</h3>
            <h4>Set a proxy</h4>
            <ol>
                <li>Press <span class="uicontrol">7</span> to set up or disable a proxy connection to the internet.</li>
                <li>Press <span class="uicontrol">1</span> to configure the proxy.</li>
                <li>Enter the proxy hostname, and press <span class="uicontrol">Enter</span>.</li>
                <li>Enter the proxy port, and press <span class="uicontrol">Enter</span>.</li>
                <li>If required, enter a proxy username, and then press <span class="uicontrol">Enter</span>. </li>
                <li>If required, enter a proxy password, and then press <span class="uicontrol">Enter</span>.<br /></li>
                <li>Enter the hostnames (separated by commas) that need to bypass the proxy.</li>
                <li>Press <span class="uicontrol">y</span> to confirm the proxy settings, or <span class="uicontrol">N</span> to abort.</li>
                <li>Press <span class="uicontrol">Enter</span> to return to the proxy menu, and then press <span class="uicontrol">Enter</span> again to return to the main <span class="uicontrol">Networking</span> menu.</li>
            </ol>
            <h4>Unset a proxy</h4>
            <ol>
                <li>
                    <p>Press <span class="uicontrol">7</span> to enter the proxy menu.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">2</span> to remove the proxy configuration.</p>
                </li>
                <li>
                    <p>Enter <span class="uicontrol">y</span> to confirm.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">Enter</span> to return to the proxy menu, and press <span class="uicontrol">Enter</span> again to return to the main <span class="uicontrol">Networking</span> menu.</p>
                </li>
            </ol>
        </div>
        <h3><a name="ping"></a>Ping</h3>
        <p>The Ping option can check if a destination host is reachable from the <MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.</p>
        <ol>
            <li>
                <p>Press <span class="uicontrol">8</span> to enter the ping menu.</p>
            </li>
            <li>
                <p>Enter the hostname or IP address for the destination host that you want to ping, and press <span class="uicontrol">Enter</span>.</p>
            </li>
            <li>
                <p>The system displays the ping results.</p>
            </li>
            <li>
                <p>Press <span class="uicontrol">Enter</span> to return to the main <span class="uicontrol">Networking</span> menu.</p>
            </li>
        </ol>
        <div>
            <h3><a name="ConnectivityTest"></a>Connectivity Test</h3>
            <p>This test validates a connection between the <MadCap:variable name="okta-feature-names.Access Gateway" /> and any other system. This tool can also be used to validate if a back-end application or server is reachable from the <MadCap:variable name="okta-feature-names.Access Gateway" /> appliance.
</p>
            <ol>
                <li>
                    <p>Select <span class="uicontrol">9</span> from the <span class="uicontrol">Network</span> menu.</p>
                </li>
                <li>
                    <p>Enter the hostname or IP address of the machine that you want to test, and press <span class="uicontrol">Enter</span>.</p>
                </li>
                <li>
                    <p>Enter the port number that needs to be tested, and press <span class="uicontrol">Enter</span>.</p>
                </li>
                <li>
                    <p>The system displays the connection results.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</p>
                </li>
            </ol>
        </div>
        <div>
            <h3><a name="Manage"></a>Manage DNS Settings</h3>
            <p>The <span class="uicontrol">Manage DNS Setting</span> submenu is used to add, delete, or modify domain name servers, and search domains.</p>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/network-manage-manage-dns.flsnp" />
            <h4>Manage DNS servers</h4>
            <ol>
                <li>Enter <span class="uicontrol">1</span> to enter the <span class="uicontrol">Manage DNS&#160;servers</span> submenu. This displays the current DNS&#160;servers.<br /><span class="codeblock">Managing DNS Servers
Primary: 192.168.8.8
Secondary:
Tertiary:
. . . 
</span></li>
                <li>Enter <span class="uicontrol">1</span> to set the Primary DNS server.</li>
                <li>Enter <span class="uicontrol">2</span> to set the Secondary DNS server.</li>
                <li>Enter <span class="uicontrol">3</span> to set the Tertiary DNS server.<br /><div class="noteOkta"><p class="noteContent">When no DNS&#160;servers are set, setting a secondary or tertiary DNS server results in setting a primary DNS&#160;server.</p><p class="noteContent">Primary DNS&#160;Server IP addresses can't be blank, while secondary and tertiary DNS&#160;servers may be omitted. </p></div></li>
                <li>Enter the IP address for the selected DNS server and click <span class="uicontrol">Enter</span>. The updated DNS server list appears.<br /></li>
                <li>Enter <span class="uicontrol">x</span> to exit and return to the parent menu.</li>
            </ol>
            <h4>Manage search domains</h4>
            <p><MadCap:variable name="okta-feature-names.Access Gateway" /> supports up to six search domains.</p>
            <ol>
                <li>Enter <span class="uicontrol">2</span> to enter the <span class="uicontrol">Manage search domains</span> submenu. The current search domains appear.<br /><span class="codeblock">Current search domains:
   okta.com
   someotherdomain.com
. . . 
</span></li>
                <li>Enter <span class="uicontrol">a</span> to add a search domain.<ol style="list-style-type: lower-alpha;"><li>Enter the new search domain followed by <span class="uicontrol">Enter</span>.</li><li>The new search domain is added and the current list appears.<br /><span class="codeblock">Current search domains:
   okta.com
   someotherdomain.com
   . . . 
</span></li></ol></li>
                <li>Enter <span class="uicontrol">r</span> to remove an existing search domain. The list of existing search domains appears.
<br /><span class="codeblock">Remove which search domain:
1: okta.com
2: someotherdomain.com
. . . 
</span><ol style="list-style-type: lower-alpha;"><li>Enter the number associated with the search domain to be removed.</li><li>The search domain is removed and the current list appears. For example, after removing <span class="url">someotherdomain.com</span>, the output is <span class="code">okta.com</span>.<br /><span class="codeblock">Current search domains:
   okta.com
   . . . 
</span></li></ol></li>
            </ol>
        </div>
        <div>
            <h3><a name="ManageTrustedDomains"></a>Manage Trusted Domains</h3>
            <p>This menu is used to enable, disable, or view trusted domains.
                </p>
            <p>
                <MadCap:snippetText src="../../Resources/Snippets/access-gateway/AvailSince2020-08.flsnp" />
            </p>
            <ol>
                <li>
                    <p>Select <span class="uicontrol">9</span> from the network menu to open the <span class="uicontrol">Manage Trusted Domains</span> submenu:&#160;<br /><span class="codeblock">Manage Trusted Domains (status: Enabled/Disabled) 
1 - Enable/Disable trusted domain 
2 - View trust domains
x - Exit
</span></p>
                </li>
                <li>Enter <span class="uicontrol">x</span> to exit and return to the parent menu.</li>
            </ol>
            <div>
                <h4>Enable or Display trusted domains</h4>
                <ol>
                    <li>Enter <span class="uicontrol">1</span> to toggle the <span class="uicontrol">Enable/Disable trusted domain</span> option.</li>
                    <li>The <span class="uicontrol">Manage Trusted Domains</span> menu displays the status for trusted domains.</li>
                </ol>
            </div>
            <div>
                <h4>View trust domains</h4>
                <ol>
                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/trusted-domains-view.flsnp" />
                </ol>
            </div>
        </div>
        <div>
            <h3><a name="Show"></a>Show a running configuration</h3>
            <p>This option can be used to display details of the current configuration, including interface, DNS, and routing and host file contents.</p>
            <ol>
                <li>Select <span class="uicontrol">s</span> from the <span class="uicontrol">Networking</span> menu.</li>
                <li>Press <span class="uicontrol">Enter</span> to display running configuration details.</li>
                <li>Press <span class="uicontrol">Enter</span> to return to the <span class="wintitle">Networking</span> menu.</li>
            </ol>
        </div>
        <div>
            <h3><a name="View"></a>View the configuration change plan</h3>
            <p>Display details of the current configuration including interface, DNS, and the routing and host file contents.</p>
            <ol>
                <li>
                    <p>Select <span class="uicontrol">v</span> from the <span class="uicontrol">Networking</span> menu.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</p>
                </li>
            </ol>
        </div>
        <div>
            <h3><a name="DNSLookup"></a>DNS Lookup</h3>
            <p>Perform a DNS lookup for a given hostname.</p>
            <ol>
                <li>Select <span class="uicontrol">d</span> from the <span class="uicontrol">Networking</span> menu.</li>
                <li>Enter the host name or IP address that you want to look up.</li>
                <li>Enter the host name or IP&#160;address of the DNS server.</li>
                <li>Press <span class="uicontrol">Enter</span> to start the search operation.</li>
                <li>Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</li>
            </ol>
            <h3><a name="curl"></a>Connectivity test (cURL)</h3>
            <ol>
                <li>Select <span class="uicontrol">u</span> from the <span class="uicontrol">Networking</span> menu.</li>
                <li>Enter the URL to which you want to test connectivity.</li>
                <li>Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</li>
            </ol>
        </div>
        <div>
            <h3><a name="Commit"></a>Commit the changes</h3>
            <ol>
                <li>Select <span class="uicontrol">c</span> from the <span class="uicontrol">Networking</span> menu.</li>
                <li>Select <span class="uicontrol">y</span> to commit, or <span class="uicontrol">n</span> to ignore changes.</li>
                <li>Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</li>
            </ol>
        </div>
        <div>
            <h3><a name="Restart"></a>Restart Networking</h3>
            <ol>
                <li>
                    <p>Select <span class="uicontrol">r</span> from the <span class="uicontrol">Networking</span> menu.</p>
                </li>
                <li>
                    <p>Networking restarts.</p>
                </li>
                <li>
                    <p>Press <span class="uicontrol">Enter</span> to return to the <span class="uicontrol">Networking</span> menu.</p>
                </li>
            </ol>
        </div>
        <div>
            <h2>See also</h2>
            <p>
                <MadCap:xref href="command-line-console-reference.htm"> Command Line Management Console reference</MadCap:xref>
            </p>
        </div>
    </body>
</html>