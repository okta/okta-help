<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/cert-workflow-upload.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Upload certificates</h1>
        <p>This topic describes how to upload a self-signed certificate, or a certificate from a Certificate Authority, to <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
        <p>You must upload certificates to <MadCap:variable name="okta-feature-names.Access Gateway" /> before you can associate them with applications.</p>
        <div>
            <p>If you upload a self-signed certificate, the default virtual hostname is associated with it.</p>
            <p>You can also use the <MadCap:variable name="okta-feature-names.Access&#160;Gateway UI" /> to select a certificate. See <MadCap:xref href="cert-workflow-associate-cert-adminconsole.htm">Associate a default host certificate using the [%=okta-feature-names.Access&#160;Gateway UI%]</MadCap:xref>.</p>
        </div>
        <div>
            <h2>Upload an SSL certificate</h2>
            <ol>
                <li>Use a Secure Shell (SSH) connection to connect to the <MadCap:variable name="okta-feature-names.Access Gateway CMD" />. See <MadCap:xref href="command-line-console-reference.htm"> Command Line Management Console reference</MadCap:xref>.</li>
                <li>Press <span class="uicontrol">2</span> to go to the <span class="uicontrol">Services</span> submenu.</li>
                <li>Press <span class="uicontrol">1</span> to go to the <span class="uicontrol">NGINX</span> submenu.</li>
                <li>Press <span class="uicontrol">6</span> to update a Secure Sockets Layer (SSL) certificate. The list of certificates appears.</li>
                <li>Select one of the following commands:<ul><li><span class="uicontrol">x</span>: Exit the <span class="uicontrol">Add/modify certificates</span> submenu.</li><li><span class="uicontrol">a</span>: Add a  certificate. See <MadCap:xref href="#Add_a_new_certificate">Add a certificate</MadCap:xref> for instructions.</li><li><span class="uicontrol">#</span>: Modify a certificate. See <MadCap:xref href="#Modify_An_Existing_Certificate">Modify a certificate</MadCap:xref> for instructions.</li></ul></li>
            </ol>
            <div>
                <h2><a name="Add_a_new_certificate"></a>Add a certificate</h2>
                <p>You can add certificates using cut and paste operations.  Both the certificate and the key must be in Privacy Enhanced Mail&#160;(PEM) format.<br /></p>
                <div class="noteOkta">
                    <p class="noteContent">Depending on your operating system, the command sequence for copying and pasting certificate contents may be different than what appears here.</p>
                </div>
                <ol>
                    <li>In a text editor, open the new certificate file.</li>
                    <li>Select and copy the contents of the certificate file.</li>
                    <li>Return to the command-line console and paste the certificate file contents. If you want to include the intermediate and root certificates, you must provide them in the following order: issued certificate, intermediate, and then the root. This example shows how to format the command to include all three certificates:
						<span class="codeblock">-----BEGIN CERTIFICATE-----
Issued Certificate
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
Intermediate Certificate
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
Root Certificate
-----END CERTIFICATE-----</span></li>
                    <li>Press <span class="uicontrol">Ctrl</span> + <span class="uicontrol">d</span> to save the certificate contents. The command-line console opens a new editor for the certificates' associated key contents.</li>
                    <li>In a text editor, open the key file.</li>
                    <li>Select and copy the contents of the key.</li>
                    <li>Return to the command-line console and paste the key file contents.</li>
                    <li>Press <span class="uicontrol">Ctrl</span> + <span class="uicontrol">d</span> to save the key contents. The hostname and certificate type are pulled automatically for the certificate.
					
						<p>If you're updating a certificate, a prompt asks if you want to replace the current certificate. To update the certificate, press <span class="uicontrol">y</span> 
						and then <span class="uicontrol">Enter</span>.</p></li>
                </ol>
            </div>
            <div>
                <h2><a name="Modify_An_Existing_Certificate"></a>Modify a certificate</h2>
                <p>Select one of the following commands:</p>
                <ul>
                    <li><span class="uicontrol">d</span>: Delete a certificate.</li>
                    <li><span class="uicontrol">u</span>: Update a certificate. Follow the prompts to copy and paste the replacement certificate's key and certificate file, both of which must be in PEM format.</li>
                    <li><span class="uicontrol">x</span>: Exit this menu without making changes.</li>
                </ul>
            </div>
        </div>
        <h2>Next steps</h2>
        <p>
            <MadCap:xref href="cert-workflow-associate-cert.htm">Associate certificates</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="cert-workflow-associate-cert-adminconsole.htm">Associate a default host certificate using the [%=okta-feature-names.Access&#160;Gateway UI%]</MadCap:xref>
        </p>
    </body>
</html>