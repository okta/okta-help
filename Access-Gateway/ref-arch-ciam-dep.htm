<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="Primary.deprecated" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/ref-arch-ciam.htm" />
        <link href="../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>CIAM&#160; application reference architecture</h1>
        <p>Organizations focused on Customer identity access management (CIAM) architectures have distinct architectural considerations.  CIAM infrastructures are typically built to accommodate a high number of users and  requests to the applications.  Applications are built out with  multiple levels of redundancy and may be located in multiple data centers around the world in an active/active configurations.  A typical architecture may include only a single application, multiple applications, or many applications, with different infrastructure requirements. Rather than shared infrastructure, typically each application has a separate stack for isolation and performance.  In addition, there is often a requirement to let the users deeply into the application before requiring the user login or register.<br />In an Okta environment, CIAM users are typically stored in Universal Directory, instead of on premise LDAP, AD, or databases.</p>
        <div>
            <ul>
                <li>
                    <MadCap:xref href="#Approach">Approach</MadCap:xref>
                </li>
                <li>
                    <MadCap:xref href="#architectures">[%=okta-feature-names.Access Gateway%] architectures</MadCap:xref>
                </li>
            </ul>
        </div>
        <h2><a name="Approach"></a>Approach</h2>
        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-approach.flsnp" MadCap:conditionTagExpression="include[SnippetConditionsForOAG.IncludeCIAM]" />
        <h2><a name="architectures"></a> <MadCap:variable name="okta-feature-names.Access Gateway" /> CIAM architectures</h2>
        <p><MadCap:variable name="okta-feature-names.Access Gateway" /> CIAM&#160;installations can be deployed in any number of possible combinations. Common architecture are:</p>
        <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Single server</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">The simplest of all architectures, the single <MadCap:variable name="okta-feature-names.Access Gateway" /> server architecture is typical in development and test scenarios.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Single cluster</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">The single cluster Access Gateway is an architecture representing the components required for protecting a single web resources using Access Gateway.
This architecture extends the simple Access Gateway instance architecture by introducing an Access Gateway cluster.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Single split cluster</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">The single split cluster Access Gateway is an architecture representing the components required for protecting multiple similar web resources using Access Gateway.
This architecture extends the single cluster Access Gateway architecture by introducing an Access Gateway cluster split across multiple virtual environments.</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"> Hybrid multi-cluster split</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">The hybrid multi-cluster split Access Gateway is an architecture representing the components required for protecting multiple sets of web resources, with different requirements, using Access Gateway.
This architecture combines the single cluster Access Gateway and single split cluster architecture by introducing an Access Gateway cluster split across clusters and multiple virtual environments. </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Multi-cluster</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">The multi-cluster Access Gateway architecture represents the components required for protecting multiple sets of web resources, with different requirements, using Access Gateway.
This architecture extends the single cluster Access Gateway architecture by using multiple Access Gateway clusters distributed across multiple virtual environments.

</td>
                </tr>
            </tbody>
        </table>
        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-funct-areas.flsnp" />
        <ul class="tabs" data-tabs="data-tabs" data-deep-link="true" id="oag-ref-arch-ciam">
            <li class="tabs-title is-active"><a href="#tab1" aria-selected="true">Single instance</a>
            </li>
            <li class="tabs-title"><a href="#tab2">Single cluster</a>
            </li>
            <li class="tabs-title"><a href="#tab3">Single split cluster</a>
            </li>
            <li class="tabs-title"><a href="#tab4">Hybrid multi-cluster split</a>
            </li>
            <li class="tabs-title"><a href="#tab99">Multi-cluster</a>
            </li>
        </ul>
        <div class="tabs-content" data-tabs-content="oag-ref-arch-ciam">
            <div class="tabs-panel is-active" id="tab1">
                <div style="background-color: #f7f7f7;">
                    <p>The simple CIAM application  <MadCap:variable name="okta-feature-names.Access Gateway" /> architecture represents a set of components required for protecting a single customer application web resource using <MadCap:variable name="okta-feature-names.Access Gateway" />. </p>
                    <p>This architecture represents a baseline or starting point for other architectures.</p>
                    <p>In this architecture, a single application, referred to as a protected web resource, is served to requesting clients using a single instance of <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
                    <div>
                        <p> This architecture is designed to meet the following requirements:</p>
                        <ul>
                            <li>Protect a single customer application.</li>
                            <li>Provide a baseline for testing and development.</li>
                        </ul>
                    </div>
                    <div>
                        <h2>Benefits and drawbacks</h2>
                        <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                            <thead>
                                <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                                    <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th>
                                    <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">
                                        <ul>
                                            <li>Simple installation</li>
                                            <li>Baseline for testing, proof of concept etc.</li>
                                        </ul>
                                    </td>
                                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                                        <ul>
                                            <li>Not fault tolerant</li>
                                            <li>No load balancing or high availability</li>
                                            <li>Not intended for production</li>
                                            <li>Administration server access requires SSH port 22, and HTTPS ports 443, be open. See <MadCap:xref href="about-oag-prereqs.htm">Prerequisites for deploying [%=okta-feature-names.Access Gateway%]</MadCap:xref> for details.</li>
                                        </ul>&#160;</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <h3>Architecture</h3>
                    <p>
                        <img src="../../Resources/Images/access-gateway/ref-arch-ciam-0.png" id="img_new" class="thumbnail" />
                    </p>
                    <h3>Components</h3>
                    <table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                        <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
                        <thead>
                            <tr class="TableStyle-srb_header_alt_shade-Head-Header1">
                                <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">
                                    <p>Location</p>
                                </th>
                                <th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th>
                                <th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="4">
                                    <p>External internet</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Web clients</td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" />
                                </td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><span id="code">comsumer-app1.example.com</span>
                                    <br />URLs not shown </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                                    <p>URL representing the applications an external web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org</td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" />
                                </td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org Universal Directory</td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" />
                                </td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                                    <p>Firewall</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                                    <p>External internet to DMZ</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                                    <p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">
                                    <p>DMZ</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" />
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> cluster, located in the DMZ is used to provide access to applications used by  external internet clients. <br />Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                                    <p>Firewall</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">
                                    <p>DMZ to internal firewall</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                                    <p>Traditional firewall between&#160;DMZ and the internal network.</p>
                                </td>
                            </tr>
                            <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                                <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">
                                    <p>Internal network</p>
                                </td>
                                <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Protected CIAM&#160;application</td>
                                <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">The set of protected web resources, accessed using the <span id="code">comsumer-app1.internal-example.com</span> URLs. The traditional or historic applications which <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the <span class="uicontrol">Protected Web Resource</span> field within each application definition. </td>
                            </tr>
                        </tbody>
                    </table>
                    <div>
                        <h2>Other considerations</h2>
                        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-simple-0-other-considerations.flsnp" />
                    </div>
                </div>
            </div> <!-- end tab 1 --><div class="tabs-panel" id="tab2"><div style="background-color: #f7f7f7;"><p>The single cluster <MadCap:variable name="okta-feature-names.Access Gateway" /> is an architecture representing the components required for protecting a single web resources using <MadCap:variable name="okta-feature-names.Access Gateway" />. It extends the simple <MadCap:variable name="okta-feature-names.Access Gateway" /> instance architecture by introducing an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.  </p><div><p> This architecture is designed to meet the following requirements:</p><ul><li>Secure access to a single application - Accessible to the external internet.</li><li>Provide fault tolerance -  Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" />, as cluster workers, such that if one is unavailable the cluster continues to perform normally. </li><li>Manage capacity - Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> to handle expected load. </li></ul></div><div><h2>Benefits and drawbacks</h2><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><ul><li>Relatively simple installation</li><li>Provides basic fault tolerance and capacity support</li><li>Can be expanded with additional workers as required to add capacity</li><li>Load balanced</li></ul></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><ul><li>Single virtual environment</li><li>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> DMZ based load balancer must support session affinity (sticky sessions)</li></ul> </td></tr></tbody></table></div><h2>Architecture</h2><p><img src="../../Resources/Images/access-gateway/ref-arch-ciam-1.png" id="img_new" class="thumbnail" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location </p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="3"><p>External internet</p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Web client</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Firewall</p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>External internet to DMZ</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" rowspan="8"><p>Internal network</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.<br />Access by administrators within the internal network.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>Balances load between clients and the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Positioned between clients and the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> instance, located in the DMZ is used to provide access to applications used by  external internet clients. <br />Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Internal application load balancer</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p style="font-weight: normal;">Balances load between the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the protected applications.<br />See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><span id="code">comsumer-app1.example.com</span></p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>URL representing one of the applications a web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Protected application<br /></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">The set of protected web resources, accessed using the <span id="code">consumer-app1.internal-example.com</span> URLs. The traditional or historic application <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the <span class="uicontrol">Protected Web Resource</span> field within each application definition. </td></tr></tbody></table><div><h2>Other considerations</h2><div><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-dns.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div><p>Not shown in this architecture are the data centers housing architecture components. </p></div></div></div> <!-- End tab 2--><div class="tabs-panel" id="tab3"><div style="background-color: #f7f7f7;"><p>The single split cluster <MadCap:variable name="okta-feature-names.Access Gateway" /> is an architecture representing the components required for protecting multiple similar  web resources using <MadCap:variable name="okta-feature-names.Access Gateway" />. It extends the single cluster <MadCap:variable name="okta-feature-names.Access Gateway" style="font-style: italic; font-weight: normal;" />  architecture by introducing an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster split across multiple virtual environments.  </p><div><p> This architecture is designed to meet the following requirements:</p><ul><li>Secure access to multiple applications with similar loads - Accessible to the external internet.</li><li>Provide fault tolerance -  Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" />, as cluster workers, such that if one is unavailable the cluster continues to perform normally. </li><li>Manage capacity - Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> to handle expected load. </li></ul></div><div><h2>Benefits and drawbacks</h2><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><ul><li>Supports multiple applications with varying loads</li><li>Provides basic fault tolerance and capacity support</li><li>Can be expanded with additional workers as required to add additional capacity</li><li>Load balanced</li></ul></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><ul><li>Complex</li><li>Multiple virtual environments</li><li>Requires multiple load balancers</li><li>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> DMZ based load balancer must support session affinity (sticky sessions)</li></ul> </td></tr></tbody></table></div><h2>Architecture</h2><p><img src="../../Resources/Images/access-gateway/ref-arch-ciam-2.png" id="img_new" class="thumbnail" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location </p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="3" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>External internet</p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Web client</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Firewall</p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>External internet to DMZ</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="9" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Internal network</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.<br />Access by administrators within the internal network.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>Balances load between clients and the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Positioned between clients and  <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> environment one</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ, used to serve CIAM&#160;application 1. </p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> environment two</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ is used to serve CIAM application 2. </p><p>Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI, or  similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Pre internal application load balancers</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p style="font-weight: normal;"><MadCap:variable name="okta-feature-names.Access Gateway" /> as a load balancer between <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the protected applications.</p><p style="font-weight: normal;">Configured per CIAM application.</p><p style="font-weight: normal;">See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p><span id="code">comsumer-app1.example.com</span>(not shown)</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p>URL represen<MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>ting one of the applications a web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body2">Protected application<br /></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body2">The set of protected web resources, accessed using the <span class="url">consumer-app1.internal-example.com</span> URLs. The traditional or historic application <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the <span class="uicontrol">Protected Web Resource</span> field within each application definition. </td></tr></tbody></table><div><h2>Other considerations</h2><div><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-dns.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div><p>Not shown in this architecture are the data centers housing architecture components. </p></div></div></div> <!-- End tab 3--><div class="tabs-panel" id="tab4"><div style="background-color: #f7f7f7;"><p>The hybrid multi-cluster split <MadCap:variable name="okta-feature-names.Access Gateway" /> is an architecture representing the components required for protecting multiple sets of  web resources, with different requirements, using <MadCap:variable name="okta-feature-names.Access Gateway" />. It combines the single cluster <MadCap:variable name="okta-feature-names.Access Gateway" />  and single split cluster architecture by introducing an <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster split across clusters and multiple virtual environments.  </p><div><p> This architecture is designed to meet the following requirements:</p><ul><li>Secure access to multiple applications - Accessible to the external internet.</li><li>Provide support for applications with diverse and varying load conditions.</li><li>Provide fault tolerance -  Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" />, as cluster workers, such that if one is unavailable the cluster continues to perform normally. </li><li>Manage capacity - Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> to handle expected load. </li></ul></div><div><h2>Benefits and drawbacks</h2><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><ul><li>Supports multiple applications, with varying needs.</li><li>Provides basic fault tolerance and capacity support</li><li>Can be expanded with additional workers as required to add additional capacity</li><li>Load balanced</li></ul></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><ul><li>Complex</li><li>Multiple virtual environments</li><li>Requires multiple load balancers</li><li>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> DMZ based load balancer must support session affinity (sticky sessions)</li></ul> </td></tr></tbody></table></div><h2>Architecture</h2><p><img src="../../Resources/Images/access-gateway/ref-arch-ciam-3.png" id="img_new" class="thumbnail" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location </p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="3" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>External internet</p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Web client</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Firewall</p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>External internet to DMZ</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="10" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Internal network</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Balances load between clients and the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Positioned between clients and  <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.<br />Access by administrators within the internal network.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> environment one</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ, used to serve CIAM&#160;application 1.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> environment two</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ is used to serve CIAM application 2. <br /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> environment three</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ is used to serve CIAM application 3. <br />Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> application load balancers</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p style="font-weight: normal;"><MadCap:variable name="okta-feature-names.Access Gateway" /> as a load balancer between <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the protected applications.<br />Configured per CIAM application.<br />See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><span id="code">comsumer-app1.example.com</span>(not shown)</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>URL representing one of the applications a web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Protected application<br /></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">The set of protected web resources, accessed using the <span id="code">consumer-app1.internal-example.com</span> URLs. The traditional or historic application <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the <span class="uicontrol">Protected Web Resource</span> field within each application definition. </td></tr></tbody></table><div><h2>Other considerations</h2><div><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-dns.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div><p>Not shown in this architecture are the data centers housing architecture components. </p></div></div></div> <!-- End tab 4--><div class="tabs-panel" id="tab99"><div style="background-color: #f7f7f7;"><p>The multi-cluster <MadCap:variable name="okta-feature-names.Access Gateway" /> architecture represents the components required for protecting multiple sets of  web resources, with different requirements, using <MadCap:variable name="okta-feature-names.Access Gateway" />. It extends the single cluster <MadCap:variable name="okta-feature-names.Access Gateway" />   architecture by using multiple <MadCap:variable name="okta-feature-names.Access Gateway" /> clusters distributed across multiple virtual environments.  </p><div><p> This architecture is designed to meet the following requirements:</p><ul><li>Secure access to multiple applications - Accessible to the external internet.</li><li>Provide support for applications, with diverse and varying load conditions, distributed over multiple areas or geographies.</li><li>Provide fault tolerance -  Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" />, as cluster workers, such that if one is unavailable the cluster continues to perform normally. </li><li>Manage capacity - Providing additional instances of <MadCap:variable name="okta-feature-names.Access Gateway" /> to handle expected load. </li></ul></div><div><h2>Benefits and drawbacks</h2><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Benefits</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Drawbacks</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1"><ul><li>Supports multiple applications, with varying needs over multiple geographies</li><li>Provides basic fault tolerance and capacity support</li><li>Can be expanded with additional workers as required to add additional capacity</li><li>Load balanced</li></ul></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1"><ul><li>Very complex</li><li>Multiple virtual environments</li><li>Requires multiple load balancers</li><li>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> DMZ based load balancer must support session affinity (sticky sessions)</li></ul> </td></tr></tbody></table></div><h2>Architecture</h2><p><img src="../../Resources/Images/access-gateway/ref-arch-ciam-4.png" id="img_new" class="thumbnail" /></p><h3>Components</h3><table style="mc-table-style: url('../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0"><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><col class="TableStyle-srb_header_alt_shade-Column-Column1" /><thead><tr class="TableStyle-srb_header_alt_shade-Head-Header1"><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1"><p>Location </p></th><th class="TableStyle-srb_header_alt_shade-HeadF-Column1-Header1">Component</th><th class="TableStyle-srb_header_alt_shade-HeadD-Column1-Header1">Description</th></tr></thead><tbody><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="3" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>External internet</p> </td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Web client</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-client-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Okta org</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-okta-description.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Okta org Universal Directory</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/reference-arch-desc-oktaud.flsnp" /></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Firewall</p></td><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>External internet to DMZ</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Traditional firewall between the external internet and the DMZ hosting <MadCap:variable name="okta-feature-names.Access Gateway" />.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td rowspan="10" class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p>Internal network</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p>Pre <MadCap:variable name="okta-feature-names.Access Gateway" /> load balancer</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>Balances load between clients and the <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster. <br />Positioned between clients and  <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><MadCap:variable name="okta-feature-names.Access Gateway" /> admin node, in any of the data centers handling configuration, configuration backups, log forwarding and similar activities.<br />Access by administrators within the internal network.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> environment one</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ, used to serve CIAM&#160;application 1.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> environment two</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ is used to serve CIAM application 2. </p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> environment three</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><MadCap:variable name="okta-feature-names.Access Gateway" /> instances, located in the DMZ is used to serve CIAM application 3 and 4. <br />Typically hosted in a virtual environment such as Amazon Web Services, MS&#160;Azure, Oracle OCI or something similar. See <MadCap:xref href="manage-deployment.htm">Manage [%=okta-feature-names.Access Gateway%] deployment</MadCap:xref>.</td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1">Pre internal <MadCap:variable name="okta-feature-names.Access Gateway" /> application load balancers</td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1"><p style="font-weight: normal;"><MadCap:variable name="okta-feature-names.Access Gateway" /> as a load balancer between <MadCap:variable name="okta-feature-names.Access Gateway" /> cluster and the protected applications.<br />Configured per CIAM application.<br />See <MadCap:xref href="about-oag-load-balancers.htm">About [%=okta-feature-names.Access Gateway%] load balancing</MadCap:xref>.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body2"><td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2"><p><span id="code">comsumer-app1.example.com</span>(not shown)</p></td><td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2"><p>URL representing one of the applications a web client would enter to access one of the applications secured by <MadCap:variable name="okta-feature-names.Access Gateway" />. Typically all URLs of this nature are served by, and resolve to, the <MadCap:variable name="okta-feature-names.Access Gateway" /> instance.</p></td></tr><tr class="TableStyle-srb_header_alt_shade-Body-Body1"><td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Protected application<br /></td><td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">The set of protected web resources, accessed using the <span id="code">consumer-app1.internal-example.com</span> URLs. The traditional or historic application <MadCap:variable name="okta-feature-names.Access Gateway" /> interacts with using the <span class="uicontrol">Protected Web Resource</span> field within each application definition. </td></tr></tbody></table><div><h2>Other considerations</h2><div><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-dns.flsnp" /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/ref-arch-other-considerations-syslog.flsnp" /></div><p>Not shown in this architecture are the data centers housing architecture components. </p></div></div></div> <!-- End tab99--></div>
        <!-- End tabs-content div-->
        <div>
            <h2>Related topics</h2>
            <p>
                <MadCap:xref href="ref-arch-flow-dep.htm">Common [%=okta-feature-names.Access Gateway%] flows</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="about-oag-dns.htm">About [%=okta-feature-names.Access Gateway%] DNS use</MadCap:xref>
            </p>
            <p>
                <MadCap:xref href="about-high-availability.htm">About [%=okta-feature-names.Access Gateway%] high availability</MadCap:xref>
            </p>
            <p><a href="about-oag-prereqs.htm">About [%=okta-feature-names.Access Gateway%] prerequisites</a>
            </p>
        </div>
    </body>
</html>