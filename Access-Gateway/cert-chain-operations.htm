<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/cert-chain-operations.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Certificate chain operations</h1>
        <p class="earlyaccess">Certificate validation behavior is an Early Access feature. To enable it, contact <a href="https://support.okta.com/help/s/">Okta Support</a>.</p>
        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/AvailSince2021-01.flsnp" />
        <p>The following certificate chain operations are supported:</p>
        <ul>
            <li MadCap:conditions="Primary.do-not-publish">
                <MadCap:xref href="#View">View a certificate chain</MadCap:xref>
            </li>
            <li><a href="#Add">Add a client certificate chain</a>
            </li>
            <li>
                <MadCap:xref href="#Delete">Delete a certificate or an entire certificate chain</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#ShowHide">Show/hide certificate chain details</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Manage">Manage CRL settings</MadCap:xref>
            </li>
        </ul>
        <p MadCap:conditions="Primary.do-not-publish">At the <MadCap:variable name="okta-feature-names.Access Gateway CMD" /> main menu enter <span class="code">c - Client certificate chains</span> to enter the client certificate chain submenu. </p>
        <div MadCap:conditions="Primary.do-not-publish">
            <h2><a name="View"></a>View a certificate chain</h2>
            <p>Certificate chains can be navigated, displaying details of the selected level. For example, the root, an intermediate, or entity certificate can be selected and viewed. </p>
            <p>To view existing certificate chains:</p>
            <ol>
                <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-common.flsnp" />
                <li>Select a certificate chain and press <span class="uicontrol">enter</span>. Use the <span class="uicontrol">i/k</span> keys to scroll the list up or down and display additional entries. For example, to view the details of Cert chain one enter [<span class="uicontrol">1</span>] followed by [<span class="uicontrol">cr</span>]. <br /><p>The selected certificate chain will then be displayed and resemble:</p><![CDATA[
]]><span class="codeblock">Details for Cert Chain One &gt;&gt; Intermediate Cert &gt;&gt; Entity Cert
--------------------------------------------------------------
    Subject name: Entity Cert
    Issuer: Certificate issuer
    Status: active
	Valid from: Apr 3 12:59:48 2020 GMT
	    to: Apr 3 12:59:48 2022 GMT

CRL Details
-----------
    CRL url: http: / / onsitecrl . trustwise.com/OrigoSecureInternetServicesLtdOrigoRootCAG3/LatestCRL.cr1
	Last download time: Nov 16 10:00 : 00 2020 GMT
	
[1]: Intermediate Cert
[d]: Delete
[x]: Exit
[d,x,#]
			</span></li>
                <li>To select an intermediate or entity certificate, using the arrow keys select the certificate, and then click <span class="uicontrol">enter</span>.<br />				use the <span class="uicontrol">PgUp</span>/<span class="uicontrol">PgDn</span> keys to scroll the certificate list up or down as required.
</li>
            </ol>
        </div>
        <h2><a name="Add"></a>Add a client certificate chain</h2>
        <p>To add a new client certificate chain:</p>
        <ol>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-common.flsnp" />
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-add-list-items.flsnp" />
        </ol>
        <div>
            <h2><a name="Delete"></a>Delete a certificate or an entire certificate chain</h2>
            <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-delete-overview.flsnp" MadCap:conditions="Primary.do-not-publish" />
            <h3 MadCap:conditions="Primary.do-not-publish">Delete entire certificate chains</h3>
            <p>To delete an entire certificate chain:</p>
            <ol>
                <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-common.flsnp" />
                <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/certificate-chain-delete-selected.flsnp" />
            </ol>
            <div MadCap:conditions="Primary.do-not-publish">
                <h3>Delete certificates from within a certificate chain</h3>
                <p>To delete a specific element in a certificate chain.</p>
                <ol>
                    <li>Navigate to a specific certificate chain element as described in <a href="#View">View a certificate chain.</a></li>
                    <li>Using the arrow keys select a specific certificate chain element.</li>
                    <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/certificate-chain-delete-selected.flsnp" />
                </ol>
            </div>
        </div>
        <div>
            <h2><a name="ShowHide"></a>Show/hide certificate chain details</h2>
            <p>You can display certificate chains either with a minimum of information, showing only the root certification, or detailed information, where the  root, intermediate, and entity certificates are shown.				The default setting hides the certificate chain details.</p>
            <p>To toggle certificate chain details:</p>
            <ol>
                <li>Connect to the admin instance <MadCap:variable name="okta-feature-names.Access Gateway CMD" />.<br /><span class="codeblock">ssh oag-mgmt@[admin.tld]</span></li>
                <li>Select <span class="uicontrol">c - Client certificate chains</span>.<br /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-main-menu.flsnp" /><br /></li>
                <li>Enter <span class="uicontrol">s</span> to show details, <span class="uicontrol">h</span> to hide details or <span class="uicontrol">x</span> to exit and return to the prior menu.</li>
                <li>The certificate chain menu displays either simple or complete details depending on the selection.</li>
            </ol>
        </div>
        <div>
            <h2><a name="Manage"></a>Manage CRL settings</h2>
            <p>To manage the certificate revocation list settings:</p>
            <ol>
                <li>Connect to the admin instance <MadCap:variable name="okta-feature-names.Access Gateway CMD" />.<br /><span class="codeblock">ssh oag-mgmt@[admin.tld]</span></li>
                <li>Select <span class="uicontrol">c - Client certificate chains</span>.<br /><MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/cert-chain-main-menu.flsnp" /></li>
                <li>
                    <p>Select  <span class="uicontrol">c - Manage CRL settings</span>. </p><span class="codeblock">CRL settings...
Access Gateway will download a new CRL every:
3 hours
Access Gateway will cache the CRL for:
24 hours
[e] Edit settings
[x] Exit

</span>
                </li>
                <li>Enter <span class="uicontrol">e - Edit settings </span>or <span class="uicontrol">x</span> to exit and return to the prior menu.<br />The Edit CRL settings process will begin, requiring you to enter both a download interval and cache period.<br /><span class="uicontrol">Note</span> the default values are download every 6 hours, expire cache every 24hrs.
<span class="codeblock">Edit CRL settings...
How often do you want Access Gateway to download new CRLs?
Note: must be in hours. Maximum is 24 hrs. Examples, 3,6, 24.

Download frequency in hours[6]:
</span></li>
                <li><span class="uicontrol">Download frequency in hours [x]</span>: Enter a value greater then 0 and less than or equal to 24, or <span class="uicontrol">x</span> to exit without making any changes. Note the current value is displayed in brackets.  <br />You will be prompted to enter a cache expiration length. Invalid values will require reentry. <span class="uicontrol">[Ctrl-c]</span> can be used to cancel the edit. <br /><![CDATA[
]]><span class="codeblock">How long should we cache CRLs?
Note: Must be in hours. Maximum is 72 hrs.  Examples 3,4,24.

Caching period in hours[24]:
</span></li>
                <li><span class="uicontrol">Cache duration</span>: Enter the length of time to cache the certificate revocation list or <span class="uicontrol">x</span> to exit without making any changes. </li>
                <li>Changes are saved and the new values displayed.</li>
                <li>Press <span class="uicontrol">e</span> to re-edit, or <span class="uicontrol">x</span> to return to the prior menu. </li>
            </ol>
        </div>
        <h2>Related topics</h2>
        <p><a href="task-define-application-behaviors.htm#ClientCertValidation">Client Certificate Validation Behavior</a>
        </p>
        <p>
            <MadCap:xref href="command-line-console-reference.htm">Command Line Management Console reference</MadCap:xref>
        </p>
    </body>
</html>