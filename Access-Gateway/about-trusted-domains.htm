<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/about-trusted-domains.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>About trusted domains</h1>
        <p>The primary function of <MadCap:variable name="okta-feature-names.Access Gateway" /> is to proxy and redirect application requests. In certain scenarios, it is possible for redirects to occur, which are not authorized by <MadCap:variable name="okta-feature-names.Access Gateway" />. To prevent unauthorized redirects, <MadCap:variable name="okta-feature-names.Access Gateway" /> provides support for trusted domains. When enabled, trusted domain support checks all redirects to determine if the requested redirect is to a known or trusted domain. If the domain is trusted, then the redirect occurs without concern. However, if the domain is not in the trusted domain list, then the redirect is blocked and an error shown to the user. <br /><MadCap:snippetText src="../../Resources/Snippets/access-gateway/AvailSince2020-08.flsnp" /></p>
        <div class="noteOkta">
            <img src="../../Resources/Images/assets/Icons/Notes/Help.png" class="noteImgFloat" title="Important Note" alt="Important Note" />
            <p class="noteContent">When enabled, <MadCap:variable name="okta-feature-names.Access Gateway" /> only used trusted domains to examine redirects into <MadCap:variable name="okta-feature-names.Access Gateway" />. Protected resource redirects may still occur and are outside the control of core <MadCap:variable name="okta-feature-names.Access Gateway" />.</p>
        </div>
        <h2>Process flow</h2>
        <table style="width: 100%;">
            <col />
            <tbody>
                <tr>
                    <td>
                        <img src="../../Resources/Images/access-gateway/trusted-domains-process.png" id="img_new" />
                    </td>
                </tr>
                <tr>
                    <td>
                        <p>Process flow (known trusted domain):</p>
                        <ol>
                            <li>Request is send to <MadCap:variable name="okta-feature-names.Access Gateway" />.</li>
                            <li><MadCap:variable name="okta-feature-names.Access Gateway" /> examines the request against the list of known trusted domains. Determines domain is "trusted".<br />Note:Trusted domains are synchronized with the client Okta org.</li>
                            <li><MadCap:variable name="okta-feature-names.Access Gateway" /> redirects trusted domain requests to the protected application.</li>
                            <li>Protected application returns request.</li>
                            <li><MadCap:variable name="okta-feature-names.Access&#160;Gateway UI" /> returns requested.</li>
                        </ol>
                        <p style="font-weight: bold;">Process flow (untrusted domain)</p>
                        <ol>
                            <li>Request is send to <MadCap:variable name="okta-feature-names.Access Gateway" />.</li>
                            <li><MadCap:variable name="okta-feature-names.Access Gateway" /> examines the request against the list of known trusted domains. Determines domain is untrusted.<br /></li>
                            <li>
                                <p><MadCap:variable name="okta-feature-names.Access Gateway" /> returns an error to the client. <br /></p>
                            </li>
                        </ol>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Managing trusted domains</h2>
        <p>You can use the <a href="command-line-console-reference.htm#ManageTrustedDomains">Manage Trusted Domains</a> in the <MadCap:variable name="okta-feature-names.Access Gateway CMD" /> to enable or disable the <MadCap:variable name="okta-feature-names.Access Gateway" /> trusted domain feature and view the list of trusted domains.<br /></p>
        <p>Trusted domains may be:</p>
        <ul>
            <li>Enabled - When trusted domains are enabled, only redirects are checked against the known list of trusted domains. <br />Redirects to other domains result in an error similar to:<br /><img src="../../Resources/Images/access-gateway/about-trusted-domains.00.png" id="img_new" alt="Error message when an attempt is made to redirect to a untrusted domain. " /></li>
            <li>Disabled - When trusted domains are disabled redirects occur normally but are not checked against the known list of trusted origins.</li>
        </ul>
        <div class="noteOkta">
            <p class="noteContent">Trusted domains are enabled by default in <MadCap:variable name="okta-feature-names.Access Gateway" /> deployments of v2020.8.3 and later. <br />Trusted domains are disabled by default when upgrading from earlier versions to maintain existing system behavior. </p>
        </div>
        <p>The list of trusted domains includes:</p>
        <MadCap:snippetBlock src="../../Resources/Snippets/access-gateway/trusted-domains-manage.flsnp" />
        <h3>Related topics</h3>
        <ul>
            <li><a href="command-line-console-reference.htm#ManageTrustedDomains">Manage Trusted Domains</a> in <a href="command-line-console-reference.htm">Access Gateway Management console reference</a>.</li>
        </ul>
    </body>
</html>