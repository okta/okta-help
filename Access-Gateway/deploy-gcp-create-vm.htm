<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
    <head>
        <link rel="canonical" href="https://help.okta.com/oag/en-us/Content/Topics/Access-Gateway/deploy-gpc-create-vm.htm" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <h1>Create a VM from an image stored in Google Cloud Platform</h1>
        <ul class="tabs" data-tabs="data-tabs" data-deep-link="true" id="production-tabs">
            <li class="tabs-title is-active"><a href="#console-panel" aria-selected="true">Console</a>
            </li>
            <li class="tabs-title"><a href="#command-panel">Command Line</a>
            </li>
        </ul>
        <div class="tabs-content" data-tabs-content="production-tabs">
            <div class="tabs-panel is-active" id="console-panel">
                <p>Currently, you can't use the console to create a VM from an imported image. Select the <span class="uicontrol">Command Line</span> tab to use the Google Cloud command-line interface to create a virtual machine.</p>
            </div>
            <div class="tabs-panel" id="command-panel">
                <div>
                    <ol>
                        <li>Run this command to set a compute zone:
						<p><span class="code">gcloud config set compute/zone &lt;zone&gt;</span></p></li>
                        <li>Run this command to create a Compute Engine image:
						<p><span class="code" xml:space="preserve">gcloud compute images create &lt;image-name&gt; --source-uri &lt;filepath&gt;</span></p><p>&#160;<ul><li><span class="code">&lt;image-name&gt;</span> is the name of the image.</li><li><span class="code">&lt;filepath&gt;</span>&#160;is the complete path to the image tar.gz file.</li></ul></p><p>In this example, replace <span class="code">&lt;image-name&gt;</span> with <span class="code">my-image-name</span>, and <span class="code">&lt;filepath&gt;</span> with <span class="code">gs://my-bucket-name/my-tar-file-name.tar.gz</span>:</p><p><span class="codeblock" xml:space="preserve">gcloud compute images create my-image-name --source-uri gs://my-bucket-name/my-tar-file-name.tar.gz</span></p></li>
                    </ol>
                </div>
            </div>
        </div>
        <h3>Create an instance of the VM</h3>
        <p>Perform the following steps to create and launch an instance of the VM:</p>
        <ol>
            <li>
                <p>Click <span class="uicontrol">Compute Engine</span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Images</span>.</p>
            </li>
            <li>
                <p>Click <span class="uicontrol">Create Instance</span>. and give a name.</p>
            </li>
            <li>
                <p>Enter a name for the instance.</p>
            </li>
            <li>
                <p>Specify the region and the zone.</p>
            </li>
            <li>
                <p>Choose the default machine configuration. Select one or both of <span class="uicontrol">Allow HTTP&#160;traffic</span> and <span class="uicontrol">Allow HTTPS traffic</span> under <span class="wintitle">Firewall</span>.</p>
            </li>
        </ol>
        <div>
            <p>See 
			<a href="https://cloud.google.com/compute/docs/instances/create-start-instance">Creating and starting a VM instance</a> for more details on using VMs in Google Cloud.</p>
        </div>
    </body>
</html>