<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:conditions="MultiProdPublish.Classic+OIE"
      MadCap:fileTags="Tags/okta-authors.Nikita Apraj">
   <head>
      <title>Delegated Authentication | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="Delegated Authentication provides users with a simplified authentication experience by making their Okta credentials the same as their AD credentials."/>
   </head>
   <body>
      <h1 MadCap:conditions="MultiProdPublish.Classic">
         <MadCap:annotation MadCap:createDate="2020-09-09T21:44:48.3055311-06:00"
                            MadCap:creator="InfoDev"
                            MadCap:initials="IN"
                            MadCap:comment="Bandaid edits to address/resolve https://oktainc.atlassian.net/browse/OKTA-291956"
                            MadCap:editor="InfoDev"
                            MadCap:editDate="2020-09-09T21:45:58.5889897-06:00">Delegated</MadCap:annotation> authentication</h1>
      <h1 MadCap:conditions="MultiProdPublish.OIE">
         <a name="Enable"/>Enable delegated authentication</h1>
      <p MadCap:conditions="MultiProdPublish.Classic">Delegated authentication allows users to sign in to <MadCap:variable name="okta-variables.ProductName"/> by entering credentials for their organization's Active Directory (AD), Windows networked single sign-on (SSO), or user stores that employ the Lightweight Directory Access Protocol (LDAP). </p>
      <p MadCap:conditions="MultiProdPublish.OIE">Delegated authentication allows users to sign in to <MadCap:variable name="okta-variables.ProductName"/> by entering credentials for their organization's Active Directory (AD). </p>
      <p>
         <MadCap:xref href="#Enabling">Enable AD delegated authentication</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="#Enable2">Enable desktop single sign-on</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="#Enable3">Enable LDAP delegated authentication</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="#View">View Del Auth system log information</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="#Just">Just In Time provisioning</MadCap:xref>
      </p>
      <h2>
         <a name="Enabling"/>Enable AD delegated authentication</h2>
      <p>
         <span class="uicontrol">Prerequisite</span>: Integrate your AD instance with <MadCap:variable name="okta-variables.ProductName"/>. See <MadCap:xref href="../Directory/ad-agent-manage-integration.htm">Manage your Active Directory integration</MadCap:xref>.</p>
      <p> Use the following procedure if you have NOT enabled <span class="uicontrol">New Import and Provisioning Settings Experience for Active Directory</span> on the <span class="wintitle">Settings</span> page.</p>
      <ol>
         <li>On the <MadCap:variable name="okta-variables.ProductName"/> Admin Console, click <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Directory Integrations</span>
            </span>. </li>
         <li>Select an AD instance.</li>
         <li>Click the <span class="uicontrol">Provisioning</span> tab and then click <span class="uicontrol">Integration</span> under Settings.</li>
         <li>Select <span class="uicontrol">Enable delegated authentication to Active Directory</span> in the <span class="uicontrol">Delegated Authentication</span> section.</li>
         <li>Optional. Test the delegated authentication settings:</li>
      </ol>
      <ol style="list-style-type: lower-alpha;margin-left: 55px;">
         <li>Click <span class="uicontrol">Test Delegated Authentication</span>.</li>
         <li>Enter an AD username and password and click <span class="uicontrol">Authenticate</span>.</li>
         <p>The value entered in the <span class="uicontrol">AD Username</span> field is the Universal Principal Name (UPN) with the Active Directory (AD) domain name as the suffix. For example, if the AD domain name is <code>oktaad.com</code>, the AD Username UPN would include the suffix @oktaad.com. If you do not include the AD domain name suffix, delegated authentication fails.</p>
         <li>Click <span class="uicontrol">Close</span> when authentication completes.</li>
      </ol>
      <ol start="5">
         <li>Click <span class="uicontrol">Save Settings</span>.</li>
      </ol>
      <p>Use this procedure if you have enabled <span class="uicontrol">New Import and Provisioning Settings Experience for Active Directory</span> on the <span class="wintitle">Settings</span> page.</p>
      <ol>
         <li>On the <MadCap:variable name="okta-variables.ProductName"/> Admin Console, click <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Directory Integrations</span>
            </span>.</li>
         <li>Select an AD instance.</li>
         <li>Click the <span class="wintitle">Provisioning</span> tab and select <span class="uicontrol">Integration</span> in the <span class="uicontrol">Settings</span> list.</li>
         <li>Scroll to <span class="uicontrol">Delegated Authentication</span> and select <span class="uicontrol">Enable delegated authentication to Active Directory</span>.</li>
         <li>Optional. Test the delegated authentication settings:</li>
      </ol>
      <ol style="list-style-type: lower-alpha;margin-left: 55px;">
         <li>Click <span class="uicontrol">Test Delegated Authentication</span>.</li>
         <li>Enter an AD username and password and click <span class="uicontrol">Authenticate</span>.</li>
         <li>Click <span class="uicontrol">Close</span> when authentication completes.</li>
      </ol>
      <ol start="6">
         <li>Click <span class="uicontrol">Save</span>.</li>
      </ol>
      <h2>
         <a name="Enable2"/>Enable desktop single sign-on</h2>
      <p MadCap:conditions="MultiProdPublish.Classic">Desktop SSO allows users to be automatically authenticated by <MadCap:variable name="okta-variables.ProductName"/>, and any apps accessed through <MadCap:variable name="okta-variables.ProductName"/>, whenever they sign into your Windows network. The <MadCap:variable name="okta-variables.ProductName"/> IWA Web App uses Microsoft IWA and ASP.NET to authenticate users from specified gateway IPs. See <MadCap:xref href="../Directory/Configuring_Desktop_SSO.htm">Install and configure the [%=okta-variables.ProductName%] IWA Web agent for Desktop Single Sign-on</MadCap:xref>.</p>
      <p MadCap:conditions="MultiProdPublish.OIE">Desktop SSO allows users to be automatically authenticated by <MadCap:variable name="okta-variables.ProductName"/>, and any apps accessed through <MadCap:variable name="okta-variables.ProductName"/>, whenever they sign into your Windows network. See <MadCap:xref href="../Directory/ad-desktop-sso-main.htm">Active Directory Desktop Single Sign-on</MadCap:xref>.</p>
      <h2>
         <a name="Enable3"/>Enable LDAP delegated authentication</h2>
      <p>Enable delegated authentication if you want LDAP to authenticate your users when they sign in to <MadCap:variable name="okta-variables.ProductName"/>. </p>
      <p>Prerequisite: Install and configure the Okta LDAP agent. See <MadCap:xref href="../Directory/ldap-agent-manage-integration.htm">Manage your LDAP integration</MadCap:xref>.</p>
      <ol>
         <li>On the <MadCap:variable name="okta-variables.ProductName"/> Admin Console, click <span class="menucascade">
               <span class="uicontrol">Security</span>
               <span class="uicontrol">Delegated Authentication</span>
            </span>. </li>
         <li>Click the <span class="wintitle">LDAP</span> tab.</li>
         <li>In <span class="uicontrol">Delegated Authentication</span>, click <span class="uicontrol">Edit</span>.</li>
         <li>Select <span class="uicontrol">Enable delegated authentication to LDAP</span>.</li>
         <li>Optional. Test the delegated authentication settings:</li>
      </ol>
      <ol style="list-style-type: lower-alpha;margin-left: 55px;">
         <li>Click <span class="uicontrol">Test Delegated Authentication</span>.</li>
         <li>Enter an LDAP username and password and click <span class="uicontrol">Authenticate</span>.</li>
         <li>Click <span class="uicontrol">Close</span> when authentication completes.</li>
      </ol>
      <ol start="6">
         <li>Click <span class="uicontrol">Save</span>.</li>
      </ol>
      <h3>Allow end users to change or reset their LDAP passwords</h3>
      <p>You can allow your end users to change their LDAP passwords in <MadCap:variable name="okta-variables.ProductName"/>. When a user's password expires, they are prompted to change them the next time they attempt to sign into <MadCap:variable name="okta-variables.ProductName"/>.</p>
      <p>End users can change their passwords from their Home page by clicking the drop down menu by their name, then <span class="menucascade">
            <span class="uicontrol">Settings</span>
            <span class="uicontrol">Account</span>
            <span class="uicontrol">Change Password</span>
         </span>.</p>
      <p>This feature requires <MadCap:variable name="okta-variables.ProductName"/> LDAP Agent version 5.3.0 or later. This feature works with any LDAP distribution that correctly sets the <span class="code">pwdReset</span> attribute to <span class="code">TRUE</span> when a password is expired (for example, OpenLDAP and IBM) 5.3.0. Make sure to uninstall any pre-5.3.0 versions of the agent before you install version 5.3.0 or higher. For agent installation  instructions, see <MadCap:xref href="../Directory/ldap-agent-main.htm">
            <MadCap:xref href="../Directory/ldap-agent-manage-integration.htm">Manage your LDAP integration</MadCap:xref>
         </MadCap:xref>.</p>
      <ol>
         <li>On the <MadCap:variable name="okta-variables.ProductName"/> Admin Console, click <span class="menucascade">
               <span class="uicontrol">Security</span>
               <span class="uicontrol">Delegated Authentication</span>
            </span>.</li>
         <li>Click the <span class="wintitle">LDAP</span> tab.</li>
         <li>In <span class="uicontrol">Delegated Authentication</span>, click <span class="uicontrol">Edit</span>.</li>
         <li>Select <span class="uicontrol">Enable delegated authentication to LDAP</span>.</li>
         <li>Under LDAP Password Policy, select <span class="uicontrol">Users can change their LDAP passwords in <MadCap:variable name="okta-variables.ProductName"/>
            </span>.</li>
         <li>In the <span class="uicontrol">Password Rules Message</span> field, describe the password policy rules that your end users must follow when changing their passwords.</li>
         <li>Select <span class="uicontrol">Users can reset forgotten LDAP passwords in <MadCap:variable name="okta-variables.ProductName"/>
            </span>.</li>
      </ol>
      <p style="margin-left: 45px;"> When you create or import and activate new users, they are prompted for a secondary email address on their <span class="uicontrol">Welcome</span> page. After end users enter an address, they receive a confirmation email asking them to verify the change. </p>
      <p style="margin-left: 45px;">If end users forget their passwords, or their LDAP account gets locked from too many failed sign in attempts, they can click the <span class="menucascade">
            <span class="uicontrol">Need Help signing in?</span>
            <span class="uicontrol">Forgot password or unlock account</span>
         </span> link on the <MadCap:variable name="okta-variables.ProductName"/>  Sign-In Widget to reset their password using email or SMS.</p>
      <ul>
         <li style="margin-left: 45px;">
            <span class="uicontrol">Reset via email:</span> End users enter their username or email address and then click the <span class="uicontrol">Send Email</span> button. Users then receive an account password reset email that expires in 24 hours. This resets both the user’s <MadCap:variable name="okta-variables.ProductName"/> and LDAP passwords. For users who click the <span class="uicontrol">Forgot password?</span> link because an account was locked, this changes their LDAP password and unlocks their account.</li>
         <li style="margin-left: 45px;">
            <span class="uicontrol">Reset via SMS</span>: End users enter their username or email address and then click the <span class="uicontrol">Send Text Message</span> button. This prompts a text message containing a password reset code. Once received, users enter the code from their phone and continue through the prompts to reset their passwords</li>
      </ul>
      <ol start="8">
         <li>Click <span class="uicontrol">Save</span>.</li>
      </ol>
      <h2>
         <a name="View"/>View Del Auth system log information</h2>
      <p>To help identify AD delegated authentication bottlenecks, the system log includes information about the duration of each delegated authentication (Del Auth) request. The system log  includes times in milliseconds for:</p>
      <ul>
         <li>
            <span class="uicontrol">delAuthTimeTotal</span> — The total time spent for Del Auth in <MadCap:variable name="okta-variables.ProductName"/>. This time consists of the total time at the agent and the queue wait time in <MadCap:variable name="okta-variables.ProductName"/> before an agent starts processing the request. The queue wait times can be high if there are not enough agents to serve requests.</li>
         <li>
            <span class="uicontrol">delAuthTimeSpentAtAgent</span> — The total time the agent spent processing the request. This includes the time spent at the Domain Controller.</li>
         <li>
            <span class="uicontrol">delAuthTimeSpentAtDomainController</span> — The time spent at the Domain Controller.</li>
      </ul>
      <p>
         <span class="uicontrol">Note</span>: AD agent version <span class="uicontrol">3.1.0</span> or higher is required for this feature. </p>
      <ol>
         <li>On the <MadCap:variable name="okta-variables.ProductName"/> Admin Console, click <span class="menucascade">
               <span class="uicontrol">Directory</span>
               <span class="uicontrol">Directory Integrations</span>
            </span>.</li>
         <li MadCap:conditions="MultiProdPublish.Classic">Select an AD or LDAP instance.</li>
         <li MadCap:conditions="MultiProdPublish.OIE">Select an AD instance.</li>
         <li>Click <span class="uicontrol">View Logs</span> at the top of the page.</li>
      </ol>
      <h2>
         <a name="Just"/>Just In Time provisioning</h2>
      <p>For details about Just In Time (JIT) provisioning with:</p>
      <ul>
         <li>Active Directory, see <MadCap:xref href="../Directory/ad-agent-add-update-JIT.htm">Add and update users with Active Directory Just-In-Time provisioning</MadCap:xref>.</li>
         <li>Desktop SSO, see  <MadCap:xref href="../Settings/settings-customization-general.htm">Configure general customization settings</MadCap:xref>.</li>
      </ul>
      <p>When JIT is enabled for your org and delegated authentication is selected for your AD or LDAP integration, JIT is used to create user profiles and import user data.</p>
      <h2 MadCap:conditions="MultiProdPublish.Classic">Related topics</h2>
      <p MadCap:conditions="MultiProdPublish.Classic">
         <MadCap:xref href="policies/about-password-policies.htm">About password policies</MadCap:xref>
      </p>
      <p MadCap:conditions="MultiProdPublish.Classic">
         <MadCap:xref href="../users-groups-profiles/usgp-manage-password-reset.htm">Manage self-service password reset</MadCap:xref>
      </p>
      <p MadCap:conditions="MultiProdPublish.Classic">
         <MadCap:xref href="mfa/mfa-home.htm">Multifactor Authentication (MFA)</MadCap:xref>
      </p>
   </body>
</html>
