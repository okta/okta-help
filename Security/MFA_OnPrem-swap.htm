<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:conditions="MultiProdPublish.OIE"
      MadCap:fileTags="Tags/okta-authors.Patrick Calnan">
   <head>
      <title>[%=Heading.Level1%] | Okta</title>
      <meta name="description"
            content="Set up Okta's On-Prem MFA agent to secure access to on-premises applications."/>
   </head>
   <body>
      <div MadCap:conditions="MultiProdPublish.Classic">
         <h1>Swap On-Prem MFA/RSA SecurID</h1>
         <p>Before swapping, you must have previously configured RSA SecurID or On-Prem MFA.</p>
         <div MadCap:conditions="Primary.do-not-publish">
            <h2>Swap factors</h2>
            <p>Swapping On-Prem MFA/RSA SecurID requires:</p>
            <ol>
               <li>Disabling the existing factor. </li>
               <li>Configuring replacement factor.</li>
            </ol>
            <h3>Disable existing factor</h3>
            <div>
               <ol>
                  <li>Sign in to your Okta tenant as an administrator.</li>
                  <li>Navigate to <span class="menucascade">
                        <span class="uicontrol">Security</span>
                        <span class="uicontrol">Multifactor</span>
                     </span>.</li>
                  <li>Select the <span class="uicontrol">Factor Types</span> tab.</li>
                  <li>For the previously configured factor, either <span class="uicontrol">On-Prem MFA</span> or <span class="uicontrol">RSASecurID</span> click <span class="uicontrol">Edit</span>.
                  </li>
                  <li>Click <span class="uicontrol">Deactivate</span>.</li>
                  <li>Click <span class="uicontrol">Save</span> to complete the deactivation, or <span class="uicontrol">Cancel</span> to cancel. </li>
               </ol>
            </div>
         </div>
         <div class="noteOkta">
            <p class="noteContent">When Swapping an On-Prem MFA or RSASecurID authenticator you will be prompted to disable the existing authenticator, if still enabled. </p>
         </div>
         <h2>Configure replacement factor</h2>
         <div>
            <div>
               <ol>
                  <li>Sign in to your Okta tenant as an administrator.</li>
                  <li>Navigate to <span class="menucascade">
                        <span class="uicontrol">Security</span>
                        <span class="uicontrol">Multifactor</span>
                     </span>.</li>
                  <li>Select the <span class="wintitle">Factor Types</span> tab.</li>
                  <li>Select either <span class="uicontrol">On-Prem MFA</span> or <span class="uicontrol">RSASecurID</span>.</li>
                  <li>Click <span class="uicontrol">Edit</span>.</li>
                  <p MadCap:conditions="Primary.do-not-publish">The <span class="uicontrol">On-Prem MFA</span> factor is not selectable at this time, unless you have set up this factor previously. Select either the RSA SecurID link or the Custom link to continue; the boxes are not selectable, unless you have set up the factor previously.</p>
               </ol>
            </div>
            <div class="noteOkta">
               <p class="noteContent">When configuring a replacement authentication, note that all configuration, with the exception of shared secret, is copied forward to the new authenticator. </p>
            </div>
            <h3>Configure On-prem MFA replacement</h3>
            <div>
               <MadCap:snippetBlock src="../../Resources/Snippets/integrations/config-rsa-on-prem-config-onprem.core.flsnp"/>
            </div>
            <h3>Configure RSA SecurID replacement</h3>
            <div>
               <MadCap:snippetBlock src="../../Resources/Snippets/integrations/config-rsa-on-prem-config-rsa.core.flsnp"/>
            </div>
         </div>
         <div MadCap:conditions="Primary.do-not-publish">
            <h2>Next steps</h2>
            <p>
               <MadCap:xref href="MFA_OnPrem-disable-ssl-pinning.htm">Disabling SSL Pinning</MadCap:xref>
            </p>
         </div>
      </div>
      <p MadCap:conditions="Primary.do-not-publish">OIE content below </p>
      <div MadCap:conditions="MultiProdPublish.OIE">
         <h1>Swap On-Prem MFA/RSA SecurID</h1>
         <p>Before swapping, you must have previously configured RSA SecurID or On-Prem MFA.</p>
         <div MadCap:conditions="Primary.do-not-publish">
            <h2>Swap authenticators</h2>
            <p>Swapping On-Prem MFA/RSA SecurID requires:</p>
            <ol>
               <li>Disabling the existing authenticator. </li>
               <li>Configuring replacement authenticator. </li>
            </ol>
            <h3>Disable existing authenticator</h3>
            <div>
               <ol>
                  <li>In a browser, navigate to your Okta Org and sign in as an <span class="uicontrol">Administrator</span>.</li>
                  <li>Click <span class="menucascade">
                        <span class="uicontrol">Security</span>
                        <span class="uicontrol">Authenticators</span>
                     </span>.</li>
                  <li>For the previously configured authenticator, either <span class="uicontrol">On-Prem MFA</span> or <span class="uicontrol">RSASecurID</span>, click <span class="menucascade">
                        <span class="uicontrol">Actions</span>
                        <span class="uicontrol">Edit</span>
                     </span>.
                  </li>
                  <li>In the Agents section click <span class="uicontrol">Deactivate</span>.</li>
                  <li>Click <span class="uicontrol">Save</span> to complete the deactivation, or <span class="uicontrol">Cancel</span> to cancel. </li>
               </ol>
               <p>For more information see <MadCap:xref href="../identity-engine/authenticators/configure-authenticators.htm">Authenticator configuration</MadCap:xref>.</p>
            </div>
         </div>
         <div class="noteOkta">
            <p class="noteContent">When Swapping an On-Prem MFA or RSASecurID authenticator you will be prompted to disable the existing authenticator, if still enabled. </p>
         </div>
         <h2>Configure replacement authenticator</h2>
         <div>
            <ol>
               <li>In a browser, navigate to your Okta Org and sign in as an administrator.</li>
               <li>Click <span class="menucascade">
                     <span class="uicontrol">Security</span>
                     <span class="uicontrol">Authenticators</span>
                  </span>.</li>
               <li>From the <span class="wintitle">Add Authenticator</span> dialog, select  either <span class="uicontrol">RSA SecurID</span> or  <span class="uicontrol">On-Prem MFA</span>. </li>
               <li MadCap:conditions="Primary.do-not-publish">Select either the RSA SecurID link or the Custom link to continue; the boxes are not selectable, unless you have set up the factor previously.</li>
            </ol>
            <p>Once added, some Authenticators may be further configured from the list of added Authenticators by clicking <span class="menucascade">
                  <span class="uicontrol">Actions</span>
                  <span class="uicontrol">Edit</span>
               </span>. See also <MadCap:xref href="../identity-engine/authenticators/configure-authenticators.htm">Authenticator configuration</MadCap:xref>.</p>
         </div>
         <div class="noteOkta">
            <p class="noteContent">When configuring a replacement authentication, note that all configuration, with the exception of shared secret, is copied forward to the new authenticator. </p>
         </div>
         <h3>Configure On-prem MFA replacement</h3>
         <div>
            <ol>
               <li>Enter the following fields:                  <ul>
                     <li>
                        <span class="uicontrol">Provider name</span>: This is the name that appears to end users during their login challenge.</li>
                     <li>
                        <span class="uicontrol">Username format</span>: Select the format expected by the provider.<br/>
                        <div class="noteOkta" MadCap:conditions="MultiProdPublish.Classic">
                           <p class="noteContent">
                              <span class="uicontrol">Custom</span> is not supported with On-Prem MFA.</p>
                        </div>
                     </li>
                     <li>
                        <span class="uicontrol">Hostname</span>: The server host name or IP address.</li>
                     <li>
                        <span class="uicontrol">Authentication Port</span>: The RADIUS server port (for example 1812). This is defined when the On-Prem RADIUS server is configured.</li>
                     <li>
                        <span class="uicontrol">Shared Secret</span>: An authentication key that must be defined when the RADIUS server is configured, and must be the same on both the RADIUS client and server.</li>
                  </ul>
               </li>
               <li>Click <span class="uicontrol">Add</span>.</li>
               <li>Click  <span class="uicontrol">Add New Agent</span>. Note the value of the instance ID. You're also provided with a download link for the On-prem MFA agent installer.<br/>
               </li>
               <li>
                  <span class="uicontrol">Activate</span> or <span class="uicontrol">Deactivate</span> the authenticator as required.</li>
               <li>Click <span class="uicontrol">Save</span>.</li>
            </ol>
         </div>
         <h3>Configure RSA SecurID replacement</h3>
         <div>
            <MadCap:snippetBlock src="../../Resources/Snippets/integrations/config-rsa-on-prem-config-onprem.rsa.flsnp"/>
         </div>
         <div MadCap:conditions="Primary.do-not-publish">
            <h2>Next steps</h2>
            <p>
               <MadCap:xref href="MFA_OnPrem-disable-ssl-pinning.htm">Disabling SSL Pinning</MadCap:xref>
            </p>
         </div>
      </div>
   </body>
</html>
