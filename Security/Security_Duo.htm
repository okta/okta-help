<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:fileTags="Tags/okta-authors.Nikita Apraj">
    <head><title><MadCap:variable name="3rd Party Integrations.Duo Security" /> for MFA | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Configure Duo Security MFA to utilize Duo as a second factor during user authentication." />
    </head>
    <body>
        <h1><MadCap:variable name="3rd Party Integrations.Duo Security" /> (MFA)</h1>
        <p>You can add <MadCap:variable name="3rd Party Integrations.Duo Security" /> as a multifactor authentication (MFA) option in <MadCap:variable name="okta-variables.ProductName" />. When enabled as a factor, <MadCap:variable name="3rd Party Integrations.Duo Security" /> is the system of record for MFA and <MadCap:variable name="okta-variables.ProductName" /> delegates secondary verification of credentials to your <MadCap:variable name="3rd Party Integrations.Duo Security" /> account.</p>
        <p>If you have a <MadCap:variable name="3rd Party Integrations.Duo Security" /> deployment with existing enrollments, make sure that your <MadCap:variable name="3rd Party Integrations.Duo Security" /> usernames match the <MadCap:variable name="okta-variables.ProductName" /> usernames or email addresses of your <MadCap:variable name="okta-variables.ProductName" /> users. When an end user signs in to <MadCap:variable name="okta-variables.ProductName" /> or accesses an <MadCap:variable name="okta-variables.ProductName" />-protected resource, <MadCap:variable name="okta-variables.ProductName" /> looks up the user in your <MadCap:variable name="3rd Party Integrations.Duo Security" /> account according to the user’s <MadCap:variable name="okta-variables.ProductName" /> username or email address. You can change username mapping as described in this topic.</p>
        <p>Users without an existing <MadCap:variable name="3rd Party Integrations.Duo Security" /> enrollment can enroll themselves when they sign in to <MadCap:variable name="okta-variables.ProductName" />, or through their <MadCap:variable name="3rd Party Integrations.Duo Security" /> account page. Depending on your <MadCap:variable name="okta-variables.ProductName" /> integration settings in <MadCap:variable name="3rd Party Integrations.Duo Security" />, end users can enroll with a smartphone, tablet, telephone, <MadCap:variable name="3rd Party Integrations.Touch ID&#160;(Apple)" />, and security keys. </p>
        <ul>
            <li>
                <MadCap:xref href="#Before">Before you begin</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Add">Add [%=3rd Party Integrations.Duo Security%] as a factor</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#End-user">End-user experience</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#End">End user settings in the Duo Mobile app</MadCap:xref>
            </li>
            <li>
                <MadCap:xref href="#Importan">Important considerations</MadCap:xref>
            </li>
        </ul>
        <h2><a name="Before"></a>Before you begin</h2>
        <p>In <MadCap:variable name="3rd Party Integrations.Duo Security" />, integrate your <MadCap:variable name="3rd Party Integrations.Duo Security" /> account with <MadCap:variable name="okta-variables.ProductName" />.  Integration generates the following values:</p>
        <ul>
            <li>An integration key</li>
            <li>A secret key</li>
            <li>An API hostname</li>
        </ul>
        <p>Record these values and save them for when you add <MadCap:variable name="3rd Party Integrations.Duo Security" /> as a factor.</p>
        <h2><a name="Add"></a>Add <MadCap:variable name="3rd Party Integrations.Duo Security" /> as a factor</h2>
        <ol>
            <li>
                <MadCap:snippetBlock src="../../Resources/Snippets/task steps/Security_Multifactor.flsnp" />
            </li>
            <li>In <span class="wintitle">Factor Types</span>, click <span class="uicontrol"><MadCap:variable name="3rd Party Integrations.Duo Security" /></span>.</li>
            <li>Click <span class="uicontrol">Edit</span> beside <span class="uicontrol"><MadCap:variable name="3rd Party Integrations.Duo Security" /> Settings</span>.</li>
            <li>Enter the values that you generated in <MadCap:variable name="3rd Party Integrations.Duo Security" /> when you integrated with <MadCap:variable name="okta-variables.ProductName" />:<ul><li>Integration key</li><li>Secret key</li><li>API Hostname</li></ul></li>
            <li>Select a <span class="uicontrol"><MadCap:variable name="3rd Party Integrations.Duo Security" /> Username Format</span>:<ul><li><MadCap:variable name="okta-variables.ProductName" /> username</li><li>Email</li></ul></li>
            <li>Click <span class="uicontrol">Save</span>.</li>
            <li>Click <span class="uicontrol">Inactive</span> in the upper right and select <span class="uicontrol">Activate</span>.</li>
        </ol>
        <h2><a name="End-user"></a>End-user experience</h2>
        <p>The end-user experience depends on whether users are already enrolled in <MadCap:variable name="3rd Party Integrations.Duo Security" /> before you configure it as a factor in <MadCap:variable name="okta-variables.ProductName" />.</p>
        <h3>New <MadCap:variable name="3rd Party Integrations.Duo Security" /> enrollments</h3>
        <ol>
            <li>Users who sign in to <MadCap:variable name="okta-variables.ProductName" /> or access an <MadCap:variable name="okta-variables.ProductName" />-protected app are guided to self-enroll in <MadCap:variable name="3rd Party Integrations.Duo Security" />.</li>
            <li>
                The user clicks <span class="uicontrol">Set up</span> and is prompted to select the type of device they're adding. Here's the user experience for two commonly chosen device types:</li>
            <ul>
                <li><span class="uicontrol">Mobile phone:</span> The user is prompted to enter their phone number and select a country and their device type (for example, Android or iOS). The user may also be prompted to receive a text or a phone call to verify their ownership of the phone number. Then the user is prompted to install Duo Mobile or indicate that it's already installed. Lastly, the user is prompted to activate their enrollment by scanning a QR&#160;code or clicking the option <span class="uicontrol">Email me an activation link instead</span>. </li>
                <li><span class="uicontrol"><MadCap:variable name="3rd Party Integrations.Touch ID&#160;(Apple)" />:</span> The user follows onscreen prompts to enroll with <MadCap:variable name="3rd Party Integrations.Touch ID&#160;(Apple)" />. During the flow the user is prompted to scan their fingerprint. Depending on the <MadCap:variable name="okta-variables.ProductName" /> app sign-on policy, the user may also be prompted to set up another a factor, such as <MadCap:variable name="okta-feature-names.Security Question" />.</li>
            </ul>
            <div class="noteOkta">
                <p class="noteContent">After choosing a device during self-enrollment, end users can add devices if the option <span class="uicontrol">Add a new device</span> appears in Duo Mobile settings. To enable that option, the Duo admin must select the <span class="uicontrol">Self-service portal</span> in the Duo Admin Panel.</p>
            </div>
        </ol>
        <h3>Existing <MadCap:variable name="3rd Party Integrations.Duo Security" /> enrollments</h3>
        <ol>
            <li>Users see the <MadCap:variable name="3rd Party Integrations.Duo Security" /> factor as a way to authenticate themselves when they sign in to <MadCap:variable name="okta-variables.ProductName" /> or access an <MadCap:variable name="okta-variables.ProductName" />-protected app.</li>
            <li>The user selects the <MadCap:variable name="3rd Party Integrations.Duo Security" /> option.</li>
            <li>During sign-in, the user may be prompted for additional verification depending on your app sign-on policy or settings in your <MadCap:variable name="3rd Party Integrations.Duo Security" /> deployment. Users verify their identity by selecting an authentication type that their device supports.</li>
        </ol>
        <div>
            <h2><a name="End"></a>End user settings in the Duo Mobile app</h2>
            <p>When enrolling in or authenticating with <MadCap:variable name="3rd Party Integrations.Duo Security" />, users can access the <span class="uicontrol">Settings</span> menu in the Duo Mobile app for the following options:</p>
            <ul>
                <li><span class="uicontrol">Manage Settings &amp; Devices</span>. See <a href="https://guide.duo.com/manage-devices" target="_blank"><MadCap:variable name="3rd Party Integrations.Duo Security" /> documentation</a>.</li>
                <li><span class="uicontrol">Add a new device</span> appears if the Duo admin selected the <span class="uicontrol">Self-service portal</span> option in the Duo Admin Panel. See <a href="https://duo.com/docs/self-service-portal">Duo documentation</a>.</li>
            </ul>
        </div>
        <h2><a name="Importan"></a>Important considerations</h2>
        <ul>
            <li><MadCap:variable name="okta-variables.ProductName" /> denies access to any end user (including <MadCap:variable name="okta-variables.ProductName" /> admins) whose <MadCap:variable name="3rd Party Integrations.Duo Security" /> account is disabled or locked. Depending on your <MadCap:variable name="okta-variables.ProductName" /> app sign-on policy, these end users may not be able to sign in to <MadCap:variable name="okta-variables.ProductName" />-protected resources using a different factor. Also, <MadCap:variable name="okta-feature-names.Okta Support" /> can’t reset <MadCap:variable name="3rd Party Integrations.Duo Security" /> devices for their users. Only a <MadCap:variable name="3rd Party Integrations.Duo Security" /> administrator can reset the status of <MadCap:variable name="3rd Party Integrations.Duo Security" /> accounts. As a best practice, make sure that you have multiple <MadCap:variable name="3rd Party Integrations.Duo Security" /> administrators and that your <MadCap:variable name="okta-variables.ProductName" /> admins have multiple registered devices.</li>
            <li>Resetting a factor in an end user’s <MadCap:variable name="okta-variables.ProductName" /> profile doesn’t reset their account in <MadCap:variable name="3rd Party Integrations.Duo Security" />. Likewise, if users remove <MadCap:variable name="3rd Party Integrations.Duo Security" /> from Extra Verification in their End-User Settings page in <MadCap:variable name="okta-variables.ProductName" />, the enrollment remains in <MadCap:variable name="3rd Party Integrations.Duo Security" />. In this case, to allow the end user to enroll in a different <MadCap:variable name="3rd Party Integrations.Duo Security" /> authentication method, delete their enrollment in the <MadCap:variable name="3rd Party Integrations.Duo Security" /> Admin Panel. Otherwise, the end user is prompted with the same method they were using before the factor was reset in or removed from <MadCap:variable name="okta-variables.ProductName" />.</li>
            <li>If the user is on a Windows device, the <span class="uicontrol"><MadCap:variable name="3rd Party Integrations.Touch ID&#160;(Apple)" /></span> option isn't available in the <MadCap:variable name="3rd Party Integrations.Duo Security" /> app.</li>
            <li><MadCap:variable name="3rd Party Integrations.Duo Security" /> with Push/SMS/Call isn't supported for Amazon Workspaces with RADIUS. Users must enter the one-time passcode from the <MadCap:variable name="3rd Party Integrations.Duo Security" /> app and their primary password to authenticate.</li>
            <li>MFA for RDP&#160;doesn't support the Duo factor.</li>
        </ul>
        <div>
            <h2><a name="Related"></a>Related topics</h2>
            <p><a href="https://duo.com/docs" target="_blank">Duo documentation</a>
            </p>
        </div>
    </body>
</html>