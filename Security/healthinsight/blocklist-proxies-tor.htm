<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:conditions="MultiProdPublish.Classic+OIE" MadCap:fileTags="Tags/okta-authors.Barbara Vo">
    <head>
        <link href="../../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
    </head>
    <body>
        <h1>Blocklist proxies with high sign-in failure rates</h1>
        <p>Tor is open-source software used to enable anonymous communication and hide the location of end users. The software provides user anonymity, but it's often used by attackers to perform malicious activities. A <MadCap:variable name="okta-feature-names.Dynamic Zone" /> let you block IP addresses that are categorized as Tor anonymizer proxies (Tor exit nodes). </p>
        <h2><a name="HealthInsightsecuritytask"></a>HealthInsight task recommendation</h2>
        <p>Create policies to block sign-in attempts from IP addresses with high rates of failure. <MadCap:variable name="okta-variables.ProductName" /> provides information about the IP address of each sign-in attempt, including proxy type. </p>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 411px;" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" />
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" style="font-weight: bold;">Okta recommends</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1">
                        <p>Create a <MadCap:variable name="okta-feature-names.Dynamic Zone" /> for IPs  that are categorized as Tor anonymizer proxies and block access. See <a href="#dynamiczone">Create and configure a Dynamic Zone</a>.</p>
                    </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2" style="font-weight: bold;">Security impact</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                        <p>Moderate</p>
                    </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1" style="font-weight: bold;">End user impact</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                        <p>Low</p>
                        <p>When the failed sign-in rate decreases to below 50%, the HealthInsight recommendation moves from the <span class="wintitle">Incomplete</span> tab to the <span class="wintitle">Complete</span> tab. This might take a few days after you configure the blocklist settings.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="Systemlogquery"></a>System Log query</h2>
        <p>You can run the following query in the <span class="wintitle">System Log</span> page to view a list of all failed sign-in attempts that originated from IP addresses categorized as Tor anonymizer proxies. </p>
        <p><span class="code">eventType eq "user.session.start" and outcome.result eq "FAILURE" and debugContext.debugData.proxyType eq "tor"</span>
        </p>
        <h2><a name="Configuredynamiczoneblock"></a>Configure a Dynamic Zone to block anonymizer proxies<a name="dynamiczone"></a></h2>
        <p>You can use a <MadCap:variable name="okta-feature-names.Dynamic Zone" /> to block IPs that are categorized as Tor anonymizer proxies (Tor exit nodes).</p>
        <ol>
            <li>
                <MadCap:snippetText src="../../../Resources/Snippets/task steps/Security_Networks.flsnp" />
            </li>
            <li>Click <span class="menucascade"><span class="uicontrol">Add Zone</span><span class="uicontrol">Dynamic Zone</span></span> to create a <MadCap:variable name="okta-feature-names.Dynamic Zone" />.</li>
            <li>In <span class="uicontrol">Zone Name</span>, enter a name for the zone.</li>
            <li>To block the zone, select <i style="font-weight: bold; font-style: normal;">Block access from IPs matching conditions listed in this zone</i>.</li>
            <li>In  <span class="uicontrol">IP Type</span>, select <span style="font-style: normal; font-weight: bold;" class="uicontrol">Tor anonymizer proxy</span>.</li>
            <li>Click <span class="uicontrol">Save</span>.</li>
        </ol>
        <div class="noteOkta">
            <p class="noteContent">The accuracy of Tor proxy detection depends on a third-party vendor, which is used to identify IP addresses that use Tor. The proxy type is only used to evaluate whether a proxy is Tor or not.</p>
        </div>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="healthinsight-security-task-recomendations.htm">HealthInsight  tasks and recommendations</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../network/network-zones.htm">About Network Zones</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="../Security_General.htm">General Security</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="blocklist-network-zone.htm">Blocklist Network Zones </MadCap:xref>
        </p>
    </body>
</html>