<?xml version="1.0" encoding="utf-8"?>
<html MadCap:fileTags="Tags/okta-topic-status.Ready for Review" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:onlyLocalStylesheets="False" MadCap:searchable="True" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head>
        <link href="../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Okta custom authorization servers can secure internal API endpoints with OAuth and handle unusual use cases." />
    </head>
    <body><a name="API_Access"></a>
        <h1>Build authorization servers</h1>
        <p>API access management may include building custom authorization servers in <MadCap:variable name="okta-variables.ProductName" />. Use these custom servers to create and apply authorization policies to secure your API endpoints. See <a href="https://developer.okta.com/docs/concepts/auth-servers/#available-authorization-server-types">Available authorization server types</a>.</p>
        <p>An authorization server defines your security boundary, for example “staging” or “production.” Within each authorization server, you can define your own OAuth scopes, claims, and access policies. 
					Your apps and your APIs use a central authorization point to leverage the identity features of <MadCap:variable name="okta-variables.ProductName" />, such as Universal Directory for transforming attributes, controlling adaptive MFA for end-users, logging system events and generating analytic data.</p>
        <p>At its core, an authorization server is simply an engine for minting OAuth 2.0 tokens. 
						Each authorization server has a unique <a href="https://tools.ietf.org/html/rfc7519#section-4.1.1">issuer URI</a>
						and its own signing key for tokens. This keeps a proper boundary between security domains. 
						</p>
        <p>The authorization server also acts as an <a href="http://openid.net/connect/">OpenID Connect Provider</a>, 
						which means you can request <a href="http://openid.net/specs/openid-connect-core-1_0.html#IDToken">ID tokens</a> 
					in addition to <a href="https://tools.ietf.org/html/rfc6749#section-1.4">access tokens</a> from the authorization server endpoints. </p>
        <h2>Before you begin</h2>
        <p>How do you know whether to use <MadCap:variable name="okta-variables.ProductName" />’s Org Authorization Server or a custom authorization server? </p>
        <p>Use a custom server if:</p>
        <ul>
            <li>You need to protect non-<MadCap:variable name="okta-variables.ProductName" /> resources.</li>
            <li>You need different authorization policies that depend on whether the person is an employee, partner, end user, or
					other similar specializations.</li>
        </ul>
        <div class="noteOkta">
            <p class="noteContent"> If your employees, partners, and users can all use the same authentication policies for single sign-on, 
			try the built-in Org Authorization Server.</p>
        </div>
        <p>To manage custom authorization between clients and <MadCap:variable name="okta-variables.ProductName" />: </p>
        <ul>
            <li>Identify the scopes and claims in your client app and register it with <MadCap:variable name="okta-variables.ProductName" />.</li>
            <li>Create one or more authorization servers and define the scopes and claims to match those expected by your app.</li>
        </ul>
        <p>The client app must recognize the scope names and be expecting the
				claims as defined in the authorization server.</p>
        <h2>Procedures</h2>
        <table style="width: 100%;mc-table-style: url('../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
            <col class="TableStyle-standard-Column-Column1" style="width: 390px;" />
            <col class="TableStyle-standard-Column-Column1" />
            <thead>
                <tr class="TableStyle-standard-Head-Header1">
                    <th class="TableStyle-standard-HeadF-Column1-Header1">
                        <p>Task</p>
                    </th>
                    <th class="TableStyle-standard-HeadD-Column1-Header1">
                        <p>Description</p>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">
                        <MadCap:xref href="api-config-auth-server.htm">Create an authorization server</MadCap:xref>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">
                        <p>Use custom authorization servers to manage access between <MadCap:variable name="okta-variables.ProductName" /> and client applications.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">
                        <MadCap:xref href="api-config-scopes.htm">Create API access scopes </MadCap:xref>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">Scopes represent high-level operations that can be performed on your API endpoints.</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">
                        <MadCap:xref href="api-config-claims.htm">Create API access claims</MadCap:xref>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">Token claims are statements about the subject,  or another subject, for example name, role, or email address.</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">
                        <MadCap:xref href="api-config-access-policies.htm">Create API access policies</MadCap:xref>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">Access policies control what, and in which ways, clients can use the authorization server.</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">
                        <p>
                            <MadCap:xref href="api-config-test.htm">Test your configuration</MadCap:xref>
                        </p>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">
                        <p>Issue API calls to test the authorization server. You can also preview tokens.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">
                        <p>
                            <MadCap:xref href="api-rotate-keys.htm">Rotate signing keys</MadCap:xref>
                        </p>
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">
                        <p>Keys are rotated automatically by default. However, if needed, you can set an authorization server to allow administrators to rotate keys manually.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyC-Column1-Body1">
                        <p>
                            <MadCap:xref href="api-delete-auth-server.htm">Delete an authorization server</MadCap:xref>
                        </p>
                    </td>
                    <td class="TableStyle-standard-BodyA-Column1-Body1">
                        <p>How to delete a server.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="API-rate-limits.htm">API rate limits</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="API-trusted-origins.htm">Configure Trusted Origins</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="API.htm">API token management</MadCap:xref>
        </p>
    </body>
</html>