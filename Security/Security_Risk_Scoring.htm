<?xml version="1.0" encoding="utf-8"?>
<html MadCap:onlyLocalStylesheets="False" MadCap:fileTags="Tags/release-state.Beta,Tags/okta-authors.Robert Milkovich" MadCap:searchable="True" MadCap:conditions="MultiProdPublish.Classic+OIE" xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head><title>[%=Heading.Level1%]</title>
        <link href="" rel="stylesheet" type="text/css" />
        <meta name="description" content="Configure Risk Scoring to set up a rule engine to identify potentially malicious sign-in events and protect company resources." />
    </head>
    <body>
        <h1><a name="top"></a>Risk scoring</h1>
        <p>Risk scoring uses a data-driven risk engine to determine whether a sign-in event is likely to represent malicious activity. <MadCap:variable name="okta-variables.ProductName" /> assigns a risk level to each sign-in attempt by evaluating information such as the following:</p>
        <ul>
            <li>The IP address used to make the sign-in request</li>
            <li>Behavioral information about the user who made the sign-in request</li>
            <li>Previous successful and failed sign-in attempts</li>
            <li>Routing information associated with the request</li>
        </ul>
        <p>Using this information, you can configure custom sign-on policies for different scenarios based on the risk level. If a sign-in attempt is identified as  "high" risk, you can configure the sign-on policy to require extra authentication  before granting access.</p>
        <p>The risk engine automatically identifies all new user sign-on attempts as "high" risk events. With each subsequent successful sign-in attempt, the risk engine gathers more information about the user’s sign-in activity and patterns and evaluates subsequent sign-in attempts relative to this baseline.</p>
        <div class="noteOkta" MadCap:conditions="MultiProdPublish.OIE">
            <p class="noteContent">For accurate risk evaluation and mitigation, trusted apps must send a valid <span class="code">deviceToken</span> to <MadCap:variable name="okta-variables.ProductName" />.</p>
        </div>
        <p>Risk scoring is designed to complement and not replace existing security tools. Don't use it for the following activities:</p>
        <ul>
            <li>Substitute bot management or automation detection</li>
            <li>Replace web application firewalls</li>
            <li>Assist with any type of security compliance</li>
        </ul>
        <h2><a name="Systemlog"></a>Risk-related information in System Log events</h2>
        <p>System Log events record information about how the risk level was determined for each authentication attempt. For example, the risk level for a sign-in event might be based on any combination of the following factors:</p>
        <ul>
            <li>Anomalous location</li>
            <li>Anomalous device</li>
            <li>Suspected threat based on <MadCap:variable name="okta-feature-names.Okta ThreatInsight" /> detection</li>
        </ul>
        <p>To see details about the risk evaluation for an event, go to <span class="code">DebugContext</span> and <span class="code">DebugData</span>. </p>
        <p>
            <img src="../../Resources/Images/Security/DebugData-risk.png" alt="Risk evaluation in the System Log under DebugData." class="thumbnail" />
        </p>
        <p>In this example, the risk level for this sign-in attempt is <span class="wintitle">MEDIUM</span> because the user signed in using a new device, as indicated by <span class="wintitle">reasons=Anomalous Device</span>.</p>
        <p>You might notice that the <span class="wintitle">ThreatSuspected</span> field is <span class="wintitle">false</span> even though the risk level is <span class="wintitle">MEDIUM</span>. If this sign-in attempt was from an IP address suspected of potentially malicious activity, the  <span class="wintitle">ThreatSuspected</span> field would display <span class="wintitle">true</span>. </p>
        <p>You can also query the System Log to view all events with a specific risk level. For example, to see a list of events identified as <span class="wintitle">MEDIUM</span> risk level, you can filter the System Log using the following query: </p>
        <p><span class="code">debugContext.debugData.risk eq "{level=MEDIUM}"</span>
        </p>
        <p>To see a list of events identified as HIGH risk level, you can filter the System Log using the following query: </p>
        <p><span class="code">debugContext.debugData.risk eq "{level=HIGH}"</span>
        </p>
        <p>To see a list of events identified as LOW risk level, you can filter the System Log using the following query: </p>
        <p><span class="code">debugContext.debugData.risk eq "{level=LOW}"</span>
        </p>
        <p MadCap:conditions="MultiProdPublish.Classic">By default, <MadCap:variable name="okta-variables.ProductName" /> evaluates all sign-in requests for risk and changes in user behavior. The results of the risk and behavior evaluation are added to the <span class="wintitle">DebugContext</span> section in the System Log in the <span class="wintitle">LogOnlySecurityData</span> field. See <MadCap:xref href="risk-behavior-eval.htm">Risk and behavior evaluation</MadCap:xref>.</p>
        <p MadCap:conditions="MultiProdPublish.OIE">By default, <MadCap:variable name="okta-variables.ProductName" /> evaluates all sign-in requests for risk and changes in user behavior. The results of the risk and behavior evaluation are added to the <span class="wintitle">DebugContext</span> section in the System Log in the <span class="wintitle">LogOnlySecurityData</span> field. See <MadCap:xref href="../identity-engine/oie-risk-behavior-eval.htm">Risk and behavior evaluation</MadCap:xref>.</p>
        <h2><a name="Configureriskscoring"></a>Configure risk scoring</h2>
        <p>You can add risk scoring as a condition for any application or <MadCap:variable name="okta-variables.ProductName" /> sign-on policy rule by setting the <span class="uicontrol">AND Risk is</span> field for a rule to <span class="uicontrol">Low</span>, <span class="uicontrol">Medium</span>, or <span class="uicontrol">High</span>. The risk level is set to <span class="uicontrol">Any</span> by default.</p>
        <p>Follow these steps to configure risk scoring.</p>
        <ol>
            <li MadCap:conditions="MultiProdPublish.Classic">Create an <MadCap:variable name="okta-variables.ProductName" /> sign-on policy and configure the rule for it:</li>
            <li MadCap:conditions="MultiProdPublish.OIE">Create an <MadCap:variable name="okta-variables.ProductName" /> global session policy and configure the rule for it:</li>
            <ul>
                <li style="text-align: left;" MadCap:conditions="MultiProdPublish.Classic"> See <MadCap:xref href="policies/configure-signon-policies.htm">Configure an [%=okta-variables.ProductName%] sign-on policy</MadCap:xref>.</li>
                <li style="text-align: left;" MadCap:conditions="MultiProdPublish.OIE"> See <MadCap:xref href="../identity-engine/policies/create-okta-sign-on-policy.htm">Create a global session policy</MadCap:xref>.</li>
            </ul>
            <li MadCap:conditions="MultiProdPublish.Classic">Create an app sign-on policy and configure the rule for it.</li>
            <li MadCap:conditions="MultiProdPublish.OIE">Create an authentication policy and configure the rule for it.</li>
            <ul>
                <li MadCap:conditions="MultiProdPublish.Classic">See <MadCap:xref href="policies/configure-app-signon-policies.htm">Configure an app sign-on policy</MadCap:xref>.</li>
                <li MadCap:conditions="MultiProdPublish.OIE">See <MadCap:xref href="../identity-engine/policies/add-app-sign-on-policy-rule.htm">Add an [%=okta-feature-names.app sign-on policy%] rule</MadCap:xref>.</li>
            </ul>
            <li>Select the <span class="uicontrol">AND Risk is</span> condition, then select a risk level and save the rule. <MadCap:conditionalText MadCap:conditions="Primary.review-only">Note that the risk level you select applies only to events with the same risk level.</MadCap:conditionalText></li>
        </ol>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="threat-insight/about-threatinsight.htm">About [%=okta-feature-names.Okta ThreatInsight%]</MadCap:xref>
        </p>
        <p>
            <MadCap:xref href="behavior-detection/about-behavior-detection.htm">About Behavior Detection</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.OIE">
            <MadCap:xref href="../identity-engine/oie-risk-behavior-eval.htm">Risk and behavior evaluation</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.Classic">
            <MadCap:xref href="risk-behavior-eval.htm">Risk and behavior evaluation</MadCap:xref>
        </p>
    </body>
</html>