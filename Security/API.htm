<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd"
      MadCap:onlyLocalStylesheets="False"
      MadCap:searchable="True"
      MadCap:fileTags="Tags/okta-authors.Nikita Apraj"
      MadCap:conditions="MultiProdPublish.Classic+OIE">
   <head>
      <title>Manage Okta API Tokens | Okta</title>
      <link href="" rel="stylesheet" type="text/css"/>
      <meta name="description"
            content="API security lets Okta admins manage and create API tokens to authenticate requests to the Okta API and build custom authentication solutions for internal apps."/>
   </head>
   <body>
      <a name="Security_API"/>
      <h1>
         <a name="top"/>API token management</h1>
      <p>Use the API page to manage and create all Okta API tokens and to add origin URLs. For additional information on Okta APIs, see the <a href="https://developer.okta.com/documentation/">Okta Developer Site</a>.</p>
      <a name="apiTokens"/>
      <p>API tokens are used to authenticate requests to the Okta API just like HTTP cookies authenticate requests to the Okta Application with your browser. An API token is issued for a specific user and all requests with the token act on behalf of the user. API tokens are secrets and should be treated like passwords.</p>
      <p>API tokens are generated with the permissions of the user that created the token. If a user’s permissions change, then so do the token’s. Super admins, org admins, group admins, group membership admins, and read-only admins may create tokens.</p>
      <div class="noteOkta">
         <img src="../../Resources/Images/assets/Icons/Notes/Help.png"
              class="noteImgFloat"
              title="Important Note"
              alt="Important Note."/>
         <p class="noteContent">Tokens are valid only if the user who created them is active. Tokens issued by deactivated users are rejected. To avoid service interruptions, Okta recommends generating API tokens using a service account that won’t be deactivated and with super admin permissions that won’t change. </p>
      </div>
      <p>API tokens are valid for 30 days and automatically renew every time they're used with an API request. When a token has been inactive for more than 30 days, it's revoked and can't be used again. </p>
      <p>Okta Agents are also issued API tokens during installation, which they use to access your Okta organization. While these tokens are similar to the standard API token, they're managed by Okta.</p>
      <p>Use the API token page to manage all Okta API tokens. Agent tokens are managed when you activate, deactivate, or reactivate an agent.</p>
      <p>Agent tokens are displayed on this page for your review, and to highlight any security issues that might arise with them. Most agents use a token. The token setup is handled automatically when you activate or reactivate an agent. This list of tokens contains Okta token usage information for your organization. </p>
      <ul>
         <li>
            <p>
               <MadCap:xref href="#create-okta-api-token">Create Okta API tokens</MadCap:xref>
            </p>
         </li>
         <li>
            <p>
               <MadCap:xref href="#Set">Set token rate limits (optional)</MadCap:xref>
            </p>
         </li>
         <li>
            <p>
               <MadCap:xref href="#View">View all tokens</MadCap:xref>
            </p>
         </li>
         <li>
            <p>
               <MadCap:xref href="#View2">View by token type</MadCap:xref>
            </p>
         </li>
         <li>
            <p>
               <MadCap:xref href="#Track">Track in the System Log</MadCap:xref>
            </p>
         </li>
      </ul>
      <h3>
         <a name="create-okta-api-token"/>Create Okta API tokens</h3>
      <p>To create your own token to authenticate with Okta APIs:</p>
      <ol>
         <li>
            <p>In the Admin Console, go to <span class="menucascade">
                  <span class="uicontrol">Security</span>
                  <span class="uicontrol">API</span>
               </span>.
            </p>
         </li>
         <li>
            <p>Click <span class="uicontrol">Tokens</span> and then <span class="uicontrol">Create Token</span>.</p>
         </li>
         <li>Enter a token <span class="uicontrol">Name</span> and then click <span class="uicontrol">Create Token</span>.</li>
         <li>Optional. Click <span class="uicontrol">Copy to clipboard</span> (<img src="../../Resources/Images/okta-assets/icon_copy.png"
                 title="Copy token"
                 alt="Copy token"
                 style="vertical-align: baseline;max-height: 20px;max-width: auto;"/>).<div class="noteOkta">
               <img src="../../Resources/Images/assets/Icons/Notes/Help.png"
                    class="noteImgFloat"
                    title="Important Note"
                    alt="Important Note"/>
               <p class="noteContent">The only time you can view and copy the token is during the creation process. After the token is created, it's stored as a hash for your protection. Treat API tokens like passwords. You might want to capture an image of it for future reference, but be sure to store it in a secure place. </p>
            </div>
         </li>
      </ol>
      <h3>
         <a name="Set"/>
         <a name="Concurre"/>Set token rate limits (optional)</h3>
      <p>When API tokens are created using the Admin Console, rate limits for token interactions are set automatically to 50 percent of each API maximum limit. See <MadCap:xref href="API-rate-limits.htm">API rate limits</MadCap:xref>. You can adjust this percentage for each token. </p>
      <ol>
         <li>On the <span class="wintitle">API Tokens</span> page, click <span class="uicontrol">Edit Token</span> (<img src="../../Resources/Images/okta-assets/icon.edit.png"
                 alt="Modify attribute(pencil) icon"
                 style="vertical-align: bottom;max-width: auto;max-height: 20px;"
                 class=""
                 title="Edit token"/>) for the token you want.</li>
         <li>In the <span class="wintitle">Token rate limits</span> section, click <span class="uicontrol">Edit</span>.</li>
         <li>
            <p>Adjust the slider to the desired percentage.</p>
         </li>
         <li>
            <MadCap:snippetBlock src="../../Resources/Snippets/task steps/Click_Save.flsnp"/>
         </li>
      </ol>
      <h3>
         <a name="View"/>View all tokens</h3>
      <p>All tokens are displayed when you open the API tokens page. The token status, type, name, use, and creation, expiration, and last used dates for all agent and API tokens are shown. To sort the display, choose a sort from the <span class="uicontrol">Sort</span> by dropdown menu.</p>
      <p>The following color codes are used to show the token status.</p>
      <ul>
         <li>Green – the token has been used within the last three days.</li>
         <li>Gray – the token hasn't been used in the last three days, and today is at least seven days before its expiration date.</li>
         <li>Red – the token is within seven days of expiring.</li>
         <li>Yellow – the token is suspicious.
        <p>A suspicious token is associated with an agent that isn't registered in Okta. Normal agent deployments don't create suspicious tokens.</p>
            <p>Recommendation: Investigate suspicious tokens. Click the token name and review the provisioning for the associated agent. If the agent isn't registered in Okta or if you have deactivated it without reactivating it, you can revoke and delete the token from this page.</p>
         </li>
      </ul>
      <h3>
         <a name="View2"/>View by token type</h3>
      <p>Select any token type from the list on the left to limit the display to that token type. Most of the categories are types of tokens. Also, the suspicious tokens category contains tokens that are associated with an agent that isn't registered in Okta.</p>
      <p>To find a single token, enter the token value and then select <span class="uicontrol">Find Token</span>.</p>
      <p>The number of tokens for a particular type is always shown. This list is dynamic and changes as the token count and type changes.</p>
      <h3>Revoke tokens</h3>
      <p>To revoke a token, click the trash icon at the right of the token information. The icon isn't always active:</p>
      <ul>
         <li>Agent tokens are revocable if the agent isn't active; otherwise, you must deactivate the agent before revoking the token. Some agents such as the Okta AD Agent automatically revoke their tokens for you when you deactivate the agent.</li>
         <li>API tokens are always revocable.</li>
      </ul>
      <h3>
         <a name="Track"/>Track in the System Log</h3>
      <p>The System Logs contain information about API token creation and revocation. The message associated with these operations is either API token created or API token revoked. In the System Log v1, which is only accessible through the <a href="https://developer.okta.com/docs/api/resources/system_log.html"
            target="_blank">Okta API</a>, the category for these events is token lifecycle. </p>
      <p>If a token is revoked by the same user who created it, the actor and target contain the same information. If an admin who didn't create the token revokes it, the actor and target contain different information.</p>
      <a name="api_rate_limiting"/>
      <h2>Related topics</h2>
      <p>
         <MadCap:xref href="API_Access.htm">API Access Management</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="API-trusted-origins.htm">Configure Trusted Origins</MadCap:xref>
      </p>
      <p>
         <MadCap:xref href="API-rate-limits.htm">API rate limits</MadCap:xref>
      </p>
   </body>
</html>
