<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:fileTags="Tags/okta-authors.Barbara Vo" MadCap:conditions="MultiProdPublish.Classic+OIE">
    <head>
        <link href="../../../Resources/TableStyles/standard-shaded-rows.css" rel="stylesheet" MadCap:stylesheetType="table" />
        <link href="../../../Resources/TableStyles/standard.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>[%=Heading.Level1%] | Okta</title>
    </head>
    <body>
        <h1>Dynamic zones</h1>
        <p>Use dynamic zones to define network perimeters based on location, IP address type, and autonomous system number (ASN).</p>
        <h2><a name="Location"></a>Location</h2>
        <p>A location is either a country or a country and region. If you don't include a region, the entire country is considered. You can specify a single location, multiple locations, or no location for a dynamic zone. When the location isn't defined, all locations are considered to be within that dynamic zone. A single dynamic zone can't include two locations that contain each other, such as US and California, US.</p>
        <div class="noteOkta">
            <p class="noteContent">Continents aren't used as region definitions. The Europe (EU) and Asia/Pacific (AP) codes are used only if you don't select a country code. To include all the countries in Europe or in Asia/Pacific, choose each individual country. If you choose Europe or Asia/Pacific and don't specify individual countries, the geolocation provider returns only requests from countries that don't have a designated country code. Used alone, Europe and Asia/Pacific are treated as generic codes for undesignated regions.</p>
        </div>
        <p>Locations are determined based on the IP address of the request using MaxMind as the geolocation provider. To learn about issues with location accuracy or information about how country and region codes are used, see <a href="https://www.maxmind.com/en/home" target="_blank">MaxMind</a> and <a href="https://dev.maxmind.com/geoip/legacy/codes">GeoIP Legacy Codes</a>. </p>
        <h3>Examples of valid locations</h3>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/standard-shaded-rows.css');" class="TableStyle-srb_header_alt_shade" cellspacing="0">
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 641px;" />
            <col class="TableStyle-srb_header_alt_shade-Column-Column1" style="width: 1048px;" />
            <tbody>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body1" style="text-align: left;background-color: #f5f5f5;">Location</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body1" style="text-align: left;background-color: #f5f5f5;">Entry</td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body2">
                    <td class="TableStyle-srb_header_alt_shade-BodyF-Column1-Body2">Country</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyD-Column1-Body2">
                        <p>US</p>
                    </td>
                </tr>
                <tr class="TableStyle-srb_header_alt_shade-Body-Body1">
                    <td class="TableStyle-srb_header_alt_shade-BodyC-Column1-Body1">Country and Region (enter as one per line)</td>
                    <td class="TableStyle-srb_header_alt_shade-BodyA-Column1-Body1">
                        <p>California, US</p>
                        <p>Quebec, CA</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <p>In China, the universal ISO standard for region codes and country code changed. The update resulted in discrepancies between the new codes and the codes that are displayed in <MadCap:variable name="okta-variables.ProductName" />. To prevent issues, edit any affected dynamic zones.</p>
        <h2><a name="IP"></a>IP address type</h2>
        <p>The IP type determines if the request is from a proxy and if so, which type of proxy the request is from. The IP type is determined based on the IP of the request using Neustar. For issues with IP type accuracy,  contact Neustar directly. See <a href="https://www.home.neustar/" target="_blank">Neustar</a>. Define one IP type  for a dynamic zone.</p>
        <table style="width: 100%;mc-table-style: url('../../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
            <col class="TableStyle-standard-Column-Column1" style="width: 641px;" />
            <col class="TableStyle-standard-Column-Column1" style="width: 1048px;" />
            <tbody>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="text-align: left;background-color: #f5f5f5;">IP Type
                    </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1" style="text-align: left;background-color: #f5f5f5;">Description
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">Any</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">
                        <p>All IP types are considered to be within the dynamic zone.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1">Any proxy</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1">
                        <p>Requests that come from any anonymizing proxy, including Tors and non-Tors, are considered to be within the dynamic zone.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2">Tor anonymizer proxy</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2">
                        <p>Requests that come from Tor anonymizing proxies are considered to be within the dynamic zone.</p>
                    </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyC-Column1-Body1">Not Tor anonymizer proxy</td>
                    <td class="TableStyle-standard-BodyA-Column1-Body1">
                        <p>Requests that come from non-Tor anonymizing proxies are considered to be within the dynamic zone.</p>
                    </td>
                </tr>
            </tbody>
        </table>
        <h2><a name="ASN"></a>Autonomous system number</h2>
        <p>Autonomous system numbers (ASN) are used to uniquely identify each network on the internet. Internet service providers (ISP) can apply to obtain one or multiple ASNs assigned to them. While an ISP name can change, their assigned ASN is reserved and immutable. One ASN, multiple ASNs, or no ASNs can be defined for a network zone. If no ASN is provided, all ASNs are considered to be within the dynamic zone. </p>
        <p>Since the ASN represents an entire network of IP addresses, specifying an ASN can help you reduce overhead as an alternative to entering a list of multiple IP addresses. You can use online ASN lookup tools to find the ASN for a given IP address.  For an example of an ASN lookup tool, see <a href="" target="_blank"><a href="https://dnschecker.org/asn-whois-lookup.php">DNSChecker</a></a>.</p>
        <h2><a name="Dynamic"></a>Dynamic zone evaluation</h2>
        <p><MadCap:variable name="okta-variables.ProductName" /> verifies whether the dynamic zone configuration  matches the location, proxy type, and ASN of the IP where the request originates.</p>
        <ul>
            <li>
                <p>If the IP chain of the request contains one IP address, <MadCap:variable name="okta-variables.ProductName" /> resolves the location, proxy type, or ASN. Okta compares these values to the dynamic zone configuration to determine if the request came from that dynamic zone.</p>
            </li>
        </ul>
        <p>If the IP chain of the request contains more than one IP address, <MadCap:variable name="okta-variables.ProductName" /> attempts to identify the client IP where the request originated.</p>
        <h3><a name="IdentifyClientOrigin"></a>How to identify the originating client IP</h3>
        <p>To identify the originating client IP for the request, the IP chain of the request is evaluated and compared to all proxy IPs defined in all IP zones for that org.</p>
        <ul>
            <li>If the IP address to the right of the IP chain isn't defined as a proxy, it's marked as the client IP.</li>
            <li>If the IP address to the right of the IP chain is a proxy IP, evaluation of the next IP address to the left takes place until an IP that isn't a proxy is discovered. This IP is marked as the client IP.</li>
            <li>After the client IP is determined, the geolocation, proxy type, and ASN for that IP are resolved and compared with the configured geolocation, proxy type, and ASN values for that zone. If the values match, the request comes from inside that zone.</li>
        </ul>
        <h3>Dynamic&#160;zone evaluation example</h3>
        <table style="border-spacing: 5px 5px;border-top-left-radius: 1px;border-top-right-radius: 1px;border-bottom-right-radius: 1px;border-bottom-left-radius: 1px;border-left-style: solid;border-left-width: 1px;border-left-color: #d3d3d3;border-right-style: solid;border-right-width: 1px;border-right-color: #d3d3d3;border-top-style: solid;border-top-width: 1px;border-top-color: #d3d3d3;border-bottom-style: solid;border-bottom-width: 1px;border-bottom-color: #d3d3d3;mc-table-style: url('../../../Resources/TableStyles/standard.css');" class="TableStyle-standard" cellspacing="0">
            <col class="TableStyle-standard-Column-Column1" />
            <col class="TableStyle-standard-Column-Column1" />
            <col class="TableStyle-standard-Column-Column1" />
            <tbody>
                <tr class="TableStyle-standard-Body-Body1">
                    <td style="background-color: #f5f5f5;font-size: 12pt;" class="TableStyle-standard-BodyF-Column1-Body1">IP&#160;Chain </td>
                    <td style="background-color: #f5f5f5;font-size: 12pt;" class="TableStyle-standard-BodyF-Column1-Body1">All proxies defined for the org</td>
                    <td style="background-color: #f5f5f5;font-size: 12pt;" class="TableStyle-standard-BodyD-Column1-Body1">Client IP where the request originated</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">Empty </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">2.2.2.2</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">Empty</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">2.2.2.2 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">2.2.2.2 </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1</td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">3.3.3.3 </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">2.2.2.2 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2 </td>
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">2.2.2.2 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2, 3.3.3.3</td>
                    <td class="TableStyle-standard-BodyF-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">3.3.3.3, 2.2.2.2</td>
                    <td class="TableStyle-standard-BodyD-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body2">
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2, 3.3.3.3</td>
                    <td class="TableStyle-standard-BodyF-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">3.3.3.3 </td>
                    <td class="TableStyle-standard-BodyD-Column1-Body2" style="font-size: 12pt;background-color: #ffffff;">2.2.2.2 </td>
                </tr>
                <tr class="TableStyle-standard-Body-Body1">
                    <td class="TableStyle-standard-BodyC-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">1.1.1.1, 2.2.2.2, 3.3.3.3</td>
                    <td class="TableStyle-standard-BodyC-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">4.4.4.4</td>
                    <td class="TableStyle-standard-BodyA-Column1-Body1" style="font-size: 12pt;background-color: #ffffff;">3.3.3.3 </td>
                </tr>
            </tbody>
        </table>
        <h2>Related topics</h2>
        <p>
            <MadCap:xref href="network-zones.htm">Network zones</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.OIE">
            <MadCap:xref href="../../identity-engine/network/create-dynamic-zone.htm">Create a dynamic zone</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.Classic">
            <MadCap:xref href="create-dynamic-zone.htm">Create a dynamic zone</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.Classic">
            <MadCap:xref href="define-geolocation-dynamic-zone.htm">Define geolocation for a dynamic zone</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.Classic">
            <MadCap:xref href="define-ip-dynamic-zone.htm">Define IP types for a dynamic zone</MadCap:xref>
        </p>
        <p MadCap:conditions="MultiProdPublish.Classic">
            <MadCap:xref href="define-asn-dynamic-zone.htm">Include autonomous system numbers for dynamic zones</MadCap:xref>
        </p>
    </body>
</html>